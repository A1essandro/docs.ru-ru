---
title: Работа с календарями
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET Framework], calendars
- calendars, global applications
- global applications, calendars
- world-ready applications, calendars
- international applications [.NET Framework], calendars
- culture, calendars
ms.assetid: 0c1534e5-979b-4c8a-a588-1c24301aefb3
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 6fca25786096ebeb97c133d306129f33f2bb4580
ms.sourcegitcommit: c7f3e2e9d6ead6cc3acd0d66b10a251d0c66e59d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/08/2018
ms.locfileid: "44181054"
---
# <a name="working-with-calendars"></a><span data-ttu-id="1e41c-102">Работа с календарями</span><span class="sxs-lookup"><span data-stu-id="1e41c-102">Working with calendars</span></span>

<span data-ttu-id="1e41c-103">Несмотря на то что значение даты и времени обозначает момент во времени, его строковое представление зависит от конкретного языка и региональных параметров. На него влияют как принятые стандарты обозначения даты и времени, так и используемый календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-103">Although a date and time value represents a moment in time, its string representation is culture-sensitive and depends both on the conventions used for displaying date and time values by a specific culture and on the calendar used by that culture.</span></span> <span data-ttu-id="1e41c-104">В этом разделе описывается поддержка календарей в .NET и обсуждается использование классов календарей при работе со значениями даты.</span><span class="sxs-lookup"><span data-stu-id="1e41c-104">This topic explores the support for calendars in .NET and discusses the use of the calendar classes when working with date values.</span></span>

## <a name="calendars-in-net"></a><span data-ttu-id="1e41c-105">Календари в .NET</span><span class="sxs-lookup"><span data-stu-id="1e41c-105">Calendars in .NET</span></span>

<span data-ttu-id="1e41c-106">Всех календарей в .NET являются производными от <xref:System.Globalization.Calendar?displayProperty=nameWithType> класс, который предоставляет базовую реализацию календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-106">All calendars in .NET derive from the <xref:System.Globalization.Calendar?displayProperty=nameWithType> class, which provides the base calendar implementation.</span></span> <span data-ttu-id="1e41c-107">Одним из классов, наследующих от класса <xref:System.Globalization.Calendar>, является класс <xref:System.Globalization.EastAsianLunisolarCalendar> — базовый класс для всех лунно-солнечных календарей.</span><span class="sxs-lookup"><span data-stu-id="1e41c-107">One of the classes that inherits from the <xref:System.Globalization.Calendar> class is the <xref:System.Globalization.EastAsianLunisolarCalendar> class, which is the base class for all lunisolar calendars.</span></span> <span data-ttu-id="1e41c-108">.NET включает следующие реализации календарей:</span><span class="sxs-lookup"><span data-stu-id="1e41c-108">.NET includes the following calendar implementations:</span></span>

* <span data-ttu-id="1e41c-109"><xref:System.Globalization.ChineseLunisolarCalendar>. Представляет китайский лунно-солнечный календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-109"><xref:System.Globalization.ChineseLunisolarCalendar>, which represents the Chinese lunisolar calendar.</span></span>

* <span data-ttu-id="1e41c-110"><xref:System.Globalization.GregorianCalendar>. Представляет григорианский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-110"><xref:System.Globalization.GregorianCalendar>, which represents the Gregorian calendar.</span></span> <span data-ttu-id="1e41c-111">Этот календарь, в свою очередь, разделяется на подтипы (такие как арабский и ближневосточный французский), определяемые перечислением <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-111">This calendar is further divided into subtypes (such as Arabic and Middle East French) that are defined by the <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType> enumeration.</span></span> <span data-ttu-id="1e41c-112">Свойство <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> определяет подтип григорианского календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-112">The <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> property specifies the subtype of the Gregorian calendar.</span></span>

* <span data-ttu-id="1e41c-113"><xref:System.Globalization.HebrewCalendar>. Представляет еврейский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-113"><xref:System.Globalization.HebrewCalendar>, which represents the Hebrew calendar.</span></span>

* <span data-ttu-id="1e41c-114"><xref:System.Globalization.HijriCalendar>. Представляет календарь Хиджра.</span><span class="sxs-lookup"><span data-stu-id="1e41c-114"><xref:System.Globalization.HijriCalendar>, which represents the Hijri calendar.</span></span>

* <span data-ttu-id="1e41c-115"><xref:System.Globalization.JapaneseCalendar>. Представляет японский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-115"><xref:System.Globalization.JapaneseCalendar>, which represents the Japanese calendar.</span></span>

* <span data-ttu-id="1e41c-116"><xref:System.Globalization.JapaneseLunisolarCalendar>. Представляет японский лунно-солнечный календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, which represents the Japanese lunisolar calendar.</span></span>

* <span data-ttu-id="1e41c-117"><xref:System.Globalization.JulianCalendar>Представляет юлианский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-117"><xref:System.Globalization.JulianCalendar>, which represents the Julian calendar.</span></span>

* <span data-ttu-id="1e41c-118"><xref:System.Globalization.KoreanCalendar>. Представляет корейский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-118"><xref:System.Globalization.KoreanCalendar>, which represents the Korean calendar.</span></span>

* <span data-ttu-id="1e41c-119"><xref:System.Globalization.KoreanLunisolarCalendar>. Представляет корейский лунно-солнечный календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-119"><xref:System.Globalization.KoreanLunisolarCalendar>, which represents the Korean lunisolar calendar.</span></span>

* <span data-ttu-id="1e41c-120"><xref:System.Globalization.PersianCalendar>. Представляет персидский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-120"><xref:System.Globalization.PersianCalendar>, which represents the Persian calendar.</span></span>

* <span data-ttu-id="1e41c-121"><xref:System.Globalization.TaiwanCalendar>. Представляет тайваньский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-121"><xref:System.Globalization.TaiwanCalendar>, which represents the Taiwan calendar.</span></span>

* <span data-ttu-id="1e41c-122"><xref:System.Globalization.TaiwanLunisolarCalendar>. Представляет тайваньский лунно-солнечный календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, which represents the Taiwan lunisolar calendar.</span></span>

* <span data-ttu-id="1e41c-123"><xref:System.Globalization.ThaiBuddhistCalendar>. Представляет тай-буддистский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-123"><xref:System.Globalization.ThaiBuddhistCalendar>, which represents the Thai Buddhist calendar.</span></span>

* <span data-ttu-id="1e41c-124"><xref:System.Globalization.UmAlQuraCalendar>. Представляет саудовский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-124"><xref:System.Globalization.UmAlQuraCalendar>, which represents the Um Al Qura calendar.</span></span>

<span data-ttu-id="1e41c-125">Календарь можно использовать одним из двух способов:</span><span class="sxs-lookup"><span data-stu-id="1e41c-125">A calendar can be used in one of two ways:</span></span>

* <span data-ttu-id="1e41c-126">Как календарь, используемый для конкретных языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-126">As the calendar used by a specific culture.</span></span> <span data-ttu-id="1e41c-127">Каждый объект <xref:System.Globalization.CultureInfo> имеет текущий календарь, то есть календарь, который объект использует в настоящий момент.</span><span class="sxs-lookup"><span data-stu-id="1e41c-127">Each <xref:System.Globalization.CultureInfo> object has a current calendar, which is the calendar that the object is currently using.</span></span> <span data-ttu-id="1e41c-128">Строковое представление значений даты и времени автоматически отражает используемые язык и региональные параметры и текущий календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-128">The string representations of all date and time values automatically reflect the current culture and its current calendar.</span></span> <span data-ttu-id="1e41c-129">Обычно текущий календарь является календарем по умолчанию для языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-129">Typically, the current calendar is the culture's default calendar.</span></span> <span data-ttu-id="1e41c-130">Объекты <xref:System.Globalization.CultureInfo> также имеют дополнительные календари, которые могут использоваться для языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-130"><xref:System.Globalization.CultureInfo> objects also have optional calendars, which include additional calendars that that culture can use.</span></span>

* <span data-ttu-id="1e41c-131">Как самостоятельный календарь, не зависящий от конкретных языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-131">As a standalone calendar independent of a specific culture.</span></span> <span data-ttu-id="1e41c-132">В таком случае методы <xref:System.Globalization.Calendar> используются для выражения дат и значений календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-132">In this case, <xref:System.Globalization.Calendar> methods are used to express dates as values that reflect the calendar.</span></span>

<span data-ttu-id="1e41c-133">Обратите внимание, что шесть классов календаря (<xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar> и <xref:System.Globalization.TaiwanLunisolarCalendar>) можно использовать только как самостоятельные календари.</span><span class="sxs-lookup"><span data-stu-id="1e41c-133">Note that six calendar classes – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar>, and <xref:System.Globalization.TaiwanLunisolarCalendar> – can be used only as standalone calendars.</span></span> <span data-ttu-id="1e41c-134">Никакие языки и региональные параметры не используют их как календари по умолчанию или как дополнительные календари.</span><span class="sxs-lookup"><span data-stu-id="1e41c-134">They are not used by any culture as either the default calendar or as an optional calendar.</span></span>

## <a name="calendars-and-cultures"></a><span data-ttu-id="1e41c-135">Календари и языки и региональные параметры</span><span class="sxs-lookup"><span data-stu-id="1e41c-135">Calendars and cultures</span></span>

<span data-ttu-id="1e41c-136">Для любого языка и региональных параметров есть календарь по умолчанию, определенный свойством <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-136">Each culture has a default calendar, which is defined by the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1e41c-137">Свойство <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> возвращает массив объектов <xref:System.Globalization.Calendar>, содержащий все календари, поддерживаемые конкретным языком и региональными параметрами, включая календарь по умолчанию для этого языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-137">The <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property returns an array of <xref:System.Globalization.Calendar> objects that specifies all the calendars supported by a particular culture, including that culture's default calendar.</span></span>

<span data-ttu-id="1e41c-138">Следующий пример иллюстрирует свойства <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> и <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-138">The following example illustrates the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="1e41c-139">В нем создаются объекты `CultureInfo` для языков и региональных параметров "Тайский (Таиланд)" и "Японский (Япония)", а также выводятся их календари по умолчанию и дополнительные календари.</span><span class="sxs-lookup"><span data-stu-id="1e41c-139">It creates `CultureInfo` objects for the Thai (Thailand) and Japanese (Japan) cultures and displays their default and optional calendars.</span></span> <span data-ttu-id="1e41c-140">Обратите внимание, что в обоих случаях календарь по умолчанию для языка и региональных параметров также включается в коллекцию <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-140">Note that in both cases, the culture's default calendar is also included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> collection.</span></span>

[!code-csharp[Conceptual.Calendars#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/calendarinfo1.cs#1)]
[!code-vb[Conceptual.Calendars#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/calendarinfo1.vb#1)]

<span data-ttu-id="1e41c-141">Календарь, используемый в настоящий момент каким-либо конкретным объектом <xref:System.Globalization.CultureInfo>, определяется свойством <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-141">The calendar currently in use by a particular <xref:System.Globalization.CultureInfo> object is defined by the culture's <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1e41c-142">Объект <xref:System.Globalization.DateTimeFormatInfo> языка и региональных параметров возвращается свойством <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-142">A culture's <xref:System.Globalization.DateTimeFormatInfo> object is returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1e41c-143">При создании языка и региональных параметров значение по умолчанию совпадает со значением свойства <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-143">When a culture is created, its default value is the same as the value of the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1e41c-144">Однако текущий календарь языка и региональных параметров можно изменить на любой календарь из массива, возвращаемого свойством <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-144">However, you can change the culture's current calendar to any calendar contained in the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1e41c-145">Если попытаться изменить текущий календарь на календарь, не входящий в значение свойства <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>, будет создано исключение <xref:System.ArgumentException>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-145">If you try to set the current calendar to a calendar that is not included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property value, an <xref:System.ArgumentException> is thrown.</span></span>

<span data-ttu-id="1e41c-146">В следующем примере изменяется календарь, используемый для языка и региональных параметров "Арабский (Саудовская Аравия)".</span><span class="sxs-lookup"><span data-stu-id="1e41c-146">The following example changes the calendar used by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="1e41c-147">Сперва создается значение <xref:System.DateTime> и отображается с использованием текущего языка и региональных параметров (в данном случае "Английский (США)") и текущего календаря для языка и региональных параметров (в данном случае григорианского календаря).</span><span class="sxs-lookup"><span data-stu-id="1e41c-147">It first instantiates a <xref:System.DateTime> value and displays it using the current culture - which, in this case, is English (United States) - and the current culture's calendar (which, in this case, is the Gregorian calendar).</span></span> <span data-ttu-id="1e41c-148">Затем текущий язык и региональные параметры изменяются на "Арабский (Саудовская Аравия)" и дата отображается с использованием календаря по умолчанию — саудовского календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-148">Next, it changes the current culture to Arabic (Saudi Arabia) and displays the date using its default Um Al-Qura calendar.</span></span> <span data-ttu-id="1e41c-149">Затем вызывается метод `CalendarExists`, чтобы определить, поддерживается ли календарь Хиджра языком и региональными параметрами "Арабский (Саудовская Аравия)".</span><span class="sxs-lookup"><span data-stu-id="1e41c-149">It then calls the `CalendarExists` method to determine whether the Hijri calendar is supported by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="1e41c-150">Поскольку этот календарь поддерживается, текущий календарь изменяется на календарь Хиджра и дата отображается снова.</span><span class="sxs-lookup"><span data-stu-id="1e41c-150">Because the calendar is supported, it changes the current calendar to Hijri and again displays the date.</span></span> <span data-ttu-id="1e41c-151">Обратите внимание, что в обоих случаях дата отображается с использованием текущего календаря текущего языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-151">Note that in each case, the date is displayed using the current culture's current calendar.</span></span>

[!code-csharp[Conceptual.Calendars#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/changecalendar2.cs#2)]
[!code-vb[Conceptual.Calendars#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/changecalendar2.vb#2)]

## <a name="dates-and-calendars"></a><span data-ttu-id="1e41c-152">Даты и календари</span><span class="sxs-lookup"><span data-stu-id="1e41c-152">Dates and calendars</span></span>

<span data-ttu-id="1e41c-153">За исключением конструкторов, содержащих параметры типа <xref:System.Globalization.Calendar> и допускающих отображение элементов даты (месяц, день, год) по указанному календарю, значения <xref:System.DateTime> и <xref:System.DateTimeOffset> всегда приводятся по григорианскому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-153">With the exception of the constructors that include a parameter of type <xref:System.Globalization.Calendar> and allow the elements of a date (that is, the month, the day, and the year) to reflect values in a designated calendar, both <xref:System.DateTime> and <xref:System.DateTimeOffset> values are always based on the Gregorian calendar.</span></span> <span data-ttu-id="1e41c-154">Это означает, например, что свойство <xref:System.DateTime.Year%2A?displayProperty=nameWithType> возвращает год по григорианскому календарю, а свойство <xref:System.DateTime.Day%2A?displayProperty=nameWithType> возвращает день месяца по григорианскому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-154">This means, for example, that the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> property returns the year in the Gregorian calendar, and the <xref:System.DateTime.Day%2A?displayProperty=nameWithType> property returns the day of the month in the Gregorian calendar.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1e41c-155">Важно помнить, что есть разница между значением даты и его строковым представлением.</span><span class="sxs-lookup"><span data-stu-id="1e41c-155">It is important to remember that there is a difference between a date value and its string representation.</span></span> <span data-ttu-id="1e41c-156">Первое основывается на григорианском календаре, а последнее — на текущем календаре конкретного языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-156">The former is based on the Gregorian calendar; the latter is based on the current calendar of a specific culture.</span></span>

<span data-ttu-id="1e41c-157">Следующий пример иллюстрирует разницу между свойствами <xref:System.DateTime> и их соответствующими методами <xref:System.Globalization.Calendar>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-157">The following example illustrates this difference between <xref:System.DateTime> properties and their corresponding <xref:System.Globalization.Calendar> methods.</span></span> <span data-ttu-id="1e41c-158">В этом примере текущий язык и региональные параметры — "Арабский (Египет)", а текущий календарь — саудовский.</span><span class="sxs-lookup"><span data-stu-id="1e41c-158">In the example, the current culture is Arabic (Egypt), and the current calendar is Um Al Qura.</span></span> <span data-ttu-id="1e41c-159">Задано значение <xref:System.DateTime>, обозначающее пятнадцатый день седьмого месяца 2011 года.</span><span class="sxs-lookup"><span data-stu-id="1e41c-159">A <xref:System.DateTime> value is set to the fifteenth day of the seventh month of 2011.</span></span> <span data-ttu-id="1e41c-160">Очевидно, что это значение интерпретируется как дата григорианского календаря, поскольку именно эти значения возвращаются методом <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> при использовании стандартов инвариантного языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="1e41c-160">It is clear that this is interpreted as a Gregorian date, because these same values are returned by the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> method when it uses the conventions of the invariant culture.</span></span> <span data-ttu-id="1e41c-161">Строковое представление даты форматируется по стандартам текущего языка и региональных параметров и выглядит как 14/08/32, указывая соответствующую дату по саудовскому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-161">The string representation of the date that is formatted using the conventions of the current culture is 14/08/32, which is the equivalent date in the Um Al Qura calendar.</span></span> <span data-ttu-id="1e41c-162">Затем члены `DateTime` и `Calendar` используются для возврата дня, месяца и года значения <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-162">Next, members of `DateTime` and `Calendar` are used to return the day, the month, and the year of the <xref:System.DateTime> value.</span></span> <span data-ttu-id="1e41c-163">В любом случае, значения, возвращаемые членами <xref:System.DateTime>, отражают значения по григорианскому календарю, а значения, возвращаемые членами <xref:System.Globalization.UmAlQuraCalendar> отражают значения по саудовскому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-163">In each case, the values returned by <xref:System.DateTime> members reflect values in the Gregorian calendar, whereas values returned by <xref:System.Globalization.UmAlQuraCalendar> members reflect values in the Uum al-Qura calendar.</span></span>

[!code-csharp[Conceptual.Calendars#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/datesandcalendars2.cs#3)]
[!code-vb[Conceptual.Calendars#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/datesandcalendars2.vb#3)]

### <a name="instantiating-dates-based-on-a-calendar"></a><span data-ttu-id="1e41c-164">Создание дат на основе календаря</span><span class="sxs-lookup"><span data-stu-id="1e41c-164">Instantiating dates based on a calendar</span></span>

<span data-ttu-id="1e41c-165">Поскольку значения <xref:System.DateTime> и <xref:System.DateTimeOffset> основываются на григорианском календаре, необходимо вызвать перегруженный конструктор, включающий параметр типа <xref:System.Globalization.Calendar>, для создания значения даты, если требуется использовать значение дня, месяца или года по другому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-165">Because <xref:System.DateTime> and <xref:System.DateTimeOffset> values are based on the Gregorian calendar, you must call an overloaded constructor that includes a parameter of type <xref:System.Globalization.Calendar> to instantiate a date value if you want to use the day, month, or year values from a different calendar.</span></span> <span data-ttu-id="1e41c-166">Можно также вызвать одну из перегрузок метода <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> конкретного календаря для создания объекта <xref:System.DateTime> на основе значений конкретного календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-166">You can also call one of the overloads of a specific calendar's <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> method to instantiate a <xref:System.DateTime> object based on the values of a particular calendar.</span></span>

<span data-ttu-id="1e41c-167">В следующем примере первое значение <xref:System.DateTime> создается путем передачи объекта <xref:System.Globalization.HebrewCalendar> конструктору <xref:System.DateTime>, а второе значение <xref:System.DateTime> создается путем вызова метода <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-167">The following example instantiates one <xref:System.DateTime> value by passing a <xref:System.Globalization.HebrewCalendar> object to a <xref:System.DateTime> constructor, and instantiates a second <xref:System.DateTime> value by calling the <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="1e41c-168">Поскольку эти два значения создаются с одинаковыми значениями еврейского календаря, вызов метода <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> показывает, что два значения <xref:System.DateTime> совпадают.</span><span class="sxs-lookup"><span data-stu-id="1e41c-168">Because the two values are created with identical values from the Hebrew calendar, the call to the <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> method shows that the two <xref:System.DateTime> values are equal.</span></span>

[!code-csharp[Conceptual.Calendars#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatehcdate1.cs#4)]
[!code-vb[Conceptual.Calendars#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatehcdate1.vb#4)]

### <a name="representing-dates-in-the-current-calendar"></a><span data-ttu-id="1e41c-169">Представление дат текущего календаря</span><span class="sxs-lookup"><span data-stu-id="1e41c-169">Representing dates in the current calendar</span></span>

<span data-ttu-id="1e41c-170">Методы форматирования даты и времени при преобразовании дат в строки всегда используют текущий календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-170">Date and time formatting methods always use the current calendar when converting dates to strings.</span></span> <span data-ttu-id="1e41c-171">Это значит, что строковое представление года, месяца и дня месяца отражают текущий календарь, а не обязательно григорианский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-171">This means that the string representation of the year, the month, and the day of the month reflect the current calendar, and do not necessarily reflect the Gregorian calendar.</span></span>

<span data-ttu-id="1e41c-172">В следующем примере показано, как текущий календарь влияет на строковое представление даты.</span><span class="sxs-lookup"><span data-stu-id="1e41c-172">The following example shows how the current calendar affects the string representation of a date.</span></span> <span data-ttu-id="1e41c-173">Текущий язык и региональные параметры изменяются на "Китайский (традиционное письмо, Тайвань)", затем создается значение даты.</span><span class="sxs-lookup"><span data-stu-id="1e41c-173">It changes the current culture to Chinese (Traditional, Taiwan), and instantiates a date value.</span></span> <span data-ttu-id="1e41c-174">Затем отображается текущий календарь и дата, текущий календарь изменяется на <xref:System.Globalization.TaiwanCalendar>, текущий календарь и дата отображаются снова.</span><span class="sxs-lookup"><span data-stu-id="1e41c-174">It then displays the current calendar and the date, changes the current calendar to <xref:System.Globalization.TaiwanCalendar>, and displays the current calendar and date once again.</span></span> <span data-ttu-id="1e41c-175">При первом отображении даты она представляется как дата григорианского календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-175">The first time the date is displayed, it is represented as a date in the Gregorian calendar.</span></span> <span data-ttu-id="1e41c-176">При отображении даты во второй раз она представляется как дата тайваньского календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-176">The second time it is displayed, it is represented as a date in the Taiwan calendar.</span></span>

[!code-csharp[Conceptual.Calendars#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/currentcalendar1.cs#5)]
[!code-vb[Conceptual.Calendars#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/currentcalendar1.vb#5)]

### <a name="representing-dates-in-a-non-current-calendar"></a><span data-ttu-id="1e41c-177">Представление дат не текущего календаря</span><span class="sxs-lookup"><span data-stu-id="1e41c-177">Representing dates in a non-current calendar</span></span>

<span data-ttu-id="1e41c-178">Чтобы представить дату с помощью календаря, который не является текущим для языка и региональных параметров, необходимо вызвать методы нужного объекта <xref:System.Globalization.Calendar>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-178">To represent a date using a calendar that is not the current calendar of a particular culture, you must call methods of that <xref:System.Globalization.Calendar> object.</span></span> <span data-ttu-id="1e41c-179">Например, методы <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> и <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> преобразуют значения года, месяца и дня в значения, соответствующие определенному календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-179">For example, the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods convert the year, month, and day to values that reflect a particular calendar.</span></span>

> [!WARNING]
> <span data-ttu-id="1e41c-180">Поскольку некоторые календари не являются дополнительными календарями ни для какого языка и региональных параметров, указание дат по этим календарям всегда требует вызова методов календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-180">Because some calendars are not optional calendars of any culture, representing dates in these calendars always requires that you call calendar methods.</span></span> <span data-ttu-id="1e41c-181">Это верно для всех календарей, унаследованных от классов <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar> и <xref:System.Globalization.PersianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-181">This is true of all calendars that derive from the <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, and <xref:System.Globalization.PersianCalendar> classes.</span></span>

<span data-ttu-id="1e41c-182">В следующем примере используется объект <xref:System.Globalization.JulianCalendar> для создания даты 9 января 1905 года по юлианскому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-182">The following example uses a <xref:System.Globalization.JulianCalendar> object to instantiate a date, January 9, 1905, in the Julian calendar.</span></span> <span data-ttu-id="1e41c-183">При отображении этой даты по календарю по умолчанию (григорианскому), она представляется как 22 января 1905 года.</span><span class="sxs-lookup"><span data-stu-id="1e41c-183">When this date is displayed using the default (Gregorian) calendar, it is represented as January 22, 1905.</span></span> <span data-ttu-id="1e41c-184">Вызов отдельных методов <xref:System.Globalization.JulianCalendar> позволяет отобразить дату по юлианскому календарю.</span><span class="sxs-lookup"><span data-stu-id="1e41c-184">Calls to individual <xref:System.Globalization.JulianCalendar> methods enable the date to be represented in the Julian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/noncurrentcalendar1.cs#6)]
[!code-vb[Conceptual.Calendars#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/noncurrentcalendar1.vb#6)]

### <a name="calendars-and-date-ranges"></a><span data-ttu-id="1e41c-185">Календари и диапазоны дат</span><span class="sxs-lookup"><span data-stu-id="1e41c-185">Calendars and date ranges</span></span>

<span data-ttu-id="1e41c-186">Самая ранняя дата, поддерживаемая календарем, отображается свойством <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> этого календаря.</span><span class="sxs-lookup"><span data-stu-id="1e41c-186">The earliest date supported by a calendar is indicated by that calendar's <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1e41c-187">Для класса <xref:System.Globalization.GregorianCalendar> эта дата — 1 января 0001 года нашей эры.</span><span class="sxs-lookup"><span data-stu-id="1e41c-187">For the <xref:System.Globalization.GregorianCalendar> class, that date is January 1, 0001 C.E.</span></span> <span data-ttu-id="1e41c-188">Большинство других календарей в .NET поддерживают более позднюю дату.</span><span class="sxs-lookup"><span data-stu-id="1e41c-188">Most of the other calendars in .NET support a later date.</span></span> <span data-ttu-id="1e41c-189">При попытке работы с датой и временем, меньшими самой ранней поддерживаемой календарем даты, возникнет исключение <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-189">Trying to work with a date and time value that precedes a calendar's earliest supported date throws an <xref:System.ArgumentOutOfRangeException> exception.</span></span>

<span data-ttu-id="1e41c-190">Однако существует одно важное исключение из этого правила.</span><span class="sxs-lookup"><span data-stu-id="1e41c-190">However, there is one important exception.</span></span> <span data-ttu-id="1e41c-191">По умолчанию (неинициализированное) значение объекта <xref:System.DateTime> и объекта <xref:System.DateTimeOffset> равно значению <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-191">The default (uninitialized) value of a <xref:System.DateTime> object and a <xref:System.DateTimeOffset> object is equal to the <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="1e41c-192">При попытке форматирования этой даты в календаре, который не поддерживает 1 января 0001 года нашей эры</span><span class="sxs-lookup"><span data-stu-id="1e41c-192">If you try to format this date in a calendar that does not support January 1, 0001 C.E.</span></span> <span data-ttu-id="1e41c-193">и вы не укажете описатель формата, он использует описатель формата «s» (шаблон сортируемого формата даты и времени) вместо описатель формата «G» (общий формат даты/времени шаблон).</span><span class="sxs-lookup"><span data-stu-id="1e41c-193">and you do not provide a format specifier, the formatting method uses the "s" (sortable date/time pattern) format specifier instead of the "G" (general date/time pattern) format specifier.</span></span> <span data-ttu-id="1e41c-194">В результате операция форматирования не вызовет исключения <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-194">As a result, the formatting operation does not throw an <xref:System.ArgumentOutOfRangeException> exception.</span></span> <span data-ttu-id="1e41c-195">Вместо этого будет возвращена неподдерживаемая дата.</span><span class="sxs-lookup"><span data-stu-id="1e41c-195">Instead, it returns the unsupported date.</span></span> <span data-ttu-id="1e41c-196">Это продемонстрировано в следующем примере, отображающем значение <xref:System.DateTime.MinValue?displayProperty=nameWithType> во время установки текущих языка и региональных параметров в японские (Япония) с японским календарем и в арабские (Египет) с календарем Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="1e41c-196">This is illustrated in the following example, which displays the value of <xref:System.DateTime.MinValue?displayProperty=nameWithType> when the current culture is set to Japanese (Japan) with the Japanese calendar, and to Arabic (Egypt) with the Um Al Qura calendar.</span></span> <span data-ttu-id="1e41c-197">Также текущие язык и региональные параметры устанавливаются в английские (США) и вызывается метод <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> с каждым из этих объектов <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-197">It also sets the current culture to English (United States) and calls the <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> method with each of these <xref:System.Globalization.CultureInfo> objects.</span></span> <span data-ttu-id="1e41c-198">В каждом случае дата отображается с помощью сортируемого шаблона даты и времени.</span><span class="sxs-lookup"><span data-stu-id="1e41c-198">In each case, the date is displayed by using the sortable date/time pattern.</span></span>

[!code-csharp[Conceptual.Calendars#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/minsupporteddatetime1.cs#11)]
[!code-vb[Conceptual.Calendars#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/minsupporteddatetime1.vb#11)]

## <a name="working-with-eras"></a><span data-ttu-id="1e41c-199">Работа с эрами</span><span class="sxs-lookup"><span data-stu-id="1e41c-199">Working with eras</span></span>

<span data-ttu-id="1e41c-200">В календарях даты обычно разделены на эры.</span><span class="sxs-lookup"><span data-stu-id="1e41c-200">Calendars typically divide dates into eras.</span></span> <span data-ttu-id="1e41c-201">Тем не менее <xref:System.Globalization.Calendar> классы в .NET не поддерживают каждый эры, определяемых календаря и большая часть <xref:System.Globalization.Calendar> классы поддерживают только одну эру.</span><span class="sxs-lookup"><span data-stu-id="1e41c-201">However, the <xref:System.Globalization.Calendar> classes in .NET do not support every era defined by a calendar, and most of the <xref:System.Globalization.Calendar> classes support only a single era.</span></span> <span data-ttu-id="1e41c-202">Только классы <xref:System.Globalization.JapaneseCalendar> и <xref:System.Globalization.JapaneseLunisolarCalendar> поддерживают несколько эр.</span><span class="sxs-lookup"><span data-stu-id="1e41c-202">Only the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes support multiple eras.</span></span>

### <a name="eras-and-era-names"></a><span data-ttu-id="1e41c-203">Эры и названия эр</span><span class="sxs-lookup"><span data-stu-id="1e41c-203">Eras and era names</span></span>

<span data-ttu-id="1e41c-204">В .NET, целые числа, обозначающие эры, поддерживаемые реализацией конкретного календаря, хранятся в обратном порядке в <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> массива.</span><span class="sxs-lookup"><span data-stu-id="1e41c-204">In .NET, integers that represent the eras supported by a particular calendar implementation are stored in reverse order in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array.</span></span> <span data-ttu-id="1e41c-205">Текущая эра хранится с индексом 0, а для классов <xref:System.Globalization.Calendar>, поддерживающих несколько эр, каждый последующий индекс обозначает предыдущую эру.</span><span class="sxs-lookup"><span data-stu-id="1e41c-205">The current era is at index zero, and for <xref:System.Globalization.Calendar> classes that support multiple eras, each successive index reflects the previous era.</span></span> <span data-ttu-id="1e41c-206">Статическое свойство <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> определяет индекс текущей эры в массиве <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType>; это константа, значение которой всегда ноль.</span><span class="sxs-lookup"><span data-stu-id="1e41c-206">The static <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> property defines the index of the current era in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array; it is a constant whose value is always zero.</span></span> <span data-ttu-id="1e41c-207">Отдельные классы <xref:System.Globalization.Calendar> также включают статические поля, возвращающие значение текущей эры.</span><span class="sxs-lookup"><span data-stu-id="1e41c-207">Individual <xref:System.Globalization.Calendar> classes also include static fields that return the value of the current era.</span></span> <span data-ttu-id="1e41c-208">Они перечислены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="1e41c-208">They are listed in the following table.</span></span>

| <span data-ttu-id="1e41c-209">Класс календаря</span><span class="sxs-lookup"><span data-stu-id="1e41c-209">Calendar class</span></span>                                        | <span data-ttu-id="1e41c-210">Поле текущей эры</span><span class="sxs-lookup"><span data-stu-id="1e41c-210">Current era field</span></span>                                                 |
| ----------------------------------------------------- | ----------------------------------------------------------------- |
| <xref:System.Globalization.ChineseLunisolarCalendar>  | <xref:System.Globalization.ChineseLunisolarCalendar.ChineseEra>   |
| <xref:System.Globalization.GregorianCalendar>         | <xref:System.Globalization.GregorianCalendar.ADEra>               |
| <xref:System.Globalization.HebrewCalendar>            | <xref:System.Globalization.HebrewCalendar.HebrewEra>              |
| <xref:System.Globalization.HijriCalendar>             | <xref:System.Globalization.HijriCalendar.HijriEra>                |
| <xref:System.Globalization.JapaneseLunisolarCalendar> | <xref:System.Globalization.JapaneseLunisolarCalendar.JapaneseEra> |
| <xref:System.Globalization.JulianCalendar>            | <xref:System.Globalization.JulianCalendar.JulianEra>              |
| <xref:System.Globalization.KoreanCalendar>            | <xref:System.Globalization.KoreanCalendar.KoreanEra>              |
| <xref:System.Globalization.KoreanLunisolarCalendar>   | <xref:System.Globalization.KoreanLunisolarCalendar.GregorianEra>  |
| <xref:System.Globalization.PersianCalendar>           | <xref:System.Globalization.PersianCalendar.PersianEra>            |
| <xref:System.Globalization.ThaiBuddhistCalendar>      | <xref:System.Globalization.ThaiBuddhistCalendar.ThaiBuddhistEra>  |
| <xref:System.Globalization.UmAlQuraCalendar>          | <xref:System.Globalization.UmAlQuraCalendar.UmAlQuraEra>          |

<span data-ttu-id="1e41c-211">Имя, соответствующее номеру конкретной эры, которое можно получить, передав номер эры методу <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> или <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-211">The name that corresponds to a particular era number can be retrieved by passing the era number to the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> or <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="1e41c-212">В следующем примере эти методы вызываются для получения информации о поддержке эр в классе <xref:System.Globalization.GregorianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-212">The following example calls these methods to retrieve information about era support in the <xref:System.Globalization.GregorianCalendar> class.</span></span>

[!code-csharp[Conceptual.Calendars#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatewithera1.cs#7)]
[!code-vb[Conceptual.Calendars#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatewithera1.vb#7)]

<span data-ttu-id="1e41c-213">Кроме того, строка пользовательского формата даты и времени "g" включает имя эры календаря в строковое представлении даты и времени.</span><span class="sxs-lookup"><span data-stu-id="1e41c-213">In addition, the "g" custom date and time format string includes a calendar's era name in the string representation of a date and time.</span></span> <span data-ttu-id="1e41c-214">Дополнительные сведения см. в разделе [настраиваемых форматов даты и времени строки](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="1e41c-214">For more information, see [Custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span></span>

### <a name="instantiating-a-date-with-an-era"></a><span data-ttu-id="1e41c-215">Создание даты с указанием эры</span><span class="sxs-lookup"><span data-stu-id="1e41c-215">Instantiating a date with an era</span></span>

<span data-ttu-id="1e41c-216">Для двух классов <xref:System.Globalization.Calendar>, поддерживающих несколько эр, дата, состоящая из указания года, месяца и дня месяца может быть неоднозначной. Например, во всех четырех эрах календаря <xref:System.Globalization.JapaneseCalendar> годы нумеруются от 1 до 15.</span><span class="sxs-lookup"><span data-stu-id="1e41c-216">For the two <xref:System.Globalization.Calendar> classes that support multiple eras, a date that consists of a particular year, month, and day of the month value can be ambiguous, For example, all four eras of the <xref:System.Globalization.JapaneseCalendar> have years numbered from 1 to 15.</span></span> <span data-ttu-id="1e41c-217">Обычно если эра не указана, методы даты и времени и календаря предполагают, что значения относятся к текущей эре.</span><span class="sxs-lookup"><span data-stu-id="1e41c-217">Ordinarily, if an era is not specified, both date and time and calendar methods assume that values belong to the current era.</span></span> <span data-ttu-id="1e41c-218">Чтобы явно указать эру при создании даты для класса <xref:System.Globalization.Calendar>, поддерживающего несколько эр, можно вызвать метод <xref:System.Globalization.Calendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-218">To explicitly specify the era when instantiating a date for a <xref:System.Globalization.Calendar> class that supports multiple eras, you can call the <xref:System.Globalization.Calendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="1e41c-219">Этот метод позволяет явным образом указать эру вместе с календарным годом, месяцем, днем, часом, минутой, секундой и миллисекундой.</span><span class="sxs-lookup"><span data-stu-id="1e41c-219">This method enables you to explicitly specify an era along with the calendar's year, month, day, hour, minute, second, and millisecond.</span></span>

<span data-ttu-id="1e41c-220">В следующем примере используется метод <xref:System.Globalization.Calendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> для создания даты вида "первый день первого месяца второго года" в каждой эре, поддерживаемой классом <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-220">The following example uses the <xref:System.Globalization.Calendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method to instantiate the same date, the first month of the first day of the second year, in each era supported by the <xref:System.Globalization.JapaneseCalendar> class.</span></span> <span data-ttu-id="1e41c-221">Затем дата отображается в соответствии с японским и григорианским календарями.</span><span class="sxs-lookup"><span data-stu-id="1e41c-221">It then displays the date in both the Japanese and Gregorian calendars.</span></span> <span data-ttu-id="1e41c-222">Также вызывается конструктор <xref:System.DateTime>, чтобы продемонстрировать, что методы, создающие значения дат без указания эры, создают даты в текущей эре.</span><span class="sxs-lookup"><span data-stu-id="1e41c-222">It also calls a <xref:System.DateTime> constructor to illustrate that methods that create date values without specifying an era create dates in the current era.</span></span>

[!code-csharp[Conceptual.Calendars#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatewithera1.cs#7)]
[!code-vb[Conceptual.Calendars#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatewithera1.vb#7)]

### <a name="representing-dates-in-calendars-with-eras"></a><span data-ttu-id="1e41c-223">Представление дат в календарях, с указанием эры</span><span class="sxs-lookup"><span data-stu-id="1e41c-223">Representing dates in calendars with eras</span></span>

<span data-ttu-id="1e41c-224">Если объект <xref:System.Globalization.Calendar> поддерживает эры и является текущим календарем объекта <xref:System.Globalization.CultureInfo>, эра включается в строковое представление даты и времени для полной даты, длинной даты и шаблонов короткой даты.</span><span class="sxs-lookup"><span data-stu-id="1e41c-224">If a <xref:System.Globalization.Calendar> object supports eras and is the current calendar of a <xref:System.Globalization.CultureInfo> object, the era is included in the string representation of a date and time value for the full date and time, long date, and short date patterns.</span></span> <span data-ttu-id="1e41c-225">В следующем примере показаны эти шаблоны даты при текущем языке и региональных параметрах "Японский (Япония)" и японском текущем календаре.</span><span class="sxs-lookup"><span data-stu-id="1e41c-225">The following example displays these date patterns when the current culture is Japan (Japanese) and the current calendar is the Japanese calendar.</span></span>

[!code-csharp[Conceptual.Calendars#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings1.cs#8)]
[!code-vb[Conceptual.Calendars#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings1.vb#8)]

> [!WARNING]
> <span data-ttu-id="1e41c-226"><xref:System.Globalization.JapaneseCalendar> Класс — это единственный класс календаря в .NET, который поддерживает даты в нескольких эрах и при этом может быть текущим календарем для объекта <xref:System.Globalization.CultureInfo> объект — а именно объекта <xref:System.Globalization.CultureInfo> объект, представляющий культуру, японский (Япония).</span><span class="sxs-lookup"><span data-stu-id="1e41c-226">The <xref:System.Globalization.JapaneseCalendar> class is the only calendar class in .NET that both supports dates in more than one era and that can be the current calendar of a <xref:System.Globalization.CultureInfo> object - specifically, of a <xref:System.Globalization.CultureInfo> object that represents the Japanese (Japan) culture.</span></span>

<span data-ttu-id="1e41c-227">Для всех календарей описатель пользовательского формата "g" добавляет эру в результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="1e41c-227">For all calendars, the "g" custom format specifier includes the era in the result string.</span></span> <span data-ttu-id="1e41c-228">В следующем примере используется строка пользовательского формата "мм-дд-гггг g", где в дату включается эра, при том что текущим является григорианский календарь.</span><span class="sxs-lookup"><span data-stu-id="1e41c-228">The following example uses the "MM-dd-yyyy g" custom format string to include the era in the result string when the current calendar is the Gregorian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings2.cs#9)]
[!code-vb[Conceptual.Calendars#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings2.vb#9)]

<span data-ttu-id="1e41c-229">В случае когда строковое представление даты связано с календарем, который не является текущим, класс <xref:System.Globalization.Calendar> включает метод <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType>, который можно использовать с методами <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> и <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> для однозначного указания даты и эры.</span><span class="sxs-lookup"><span data-stu-id="1e41c-229">In cases where the string representation of a date is expressed in a calendar that is not the current calendar, the <xref:System.Globalization.Calendar> class includes a <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> method that can be used along with the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods to unambiguously indicate a date as well as the era to which it belongs.</span></span> <span data-ttu-id="1e41c-230">В следующем примере для демонстрации используется класс <xref:System.Globalization.JapaneseLunisolarCalendar>.</span><span class="sxs-lookup"><span data-stu-id="1e41c-230">The following example uses the <xref:System.Globalization.JapaneseLunisolarCalendar> class to provide an illustration.</span></span> <span data-ttu-id="1e41c-231">Однако следует учесть, что если требуется включить в результирующую строку понятное имя или сокращенное имя вместо целого числа для эры, необходимо создать объект <xref:System.Globalization.DateTimeFormatInfo> и сделать календарь <xref:System.Globalization.JapaneseCalendar> его текущим календарем.</span><span class="sxs-lookup"><span data-stu-id="1e41c-231">However, note that including a meaningful name or abbreviation instead of an integer for the era in the result string requires that you instantiate a <xref:System.Globalization.DateTimeFormatInfo> object and make <xref:System.Globalization.JapaneseCalendar> its current calendar.</span></span> <span data-ttu-id="1e41c-232">(Календарь <xref:System.Globalization.JapaneseLunisolarCalendar> не может быть текущим календарем для какого-либо языка и региональных параметров, но в данном случае эры этих двух календарей совпадают.)</span><span class="sxs-lookup"><span data-stu-id="1e41c-232">(The <xref:System.Globalization.JapaneseLunisolarCalendar> calendar cannot be the current calendar of any culture, but in this case the two calendars share the same eras.)</span></span>

[!code-csharp[Conceptual.Calendars#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings3.cs#10)]
[!code-vb[Conceptual.Calendars#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings3.vb#10)]

## <a name="see-also"></a><span data-ttu-id="1e41c-233">См. также</span><span class="sxs-lookup"><span data-stu-id="1e41c-233">See also</span></span>

* [<span data-ttu-id="1e41c-234">Практическое: отображение дат в календарях, отличных от григорианского</span><span class="sxs-lookup"><span data-stu-id="1e41c-234">How to: Display dates in non-Gregorian calendars</span></span>](../../../docs/standard/base-types/how-to-display-dates-in-non-gregorian-calendars.md)
* [<span data-ttu-id="1e41c-235">Пример: Календарную неделю диапазона служебной программы</span><span class="sxs-lookup"><span data-stu-id="1e41c-235">Sample: Calendar week range utility</span></span>](https://code.msdn.microsoft.com/NET-Framework-4-Calendar-3360a84a)
