---
title: "Элементы языка регулярных выражений — краткий справочник"
description: "Элементы языка регулярных выражений — краткий справочник"
keywords: .NET, .NET Core
author: stevehoag
ms.author: shoag
ms.date: 07/28/2016
ms.topic: article
ms.prod: .net
ms.technology: dotnet-standard
ms.devlang: dotnet
ms.assetid: 8c5dee8c-7bc7-4e6e-aff1-986965c4d98e
translationtype: Human Translation
ms.sourcegitcommit: 90fe68f7f3c4b46502b5d3770b1a2d57c6af748a
ms.openlocfilehash: a6644fc2431beafa2128287eeac73bd598ee304a
ms.lasthandoff: 03/02/2017

---

# <a name="regular-expression-language---quick-reference"></a>Элементы языка регулярных выражений — краткий справочник

Регулярное выражение – это шаблон, который обработчик регулярных выражений пытается сопоставить с введенным текстом. Шаблон состоит из односимвольных или многосимвольных литералов, операторов или конструкций. Краткое введение см. в статье [Регулярные выражения в .NET](regular-expressions.md). 

В каждом разделе этого краткого справочника приводится перечень конкретной категории символов, операторов и конструкций, которые можно использовать для задания регулярных выражений: 

* [Escape-символы](#character-escapes)

* [Классы символов](#character-classes)
      
* [Привязки](#anchors)
    
* [Конструкции группирования](#grouping-constructs)
      
* [Квантификаторы](#quantifiers)
    
* [Конструкции обратных ссылок](#backreference-constructs)
      
* [Конструкции изменения](#alternation-constructs)
     
* [Подстановки](#substitutions)
      
* [Параметры регулярных выражений](#regular-expression-options)
      
* [Прочие конструкции](#miscellaneous-constructs)

Мы также представили эту информацию в двух форматах, чтобы вы могли ее загрузить и распечатать для справки: 

* [Скачать в формате Word (.docx)](http://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)
    
* [Скачать в формате PDF (.pdf)](http://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)
    
## <a name="character-escapes"></a>Escape-знаки

Обратная косая черта (\)) в регулярных выражениях указывает, что следующий за ней символ либо является специальным знаком (как показано в следующей таблице), либо должен интерпретироваться буквально. Дополнительные сведения см. в статье [Escape-символы в регулярных выражениях](escapes.md). 

Escape-символ | Описание | Шаблон | Число соответствий
----------------- | ----------- | ------- | -------
**\a** | Соответствует знаку колокольчика, \u0007. | `\a` | "\u0007" в "Ошибка!" + '\u0007'
**\b** | В классе символов соответствует знаку BACKSPACE, \u0008. | `[\b]{3,}` | "\b\b\b\b" в "\b\b\b\b"
**\t** | Соответствует знаку табуляции, \u0009. | `(\w+)\t` | "элемент1\t", "элемент2\t" в "элемент1\tэлемент2\t"
**\r** | Соответствует знаку возврата каретки, \u000D. (**\r** не эквивалентен знаку начала новой строки, **\n**.) | `\r\n(\w+)` | "\r\nЗдесь" в "\r\nЗдесь имеется\nдве строки."
**\v** | Соответствует знаку вертикальной табуляции, \u000B. | `[\v]{2,}` | "\v\v\v" в "\v\v\v"
**\f** | Соответствует знаку перевода страницы, \u000C. | `[\f]{2,}` | "\f\f\f" в "\f\f\f" 
**\n** | Соответствует знаку новой строки, \u000A. | `\r\n(\w+)` | "\r\nЗдесь" в "\r\nЗдесь имеется\nдве строки."
**\e** | Соответствует escape-знаку, \u001B. | `\e` | "\x001B" в "\x001B"
**\**_nnn_ | Использует восьмеричное представление для указания символа (*nnn* состоит из двух или трех цифр). | `\w\040\w` | "a b", "c d" в "a bc d"
**\x**_nn_ | Использует шестнадцатеричное представление для указания символа (*nn* состоит ровно из двух цифр). | `\w\x20\w` | "a b", "c d" в "a bc d"
**\c**_X_ или **\c**_x_ | Соответствует управляющему символу ASCII, который задан как *X* или *x*, где *X* или *x* является буквой управляющего символа. | `\cC` | "\x0003" в "\x0003" (Ctrl-C) 
**\u**_nnnn_ | Соответствует символу Юникода в шестнадцатеричном представлении (строго четыре цифры, представленные как *nnnn*). | `\w\u0020\w` | "a b", "c d" в "a bc d"
**\\** | Если за этим знаком следует символ, не распознанный как escape-символ из этой и других таблиц данной темы, то соответствует в точности этому символу. Например, __\*__ — это то же самое, что и **\x2A**, а **\.** — то же самое, что и **\x2E**. Это позволяет обработчику регулярных выражений распознавать языковые элементы (такие как `*` или `?`) и символьные литералы (представленные как `\*` или `\?)`). | `\d+[\+-x\*]\d+` | "2+2" и "3*9" в "(2+2) * 3*9"
 
## <a name="character-classes"></a>Классы символов

Класс символов соответствует какому-либо одному набору символов. Классы символов состоят из языковых элементов, приведенных в следующей таблице. Дополнительные сведения см. в статье [Классы символов в регулярных выражениях](classes.md).

Класс знаков | Описание | Шаблон | Число соответствий
--------------- | ----------- | ------- | ------- 
__[__*character_group*__]__ | Соответствует любому одиночному символу, входящему в character_group. По умолчанию при сопоставлении учитывается регистр. | `[ae]` | "a" в "gray", "a", "e" в "lane"
__[^__*character_group*__]__ | Отрицание: соответствует любому одиночному символу, не входящему в *character_group*. По умолчанию символы в *character_group* чувствительны к регистру. | `[^aei]` |  "r", "g", "n" в "reign"
__[__*first-last*__]__ | Диапазон символов: соответствует одному символу в диапазоне от *first* до *last*. | `[A-Z]` | "A", "B" в "AB123"
**.** | Подстановочный знак: соответствует какому-либо одному знаку, кроме "\n". Для сопоставления символа точки (. или \u002E), перед ней нужно поставить дополнительную обратную косую черту (\.). | `a.e` |  "ave" в "nave", "ate" в "water"
__\p{__*name*__}__ | Соответствует любому одиночному символу в общей категории Юникода или в именованном блоке, указанном в параметре *name*. | `\p{Lu}`, `\p{IsCyrillic}` | "C", "L" в "City Lights", "?", "?" в "??em"
__\P{__*name*__}__ | Соответствует любому одиночному символу, не входящему в общую категорию Юникода или в именованный блок, указанный в параметре *name*. | `\P{Lu}`, `\P{IsCyrillic}` |"i", "t", "y" в "City", "e", "m" в "??em"
**\w** | Соответствует любому алфавитно-цифровому знаку. | `\w` | "I", "D", "A", "1", "3" в "ID A1.3" 
**\W** | Соответствует любому символу, который не является буквенно-цифровым знаком. | `\W` | " ", "." в "ID A1.3"
**\s** | Соответствует любому знаку пробела. | `\w\s` | "D " в "ID A1.3"
**\S** | Соответствует любому знаку, не являющемуся пробелом. | `\s\S` | " _" в "int __ctr" 
**\d** | Соответствует любой десятичной цифре. | `\d` | "4" в "4 = IV" 
**\D** | Соответствует любому символу, не являющемуся десятичной цифрой. | `\D` | " ", "=", " ", "I", "V" в "4 = IV" 

## <a name="anchors"></a>Привязки

Привязки, или атомарные утверждения нулевой ширины, приводят к успеху или сбою сопоставления, в зависимости от текущей позиции в строке, но не предписывают обработчику перемещаться по строке или обрабатывать символы. Метасимволы, приведенные в следующей таблице, являются привязками. Дополнительные сведения см. в статье [Привязки в регулярных выражениях](anchors.md).

Утверждение | Описание | Шаблон | Число соответствий
--------- | ----------- | ------- | ------- 
**^** | Соответствие должно начинаться в начале строки. | `^\d{3}` | "901" в "901-333-"
**$** | Соответствие должно обнаруживаться в конце строки или до символа **\n** в конце строки. | `-\d{3}$` | "-333" в "-901-333"
**\A** | Соответствие должно обнаруживаться в начале строки. | `\A\d{3}` | "901" в "901-333-"
**\Z** | Соответствие должно обнаруживаться в конце строки или до символа **\n** в конце строки. | `-\d{3}\Z` | "-333" в "-901-333"
**\z** | Соответствие должно обнаруживаться в конце строки. | `-\d{3}\z` | "-333" в "-901-333"
**\G** | Соответствие должно обнаруживаться в той точке, где заканчивается предыдущее соответствие. | `\G\(\d\)` | "(1)", "(3)", "(5)" в "(1)(3)(5)[7]&#40;9)"
**\b** | Соответствие должно обнаруживаться на границе между символом **\w** (алфавитно-цифровым) и символом **\W** (не алфавитно-цифровым). | `\b\w+\s\w+\b` | "them theme", "them them" в "them theme them them" 
**\B** | Соответствие не должно обнаруживаться на границе **\b**. | `\Bend\w*\b` | "ends", "ender" в "end sends endure lender"

## <a name="grouping-constructs"></a>Конструкции группирования

Конструкции группирования отображают части выражений регулярных выражений и обычно захватывают части строки входной строки. Конструкции группирования состоят из языковых элементов, приведенных в следующей таблице. Дополнительные сведения см. в статье [Конструкции группировки в регулярных выражениях](grouping.md).

Конструкция группирования | Описание | Шаблон | Число соответствий
------------------ | ----------- | ------- | ------- 
**(**_subexpression_**)** | Захватывает соответствующую часть выражения и назначает ей порядковый номер, отсчитываемый от единицы. | `(\w)\1` | "ee" в "deep"
**(?**<name> _subexpression_**)** | Выделяет соответствующую часть выражения в именованную группу. | `(?<double>\w)\k<double>` | "ee" в "deep"
**(?**<name1-name2> _subexpression_**)** | Задает сбалансированное определение группы. Дополнительные сведения см. в разделе [Сбалансированное определение группы](grouping.md#balancing-group-definitions) статьи [Конструкции группировки в регулярных выражениях](grouping.md). | `(((?'Open'\()[^\(\)]*)+((?'Close-Open'\))[^\(\)]*)+)*(?(Open)(?!))$` | "((1-3)*(3-1))" в "3+2^((1-3)*(3-1))"
**(?**: subexpression**)** | Определяет невыделяемую группу. | `Write(?:Line)?` | "WriteLine" в "Console.WriteLine()", "Write" в "Console.Write(value)"
**(?imnsx-imnsx**: _subexpression_**)** | Применяет или отключает указанные параметры в _subexpression_. Дополнительные сведения см. в статье [Параметры регулярных выражений](options.md). | `A\d{2}(?i:\w+)\b` | "A12xl", "A12XL" в "A12xl A12XL a12xl"
**(?**= _subexpression_**)** | Утверждение положительного просмотра вперед нулевой ширины. | `\w+(?=\.)` | "is", "ran" и "out" в "He is. The dog ran. The sun is out."
**(?!** _subexpression_**)** | Утверждение отрицательного просмотра вперед нулевой ширины. | `\b(?!un)\w+\b` | "sure", "used" в "unsure sure unity used"
**(?**<= _subexpression_**)** | Утверждение положительного просмотра назад нулевой ширины. | `(?<=19)\d{2}\b` | "99", "50", "05" в "1851 1999 1950 1905 2003"
**(?**<! _subexpression_**)** | Утверждение отрицательного просмотра назад нулевой ширины. | `(?<!19)\d{2}\b` | "51", "03" в "1851 1999 1950 1905 2003"
**(?**> _subexpression_**)** | Часть выражения поиска без возврата (или "жадного" поиска). | `[13579](?>A+B+)` | "1ABB", "3ABB" и "5AB" в "1ABB 3ABBC 5AB 5AC"

## <a name="quantifiers"></a>Кванторы

Квантор указывает количество вхождений предшествующего элемента (знака, группы или класса знаков), которое должно присутствовать во входной строке, чтобы было зафиксировано соответствие. Кванторы состоят из языковых элементов, приведенных в следующей таблице. Дополнительные сведения см. в статье [Квантификаторы в регулярных выражениях](quantifiers.md).

Квантификатор | Описание | Шаблон | Число соответствий
---------- | ----------- | ------- | -------
__*__ | Соответствует предыдущему элементу ноль или более раз. | `\d*\.\d` | ".0", "19.9", "219.9"
**+** | Соответствует предыдущему элементу один или более раз. | `"be+"` | "bee" в "been", "be" в "bent"
**?** | Соответствует предыдущему элементу ноль или один раз. | `"rai?n"` | "ran", "rain"
**{**_n_**}** | Соответствует предыдущему элементу ровно *n* раз. | `",\d{3}"` | ",043" в "1,043.6", ",876", ",543" и ",210" в "9,876,543,210"
**{**_n_,**}** | Соответствует предыдущему элементу как минимум *n* раз. | `"\d{2,}"` | "166", "29", "1930"
**{**_n_,_m_**}** | Соответствует предыдущему элементу как минимум *n* раз, но не более чем *m* раз. | `"\d{3,5}"` | "166", "17668"; "19302" в "193024"
__*?__ | Предыдущий элемент не повторяется вообще или повторяется, но как можно меньшее число раз. | `\d*?\.\d` | ".0", "19.9", "219.9"
**+?** | Предыдущий элемент повторяется один или несколько раз, но как можно меньшее число раз. | `"be+?"` | "be" в "been", "be" в "bent"
**??** | Предыдущий элемент не повторяется или повторяется один раз, но как можно меньшее число раз. | `"rai??n"` | "ran", "rain"
**{**_n_**}?** | Соответствует предыдущему элементу ровно *n* раз. | `",\d{3}?"` | ",043" в "1,043.6", ",876", ",543" и ",210" в "9,876,543,210"
**{**_n_,**}?** | Соответствует предыдущему элементу как минимум *n* раз (как можно меньшее количество раз). | `"\d{2,}?"` | "166", "29", "1930"
**{**_n_,_m_**}?** | Соответствует предыдущему элементу от *n* до *m* раз (как можно меньшее количество раз). | `"\d{3,5}?"` | "166", "17668"; "193", "024" в "193024"

## <a name="backreference-constructs"></a>Конструкции обратных ссылок

Обратная ссылка позволяет впоследствии идентифицировать ранее найденную соответствующую часть выражения в том же регулярном выражении. В следующей таблице перечислены конструкции обратных ссылок, поддерживаемые регулярными выражениями платформы .NET Framework. Дополнительные сведения см. в статье [Конструкции обратных ссылок в регулярных выражениях](backreference.md).

Конструкция обратных ссылок | Описание | Шаблон | Число соответствий
----------------------- | ----------- | ------- | -------
**\**_число_ | Обратная ссылка. Соответствует значению нумерованной части выражения. | `(\w)\1    ` | "ee" в "seek"
**\k<**_name_**>** | Именованная обратная ссылка. Соответствует значению именованного выражения. | `(?<char>\w)\k<char>` | "ee" в "seek"

## <a name="alternation-constructs"></a>Конструкции изменения

Конструкции изменения модифицируют регулярное выражение, включая сопоставление по принципу "либо-либо". Такие конструкции состоят из языковых элементов, приведенных в следующей таблице. Дополнительные сведения см. в статье [Конструкции изменения в регулярных выражениях](alternation.md).

Конструкция изменения | Описание | Шаблон | Число соответствий
--------------------- | ----------- | ------- | ------- 
**&#124;** | Соответствует любому элементу, разделенному вертикальной чертой (|). | `th(e*&#124;is*&#124;at)` | "the", "this" в "this is the day. "
__(?(__*expression*__)__*yes*__&#124;__*no*__)__ | Соответствует *yes* в случае соответствия шаблона регулярного выражения, определяемого выражением *expression*; в противном случае соответствует дополнительной части *no*. *expression* интерпретируется как утверждение нулевой ширины. | `(?(A)A\d{2}\b*&#124;\b\d{3}\b)` | "A10", "910" в "A10 C103 910"
**(?(**_name_**)**_yes_&#124;_no_**)** | Соответствует *yes* в случае соответствия именованной или нумерованной захватываемой группе *name*; в противном случае соответствует дополнительному *no*. | `(?<quoted>")?(?,(quoted).+?"*&#124;\S+\s)` | Dogs.jpg, "Yiska playing.jpg" в "Dogs.jpg "Yiska playing.jpg""

## <a name="substitutions"></a>Подстановки

Подстановки – это языковые элементы регулярных выражений, которые поддерживаются в шаблонах замены. Дополнительные сведения см. в статье [Подстановки в регулярных выражениях](substitutions.md). Приведенные в следующей таблице метасимволы являются атомарными утверждениями нулевой ширины.

Знак | Описание | Шаблон | Шаблон замены | Входная строка | Результирующая строка
--------- | ----------- | ------- | ------------------- | ------------ | ------------- 
**$**_number_ | Замещает часть строки, соответствующую группе *number*. | `\b(\w+)(\s)(\w+)\b` | `$3$2$1` | "один два" | "два один"
**${**_name_**}** | Замещает часть строки, соответствующую именованной группе *name*. | `\b(?<word1>\w+)(\s)(?<word2>\w+)\b` | `${word2} ${word1}` | "один два" | "два один"
**$$** | Подставляет литерал "$". | `\b(\d+)\s?USD` | `$$$1` | "103 USD" | "$103"
**$&** | Замещает копией полного соответствия. | `\$?\d*\.?\d+` | `**$&**` | "$1.30" | "**$1.30**"
**$`** | Замещает весь текст входной строки до соответствия. | `B+` | `$`` | "AABBCC" | "AAAACC"
**$'** | Замещает весь текст входной строки после соответствия. | `B+` | `$'` | "AABBCC" | "AACCCC"
**$+** | Замещает последнюю захваченную группу. | `B+(C+)` | `$+` | "AABBCCDD" | "AACCDD"
**$_** | Замещает всю входную строку. | `B+` | `$_` | "AABBCC" | "AAAABBCCCC"

## <a name="regular-expression-options"></a>Параметры регулярных выражений

Можно определить параметры, управляющие интерпретацией шаблона регулярного выражения обработчиком регулярных выражений. Многие из этих параметров можно указать в шаблоне регулярного выражения либо в виде одной или нескольких констант `RegexOptions`. Этот краткий справочник перечисляет только встраиваемые параметры. Дополнительные сведения о встроенных параметрах и параметрах `RegexOptions` см. в статье [Параметры регулярных выражений](options.md). 

Встроенный параметр можно задать двумя способами:

* С помощью прочих конструкций **(?imnsx-imnsx)**, где минус (-) перед параметром или набором параметров отключает эти параметры. Например, **(?i-mn)** включает сопоставление без учета регистра (i), отключает многострочный режим (**m**) и захват неименованных групп (**n**). Параметр применяется к шаблону регулярного выражения от точки, в которой определен параметр, и действует либо до конца шаблона, либо до точки, в которой другая конструкция отменяет параметр.

* С помощью конструкции группировки **(?imnsx-imnsx:**_subexpression_**)**, коротая определяет параметры только для указанной группы.

Механизм регулярных выражений .NET поддерживает следующие встроенные параметры.

Параметр | Описание | Шаблон | Число соответствий
------ | ----------- | ------- | ------- 
**i** | Использовать соответствие без учета регистра. | **\b(?i)a(?-i)a\w+\b** | "aardvark", "aaaAuto" в "aardvark AAAuto aaaAuto Adam breakfast" 
**m** | Использовать многострочный режим. **^** и **$** соответствуют началу и концу строки (line), а не началу и концу строки (string). | Пример см. в разделе "Многострочный режим" статьи [Параметры регулярных выражений](options.md). | 
**n*** | Не захватывать неименованные группы. | Пример см. в разделе "Только явные захваты" статьи [Параметры регулярных выражений](options.md). | 
**s** | Использовать однострочный режим. | Пример см. в разделе "Однострочный режим" статьи [Параметры регулярных выражений](options.md). | 
**x** | Игнорировать знаки пробела в шаблоне регулярного выражения, не преобразованные в escape-последовательность. | **\b(?x) \d+ \s \w+** | "1 aardvark", "2 cats" в "1 aardvark 2 cats IV centurions" 

##<a name="miscellaneous-constructs"></a>Прочие конструкции

Прочие конструкции либо изменяют шаблон регулярных выражений, либо предоставляют сведения о нем. В следующей таблице перечислены все прочие конструкции, поддерживаемые платформой .NET. Дополнительные сведения см. в разделе [Другие конструкции в регулярных выражениях](miscellaneous.md).

Конструкция | Определение | Пример
--------- | ---------- | ------- 
**(?imnsx-imnsx)** | Устанавливает или отключает такие параметры, как учет регистра в середине шаблона. Дополнительные сведения см. в статье [Параметры регулярных выражений](options.md). | `\bA(?i)b\w+\b` соответствует "ABA", "Able" в "ABA Able Act"
**(?#** _comment_**)** | Встроенное примечание. Примечание заканчивается первой закрывающей скобкой. | `\bA(?#` соответствует словам, начинающимся с `A)\w+\b`
**#** [до конца строки] | Комментарий режима X. Комментарий начинается от знака # без обратной косой черты и продолжается до конца строки. | `(?x)\bA\w+\b#` соответствует словам, начинающимся с `A`

## <a name="see-also"></a>См. также




[System.Text.RegularExpressions](xref:System.Text.RegularExpressions)

[Регулярное выражение](xref:System.Text.RegularExpressions.Regex)

[Регулярные выражения в .NET](regular-expressions.md)

[Объектная модель регулярных выражений](object-model.md)

[Примеры регулярных выражений](regex-examples.md)

[Скачать в формате Word (.docx)](http://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)
    
[Скачать в формате PDF (.pdf)](http://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)

