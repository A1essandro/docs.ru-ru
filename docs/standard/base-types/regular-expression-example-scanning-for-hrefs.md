---
title: "Пример регулярного выражения. Поиск ссылок HREF | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "поиск с использованием регулярных выражений, примеры"
  - "разбор текста с использованием регулярных выражений, примеры"
  - "регулярные выражения, примеры"
  - "регулярные выражения .NET Framework, примеры"
  - "регулярные выражения [платформа .NET Framework], примеры"
  - "синтаксис соответствия шаблону с регулярными выражениями, примеры"
ms.assetid: fae2c15b-7adf-4b15-b118-58eb3906994f
caps.latest.revision: 24
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 24
---
# Пример регулярного выражения. Поиск ссылок HREF
В следующем примере показаны поиск и печать всех значений href\="...", а также их позиций во входной строке.  
  
## Объект Regex  
 Поскольку метод `DumpHRefs` может быть вызван из пользовательского кода несколько раз, используется метод `static` \(`Shared` в Visual Basic\) <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=fullName>.  Это позволяет кэшировать регулярное выражение и избежать дополнительной нагрузки, связанной с созданием объекта <xref:System.Text.RegularExpressions.Regex> при каждом вызове метода..  Объект <xref:System.Text.RegularExpressions.Match> используется для итерации по всем совпадениями в строке.  
  
 [!code-csharp[RegularExpressions.Examples.HREF#1](../../../samples/snippets/csharp/VS_Snippets_CLR/RegularExpressions.Examples.HREF/cs/example.cs#1)]
 [!code-vb[RegularExpressions.Examples.HREF#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/RegularExpressions.Examples.HREF/vb/example.vb#1)]  
  
 В следующем примере демонстрируется вызов метода `DumpHRefs`.  
  
 [!code-csharp[RegularExpressions.Examples.HREF#2](../../../samples/snippets/csharp/VS_Snippets_CLR/RegularExpressions.Examples.HREF/cs/example.cs#2)]
 [!code-vb[RegularExpressions.Examples.HREF#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/RegularExpressions.Examples.HREF/vb/example.vb#2)]  
  
 Интерпретация шаблона регулярного выражения `href\s*=\s*(?:["'](?<1>[^"']*)["']|(?<1>\S+))` показана в следующей таблице.  
  
|Шаблон|Описание|  
|------------|--------------|  
|`href`|Совпадение с литеральной строкой "href".  Сопоставление не учитывает регистр.|  
|`\s*`|Соответствует нулю или нескольким символам пробела.|  
|`=`|Сопоставить знаку равенства.|  
|`\s*`|Соответствует нулю или нескольким символам пробела.|  
|`(?:["'](?<1>[^"']*)"&#124;(?<1>\S+))`|Сопоставить одному из следующих без назначения результата захваченной группе:<br /><br /> -   Одиночные кавычки или апостроф, за которыми следует ноль или несколько вхождений любого символа, отличающегося от одиночных кавычек или апострофа, за которыми следуют одиночные кавычки или апостроф.  В этот шаблон включена группа с именем `1`.<br />-   Один или более символов, отличных от пробела.  В этот шаблон включена группа с именем `1`.|  
|`(?<1>[^"']*)`|Присвоить ноль или несколько вхождений любого символа, отличного от одиночной кавычки или апострофа, захваченной группе с именем `1`.|  
|`"(?<1>\S+)`|Присвоить один или более символов, отличных от пробела, захваченной группе с именем `1`.|  
  
## Класс результата поиска  
 Результаты поиска сохраняются в классе <xref:System.Text.RegularExpressions.Match>, который предоставляет доступ ко всем подстрокам, извлеченным в ходе поиска.  Также запоминается искомая строка и используемое регулярное выражение, поэтому можно вызвать метод <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=fullName> для выполнения другого поиска, начиная с того места, где закончился предыдущий.  
  
## Явно именованные шаблоны  
 В обычных регулярных выражениях круглые скобки, обозначающие отдельные шаблоны, автоматически последовательно нумеруются.  В связи с этим возникают две проблемы.  Во\-первых, если регулярное выражение изменяется из\-за вставки или удаления пары круглых скобок, все части кода, которые ссылаются на нумерованные шаблоны, необходимо переписать, чтобы отразить новую нумерацию.  Во\-вторых, вследствие того, что различные пары круглых скобок часто используются для определения двух альтернативных выражений для поиска, трудно определить, какое из двух выражений в действительности вернуло результат.  
  
 Для решения этих проблем класс <xref:System.Text.RegularExpressions.Regex> поддерживает синтаксис `(?<name>…)`, с помощью которого найденный элемент можно сохранить в указанной ячейке \(которой можно присвоить строковое имя или целочисленное обозначение; целые числа при этом работают быстрее\).  Таким образом, если шаблон будет найден повторно, он попадет в ту же ячейку.  В случае конфликта последнее соответствие, помещенное в ячейку, является успешным. \(Однако доступен и полный список соответствий для одной ячейки.  Дополнительные сведения см. в коллекции <xref:System.Text.RegularExpressions.Group.Captures%2A?displayProperty=fullName>.\)  
  
## См. также  
 [Регулярные выражения в .NET Framework](../../../docs/standard/base-types/regular-expressions.md)