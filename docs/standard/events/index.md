---
title: "Обработка и вызов событий | Документы Майкрософт"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- delegate model for events
- application development [.NET Framework], events
- events [.NET Framework]
ms.assetid: b6f65241-e0ad-4590-a99f-200ce741bb1f
caps.latest.revision: 23
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.translationtype: Human Translation
ms.sourcegitcommit: 9f5b8ebb69c9206ff90b05e748c64d29d82f7a16
ms.openlocfilehash: 88bf85c99251c1d62f443dde376878255f4585cb
ms.contentlocale: ru-ru
ms.lasthandoff: 05/02/2017

---
# <a name="handling-and-raising-events"></a><span data-ttu-id="ebbf9-102">Обработка и вызов событий</span><span class="sxs-lookup"><span data-stu-id="ebbf9-102">Handling and Raising Events</span></span>
<span data-ttu-id="ebbf9-103">События на платформе .NET Framework основаны на модели делегата.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-103">Events in the .NET Framework are based on the delegate model.</span></span> <span data-ttu-id="ebbf9-104">Модель делегата соответствует шаблону разработки наблюдателя, который позволяет подписчику зарегистрироваться у поставщика и получать от него уведомления.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-104">The delegate model follows the observer design pattern, which enables a subscriber to register with, and receive notifications from, a provider.</span></span> <span data-ttu-id="ebbf9-105">Отправитель события отправляет уведомление о событии, а приемник событий получает уведомление и определяет ответ на него.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-105">An event sender pushes a notification that an event has happened, and an event receiver receives that notification and defines a response to it.</span></span> <span data-ttu-id="ebbf9-106">В этом разделе описываются основные компоненты модели делегата, использование событий в приложениях и реализация событий в коде.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-106">This article describes the major components of the delegate model, how to consume events in applications, and how to implement events in your code.</span></span>  
  
 <span data-ttu-id="ebbf9-107">Дополнительные сведения об обработке событий в приложениях [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] см. в разделе [Общие сведения о событиях и перенаправленных событиях (приложения для Магазина Windows)](http://go.microsoft.com/fwlink/p/?LinkId=261485).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-107">For information about handling events in [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps, see [Events and routed events overview (Windows store apps)](http://go.microsoft.com/fwlink/p/?LinkId=261485).</span></span>  
  
## <a name="events"></a><span data-ttu-id="ebbf9-108">События</span><span class="sxs-lookup"><span data-stu-id="ebbf9-108">Events</span></span>  
 <span data-ttu-id="ebbf9-109">Событие — это сообщение, посланное объектом, чтобы сообщить о совершении действия.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-109">An event is a message sent by an object to signal the occurrence of an action.</span></span> <span data-ttu-id="ebbf9-110">Это действие может быть вызвано взаимодействием с пользователем, например при нажатии кнопки, или другой логикой программы, например изменением значения свойства.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-110">The action could be caused by user interaction, such as a button click, or it could be raised by some other program logic, such as changing a property’s value.</span></span> <span data-ttu-id="ebbf9-111">Объект, вызывающий событие, называется *отправителем событий*.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-111">The object that raises the event is called the *event sender*.</span></span> <span data-ttu-id="ebbf9-112">Отправителю событий не известен объект или метод, который будет получать (обрабатывать) созданные им события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-112">The event sender doesn't know which object or method will receive (handle) the events it raises.</span></span> <span data-ttu-id="ebbf9-113">Обычно событие является членом отправителя событий; например, событие <xref:System.Web.UI.WebControls.Button.Click> — член класса <xref:System.Web.UI.WebControls.Button>, а событие <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> — член класса, реализующего интерфейс <xref:System.ComponentModel.INotifyPropertyChanged>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-113">The event is typically a member of the event sender; for example, the <xref:System.Web.UI.WebControls.Button.Click> event is a member of the <xref:System.Web.UI.WebControls.Button> class, and the <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> event is a member of the class that implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface.</span></span>  
  
 <span data-ttu-id="ebbf9-114">Чтобы определить событие, необходимо использовать ключевое слово `event` (в C#) или `Event` (в Visual Basic) в сигнатуре класса события и задать тип делегата для события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-114">To define an event, you use the `event` (in C#) or `Event` (in Visual Basic) keyword in the signature of your event class, and specify the type of delegate for the event.</span></span> <span data-ttu-id="ebbf9-115">Делегаты описаны в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-115">Delegates are described in the next section.</span></span>  
  
 <span data-ttu-id="ebbf9-116">Как правило, для вызова события добавляется метод, помеченный как `protected` и `virtual` (в C#) или `Protected` и `Overridable` (в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-116">Typically, to raise an event, you add a method that is marked as `protected` and `virtual` (in C#) or `Protected` and `Overridable` (in Visual Basic).</span></span> <span data-ttu-id="ebbf9-117">Назовите этот метод `On`*EventName*; например, `OnDataReceived`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-117">Name this method `On`*EventName*; for example, `OnDataReceived`.</span></span> <span data-ttu-id="ebbf9-118">Метод должен принимать один параметр, который определяет объект данных события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-118">The method should take one parameter that specifies an event data object.</span></span> <span data-ttu-id="ebbf9-119">Этот метод предоставляется, чтобы производные классы могли переопределять логику для вызова события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-119">You provide this method to enable derived classes to override the logic for raising the event.</span></span> <span data-ttu-id="ebbf9-120">Производный класс должен вызывать метод `On`*EventName* базового класса, чтобы зарегистрированные делегаты получили событие.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-120">A derived class should always call the `On`*EventName* method of the base class to ensure that registered delegates receive the event.</span></span>  
  
 <span data-ttu-id="ebbf9-121">В следующем примере показан способ объявления события `ThresholdReached`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-121">The following example shows how to declare an event named `ThresholdReached`.</span></span> <span data-ttu-id="ebbf9-122">Событие связано с делегатом <xref:System.EventHandler> и возникает в методе `OnThresholdReached`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-122">The event is associated with the <xref:System.EventHandler> delegate and raised in a method named `OnThresholdReached`.</span></span>  
  
 <span data-ttu-id="ebbf9-123">[!code-csharp[EventsOverview#1](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#1)]
 [!code-vb[EventsOverview#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#1)]</span><span class="sxs-lookup"><span data-stu-id="ebbf9-123">[!code-csharp[EventsOverview#1](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#1)]
 [!code-vb[EventsOverview#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#1)]</span></span>  
  
## <a name="delegates"></a><span data-ttu-id="ebbf9-124">Делегаты</span><span class="sxs-lookup"><span data-stu-id="ebbf9-124">Delegates</span></span>  
 <span data-ttu-id="ebbf9-125">Делегат — это тип, содержащий ссылку на метод.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-125">A delegate is a type that holds a reference to a method.</span></span> <span data-ttu-id="ebbf9-126">Делегат объявлен с сигнатурой, указывающей тип возвращаемого значения и параметры для методов, на которые он ссылается, и может содержать ссылки только на методы, соответствующие его сигнатуре.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-126">A delegate is declared with a signature that shows the return type and parameters for the methods it references, and can hold references only to methods that match its signature.</span></span> <span data-ttu-id="ebbf9-127">Таким образом, делегат эквивалентен указателю на строго типизированную функцию или обратному вызову.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-127">A delegate is thus equivalent to a type-safe function pointer or a callback.</span></span> <span data-ttu-id="ebbf9-128">Объявления делегата достаточно для определения класса делегата.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-128">A delegate declaration is sufficient to define a delegate class.</span></span>  
  
 <span data-ttu-id="ebbf9-129">Делегаты имеют множество применений в платформе .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-129">Delegates have many uses in the .NET Framework.</span></span> <span data-ttu-id="ebbf9-130">В контексте событий делегат — это посредник (или механизм, подобный указателю) между источником события и кодом, обрабатывающим событие.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-130">In the context of events, a delegate is an intermediary (or pointer-like mechanism) between the event source and the code that handles the event.</span></span> <span data-ttu-id="ebbf9-131">Делегат связывается с событием за счет включения типа делегата в объявление события, как показано в примере в предыдущем разделе.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-131">You associate a delegate with an event by including the delegate type in the event declaration, as shown in the example in the previous section.</span></span> <span data-ttu-id="ebbf9-132">Дополнительные сведения о делегатах см. в разделе, посвященном классу <xref:System.Delegate>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-132">For more information about delegates, see the <xref:System.Delegate> class.</span></span>  
  
 <span data-ttu-id="ebbf9-133">Платформа .NET Framework предоставляет делегаты <xref:System.EventHandler> и <xref:System.EventHandler%601> для поддержки большинства сценариев событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-133">The .NET Framework provides the <xref:System.EventHandler> and <xref:System.EventHandler%601> delegates to support most event scenarios.</span></span> <span data-ttu-id="ebbf9-134">Используйте делегат <xref:System.EventHandler> для всех событий, не содержащих данных.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-134">Use the <xref:System.EventHandler> delegate for all events that do not include event data.</span></span> <span data-ttu-id="ebbf9-135">Используйте делегат <xref:System.EventHandler%601> для событий, содержащих данные о событии.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-135">Use the <xref:System.EventHandler%601> delegate for events that include data about the event.</span></span> <span data-ttu-id="ebbf9-136">У этих делегатов нет типа возвращаемого значения, они принимают 2 параметра (объект для источника события и объект для данных события).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-136">These delegates have no return type value and take two parameters (an object for the source of the event and an object for event data).</span></span>  
  
 <span data-ttu-id="ebbf9-137">Эти делегаты являются многоадресными, то есть могут хранить ссылки на несколько методов обработки событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-137">Delegates are multicast, which means that they can hold references to more than one event-handling method.</span></span> <span data-ttu-id="ebbf9-138">Дополнительные сведения см. на справочной странице <xref:System.Delegate>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-138">For details, see the <xref:System.Delegate> reference page.</span></span> <span data-ttu-id="ebbf9-139">Делегаты позволяют гибко и точно управлять обработкой событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-139">Delegates provide flexibility and fine-grained control in event handling.</span></span> <span data-ttu-id="ebbf9-140">Делегат выступает как диспетчер событий для класса, вызывающий событие за счет ведения списка зарегистрированных обработчиков для события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-140">A delegate acts as an event dispatcher for the class that raises the event by maintaining a list of registered event handlers for the event.</span></span>  
  
 <span data-ttu-id="ebbf9-141">Для сценариев, где делегаты <xref:System.EventHandler> и <xref:System.EventHandler%601> не работают, можно определить свой собственный делегат.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-141">For scenarios where the <xref:System.EventHandler> and <xref:System.EventHandler%601> delegates do not work, you can define a delegate.</span></span> <span data-ttu-id="ebbf9-142">Сценарии, для которых необходимо определять собственные делегаты, очень редки. Это бывает, например, при работе с кодом, не распознающим универсальные типы.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-142">Scenarios that require you to define a delegate are very rare, such as when you must work with code that does not recognize generics.</span></span> <span data-ttu-id="ebbf9-143">При объявлении делегат необходимо пометить ключевым словом `delegate` (в C#) или `Delegate` (в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-143">You mark a delegate with the `delegate` in (C#) and `Delegate` (in Visual Basic) keyword in the declaration.</span></span> <span data-ttu-id="ebbf9-144">В следующем примере показано, как объявить делегат с именем `ThresholdReachedEventHandler`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-144">The following example shows how to declare a delegate named `ThresholdReachedEventHandler`.</span></span>  
  
 <span data-ttu-id="ebbf9-145">[!code-csharp[EventsOverview#4](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#4)]
 [!code-vb[EventsOverview#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#4)]</span><span class="sxs-lookup"><span data-stu-id="ebbf9-145">[!code-csharp[EventsOverview#4](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#4)]
 [!code-vb[EventsOverview#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#4)]</span></span>  
  
## <a name="event-data"></a><span data-ttu-id="ebbf9-146">Данные событий</span><span class="sxs-lookup"><span data-stu-id="ebbf9-146">Event Data</span></span>  
 <span data-ttu-id="ebbf9-147">Данные, связанные с событием, могут быть предоставлены с помощью класса данных события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-147">Data that is associated with an event can be provided through an event data class.</span></span> <span data-ttu-id="ebbf9-148">Платформа .NET Framework предоставляет множество классов данных событий, которые можно использовать в приложениях.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-148">The .NET Framework provides many event data classes that you can use in your applications.</span></span> <span data-ttu-id="ebbf9-149">Например, класс <xref:System.IO.Ports.SerialDataReceivedEventArgs> — это класс данных для события <xref:System.IO.Ports.SerialPort.DataReceived?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-149">For example, the <xref:System.IO.Ports.SerialDataReceivedEventArgs> class is the event data class for the <xref:System.IO.Ports.SerialPort.DataReceived?displayProperty=fullName> event.</span></span> <span data-ttu-id="ebbf9-150">В платформе .NET Framework имена всех классов данных событий оканчиваются ключевым словом `EventArgs`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-150">The .NET Framework follows a naming pattern of ending all event data classes with `EventArgs`.</span></span> <span data-ttu-id="ebbf9-151">Определить, какой класс данных события связан с событием, можно по делегату этого события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-151">You determine which event data class is associated with an event by looking at the delegate for the event.</span></span> <span data-ttu-id="ebbf9-152">Например, делегат <xref:System.IO.Ports.SerialDataReceivedEventHandler> включает в качестве одного из своих параметров класс <xref:System.IO.Ports.SerialDataReceivedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-152">For example, the <xref:System.IO.Ports.SerialDataReceivedEventHandler> delegate includes the <xref:System.IO.Ports.SerialDataReceivedEventArgs> class as one of its parameters.</span></span>  
  
 <span data-ttu-id="ebbf9-153">Класс <xref:System.EventArgs> является базовым типом для всех классов данных событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-153">The <xref:System.EventArgs> class is the base type for all event data classes.</span></span> <span data-ttu-id="ebbf9-154">Класс <xref:System.EventArgs> используется также, если событие не содержит связанных данных.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-154"><xref:System.EventArgs> is also the class you use when an event does not have any data associated with it.</span></span> <span data-ttu-id="ebbf9-155">При создании события, которое только уведомляет другие классы о том, что что-то произошло, и не передает никаких данных, используйте класс <xref:System.EventArgs> в качестве второго параметра в делегате.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-155">When you create an event that is only meant to notify other classes that something happened and does not need to pass any data, include the <xref:System.EventArgs> class as the second parameter in the delegate.</span></span> <span data-ttu-id="ebbf9-156">Если данные не предоставляются, можно передать значение <xref:System.EventArgs.Empty?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-156">You can pass the <xref:System.EventArgs.Empty?displayProperty=fullName> value when no data is provided.</span></span> <span data-ttu-id="ebbf9-157">Делегат <xref:System.EventHandler> включает класс <xref:System.EventArgs> в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-157">The <xref:System.EventHandler> delegate includes the <xref:System.EventArgs> class as a parameter.</span></span>  
  
 <span data-ttu-id="ebbf9-158">Если требуется создать пользовательский класс данных события, создайте класс, производный от класса <xref:System.EventArgs>, а затем укажите все члены, необходимые для передачи данных, связанных с событием.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-158">When you want to create a customized event data class, create a class that derives from <xref:System.EventArgs>, and then provide any members needed to pass data that is related to the event.</span></span> <span data-ttu-id="ebbf9-159">В большинстве случаев следует использовать схему именования .NET Framework и завершать имя класса данных события ключевым словом `EventArgs`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-159">Typically, you should use the same naming pattern as the .NET Framework and end your event data class name with `EventArgs`.</span></span>  
  
 <span data-ttu-id="ebbf9-160">В следующем примере показан класс данных события с именем `ThresholdReachedEventArgs`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-160">The following example shows an event data class named `ThresholdReachedEventArgs`.</span></span> <span data-ttu-id="ebbf9-161">Он содержит свойства, относящиеся только к вызываемому событию.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-161">It contains properties that are specific to the event being raised.</span></span>  
  
 <span data-ttu-id="ebbf9-162">[!code-csharp[EventsOverview#3](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#3)]
 [!code-vb[EventsOverview#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#3)]</span><span class="sxs-lookup"><span data-stu-id="ebbf9-162">[!code-csharp[EventsOverview#3](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#3)]
 [!code-vb[EventsOverview#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#3)]</span></span>  
  
## <a name="event-handlers"></a><span data-ttu-id="ebbf9-163">Обработчики событий</span><span class="sxs-lookup"><span data-stu-id="ebbf9-163">Event Handlers</span></span>  
 <span data-ttu-id="ebbf9-164">Для обработки события в приемнике события необходимо определить метод обработчика события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-164">To respond to an event, you define an event handler method in the event receiver.</span></span> <span data-ttu-id="ebbf9-165">Этот метод должен соответствовать сигнатуре делегата обрабатываемого события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-165">This method must match the signature of the delegate for the event you are handling.</span></span> <span data-ttu-id="ebbf9-166">В обработчике событий выполняются действия, необходимые при возникновении события, например сбор данных, введенных пользователем при нажатии кнопки.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-166">In the event handler, you perform the actions that are required when the event is raised, such as collecting user input after the user clicks a button.</span></span> <span data-ttu-id="ebbf9-167">Чтобы получать уведомления при возникновении события, метод обработчика события должен быть подписан на событие.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-167">To receive notifications when the event occurs, your event handler method must subscribe to the event.</span></span>  
  
 <span data-ttu-id="ebbf9-168">В следующем примере показан метод обработчика события `c_ThresholdReached`, который соответствует сигнатуре делегата <xref:System.EventHandler>.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-168">The following example shows an event handler method named `c_ThresholdReached` that matches the signature for the <xref:System.EventHandler> delegate.</span></span> <span data-ttu-id="ebbf9-169">Метод подписывается на событие `ThresholdReached`.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-169">The method subscribes to the `ThresholdReached` event.</span></span>  
  
 <span data-ttu-id="ebbf9-170">[!code-csharp[EventsOverview#2](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#2)]
 [!code-vb[EventsOverview#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#2)]</span><span class="sxs-lookup"><span data-stu-id="ebbf9-170">[!code-csharp[EventsOverview#2](../../../samples/snippets/csharp/VS_Snippets_CLR/eventsoverview/cs/programtruncated.cs#2)]
 [!code-vb[EventsOverview#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/eventsoverview/vb/module1truncated.vb#2)]</span></span>  
  
## <a name="static-and-dynamic-event-handlers"></a><span data-ttu-id="ebbf9-171">Обработчики статических и динамических событий</span><span class="sxs-lookup"><span data-stu-id="ebbf9-171">Static and Dynamic Event Handlers</span></span>  
 <span data-ttu-id="ebbf9-172">Платформа .NET Framework позволяет подписчикам регистрироваться на уведомления о событиях как статически, так и динамически.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-172">The .NET Framework allows subscribers to register for event notifications either statically or dynamically.</span></span> <span data-ttu-id="ebbf9-173">Обработчики статических событий действуют в течение всего жизненного цикла класса, события которого они обрабатывают.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-173">Static event handlers are in effect for the entire life of the class whose events they handle.</span></span> <span data-ttu-id="ebbf9-174">Обработчики динамических событий активируются и деактивируются во время выполнения программы, обычно в ответ на определенную условную логику программы.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-174">Dynamic event handlers are explicitly activated and deactivated during program execution, usually in response to some conditional program logic.</span></span> <span data-ttu-id="ebbf9-175">Например, они могут использоваться, если уведомления о событиях требуются только в определенных условиях, либо приложение предоставляет несколько обработчиков событий и выбор конкретного обработчика зависит от условий среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-175">For example, they can be used if event notifications are needed only under certain conditions or if an application provides multiple event handlers and run-time conditions define the appropriate one to use.</span></span> <span data-ttu-id="ebbf9-176">В примере в предыдущем разделе показано, как динамически добавлять обработчик события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-176">The example in the previous section shows how to dynamically add an event handler.</span></span> <span data-ttu-id="ebbf9-177">Дополнительные сведения см. в разделах [События](http://msdn.microsoft.com/library/8fb0353a-e41b-4e23-b78f-da65db832f70) и [События](http://msdn.microsoft.com/library/a8e51b22-d294-44fb-9539-0072f06c4cb3).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-177">For more information, see [Events](http://msdn.microsoft.com/library/8fb0353a-e41b-4e23-b78f-da65db832f70) and [Events](http://msdn.microsoft.com/library/a8e51b22-d294-44fb-9539-0072f06c4cb3).</span></span>  
  
## <a name="raising-multiple-events"></a><span data-ttu-id="ebbf9-178">Создание нескольких событий</span><span class="sxs-lookup"><span data-stu-id="ebbf9-178">Raising Multiple Events</span></span>  
 <span data-ttu-id="ebbf9-179">Если класс создает несколько событий, компилятор создает одно поле для каждого экземпляра делегата события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-179">If your class raises multiple events, the compiler generates one field per event delegate instance.</span></span> <span data-ttu-id="ebbf9-180">При большом количестве событий стоимость хранения одного поля на делегата может оказаться неприемлемой.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-180">If the number of events is large, the storage cost of one field per delegate may not be acceptable.</span></span> <span data-ttu-id="ebbf9-181">Для таких случаев в платформе .NET Framework предоставляются свойства события, которые можно использовать вместе с другой структурой данных для хранения делегатов события.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-181">For those situations, the .NET Framework provides event properties that you can use with another data structure of your choice to store event delegates.</span></span>  
  
 <span data-ttu-id="ebbf9-182">Свойства событий состоят из объявлений событий и методов доступа к событиям.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-182">Event properties consist of event declarations accompanied by event accessors.</span></span> <span data-ttu-id="ebbf9-183">Методы доступа к событиям — это определяемые пользователем методы, добавляющие или удаляющие экземпляры делегата события из структуры данных хранения.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-183">Event accessors are methods that you define to add or remove event delegate instances from the storage data structure.</span></span> <span data-ttu-id="ebbf9-184">Обратите внимание, что использование свойств события снижает быстродействие по сравнению с полями события, поскольку перед вызовом каждого делегата события его необходимо извлечь.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-184">Note that event properties are slower than event fields, because each event delegate must be retrieved before it can be invoked.</span></span> <span data-ttu-id="ebbf9-185">Необходимо найти компромисс между памятью и скоростью.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-185">The trade-off is between memory and speed.</span></span> <span data-ttu-id="ebbf9-186">Если ваш класс определяет много событий, которые вызываются нечасто, необходимо реализовать свойства событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-186">If your class defines many events that are infrequently raised, you will want to implement event properties.</span></span> <span data-ttu-id="ebbf9-187">Дополнительные сведения см. в разделе [Практическое руководство. Обработка нескольких событий с помощью их свойств](../../../docs/standard/events/how-to-handle-multiple-events-using-event-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-187">For more information, see [How to: Handle Multiple Events Using Event Properties](../../../docs/standard/events/how-to-handle-multiple-events-using-event-properties.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="ebbf9-188">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="ebbf9-188">Related Topics</span></span>  
  
|<span data-ttu-id="ebbf9-189">Заголовок</span><span class="sxs-lookup"><span data-stu-id="ebbf9-189">Title</span></span>|<span data-ttu-id="ebbf9-190">Описание</span><span class="sxs-lookup"><span data-stu-id="ebbf9-190">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="ebbf9-191">Практическое руководство. Вызов и прием событий</span><span class="sxs-lookup"><span data-stu-id="ebbf9-191">How to: Raise and Consume Events</span></span>](../../../docs/standard/events/how-to-raise-and-consume-events.md)|<span data-ttu-id="ebbf9-192">Содержит примеры вызова и приема событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-192">Contains examples of raising and consuming events.</span></span>|  
|[<span data-ttu-id="ebbf9-193">Практическое руководство. Обработка нескольких событий с помощью их свойств</span><span class="sxs-lookup"><span data-stu-id="ebbf9-193">How to: Handle Multiple Events Using Event Properties</span></span>](../../../docs/standard/events/how-to-handle-multiple-events-using-event-properties.md)|<span data-ttu-id="ebbf9-194">Показывает, как использовать свойства событий для обработки нескольких событий.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-194">Shows how to use event properties to handle multiple events.</span></span>|  
|[<span data-ttu-id="ebbf9-195">Шаблон разработки наблюдателя</span><span class="sxs-lookup"><span data-stu-id="ebbf9-195">Observer Design Pattern</span></span>](../../../docs/standard/events/observer-design-pattern.md)|<span data-ttu-id="ebbf9-196">Описывает шаблон разработки, позволяющий подписчику зарегистрироваться у поставщика и получать от него уведомления.</span><span class="sxs-lookup"><span data-stu-id="ebbf9-196">Describes the design pattern that enables a subscriber to register with, and receive notifications from, a provider.</span></span>|  
|[<span data-ttu-id="ebbf9-197">Практическое руководство. Прием событий в приложениях Web Forms</span><span class="sxs-lookup"><span data-stu-id="ebbf9-197">How to: Consume Events in a Web Forms Application</span></span>](../../../docs/standard/events/how-to-consume-events-in-a-web-forms-application.md)|<span data-ttu-id="ebbf9-198">Описывает способы обработки событий, вызванных элементом управления веб-форм (Web Forms).</span><span class="sxs-lookup"><span data-stu-id="ebbf9-198">Shows how to handle an event that is raised by a Web Forms control.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="ebbf9-199">См. также</span><span class="sxs-lookup"><span data-stu-id="ebbf9-199">See Also</span></span>  
 <span data-ttu-id="ebbf9-200"><xref:System.EventHandler></span><span class="sxs-lookup"><span data-stu-id="ebbf9-200"><xref:System.EventHandler></span></span>   
 <span data-ttu-id="ebbf9-201"><xref:System.EventHandler%601></span><span class="sxs-lookup"><span data-stu-id="ebbf9-201"><xref:System.EventHandler%601></span></span>   
 <span data-ttu-id="ebbf9-202"><xref:System.EventArgs></span><span class="sxs-lookup"><span data-stu-id="ebbf9-202"><xref:System.EventArgs></span></span>   
 <span data-ttu-id="ebbf9-203"><xref:System.Delegate></span><span class="sxs-lookup"><span data-stu-id="ebbf9-203"><xref:System.Delegate></span></span>   
<span data-ttu-id="ebbf9-204"> [Общие сведения о событиях и перенаправленных событиях (приложения для Магазина Windows)](http://go.microsoft.com/fwlink/?LinkId=261485) </span><span class="sxs-lookup"><span data-stu-id="ebbf9-204"> [Events and routed events overview (Windows store apps)](http://go.microsoft.com/fwlink/?LinkId=261485) </span></span>  
<span data-ttu-id="ebbf9-205"> [События](http://msdn.microsoft.com/library/8fb0353a-e41b-4e23-b78f-da65db832f70) </span><span class="sxs-lookup"><span data-stu-id="ebbf9-205"> [Events](http://msdn.microsoft.com/library/8fb0353a-e41b-4e23-b78f-da65db832f70) </span></span>  
<span data-ttu-id="ebbf9-206"> [События](http://msdn.microsoft.com/library/a8e51b22-d294-44fb-9539-0072f06c4cb3)</span><span class="sxs-lookup"><span data-stu-id="ebbf9-206"> [Events](http://msdn.microsoft.com/library/a8e51b22-d294-44fb-9539-0072f06c4cb3)</span></span>
