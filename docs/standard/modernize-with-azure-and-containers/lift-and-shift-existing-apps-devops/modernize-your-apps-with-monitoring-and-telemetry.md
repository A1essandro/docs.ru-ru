---
title: "Модернизировать приложений с помощью мониторинга и данные телеметрии"
description: "Архитектура Микрослужбами .NET для приложений .NET в контейнерах | Модернизировать приложений с помощью мониторинга и данные телеметрии"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/26/2017
ms.prod: .net
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 3caeb60cf0107aaf5413d935f3bde11863561c7d
ms.sourcegitcommit: d3cfda0943364aaf6ccd574f55f584576c8a4fee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2018
---
# <a name="modernize-your-apps-with-monitoring-and-telemetry"></a><span data-ttu-id="477f4-103">Модернизировать приложений с помощью мониторинга и данные телеметрии</span><span class="sxs-lookup"><span data-stu-id="477f4-103">Modernize your apps with monitoring and telemetry</span></span>

<span data-ttu-id="477f4-104">При запуске приложения в рабочей среде, важно наличие ценной информации о том, как работает приложение.</span><span class="sxs-lookup"><span data-stu-id="477f4-104">When you run an application in production, it's critical that you have insights about how your application is performing.</span></span> <span data-ttu-id="477f4-105">Работает на высоком уровне?</span><span class="sxs-lookup"><span data-stu-id="477f4-105">Is it performing at a high level?</span></span> <span data-ttu-id="477f4-106">Пользователи получении ошибок или нестабильной или ненадежной, — это приложение?</span><span class="sxs-lookup"><span data-stu-id="477f4-106">Are users getting errors, or is the application stable and reliable?</span></span> <span data-ttu-id="477f4-107">Требуется наблюдение за производительностью форматированного мощные оповещения и панели мониторинга, чтобы гарантировать наличие приложения доступны и выполняется должным образом.</span><span class="sxs-lookup"><span data-stu-id="477f4-107">You need rich performance monitoring, powerful alerting, and dashboards to help ensure that your application is available and performing as expected.</span></span> <span data-ttu-id="477f4-108">Необходимо также иметь возможность быстро см, если имеется проблема, определить, сколько клиентов затрагиваются и анализ основной причины, чтобы найти и устранить ее.</span><span class="sxs-lookup"><span data-stu-id="477f4-108">You also need to be able to see quickly if there's a problem, determine how many customers are affected, and perform a root-cause analysis to find and fix the issue.</span></span>

## <a name="monitor-your-application-with-application-insights"></a><span data-ttu-id="477f4-109">Наблюдать за приложением с помощью Application Insights</span><span class="sxs-lookup"><span data-stu-id="477f4-109">Monitor your application with Application Insights</span></span>

<span data-ttu-id="477f4-110">Аналитика приложений — расширяемую службу управления производительностью приложений (APM) для веб-разработчиков, работающих на нескольких платформах.</span><span class="sxs-lookup"><span data-stu-id="477f4-110">Application Insights is an extensible Application Performance Management (APM) service for web developers who work on multiple platforms.</span></span> <span data-ttu-id="477f4-111">Используйте ее для мониторинга динамической веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="477f4-111">Use it to monitor your live web application.</span></span> <span data-ttu-id="477f4-112">Application Insights автоматически обнаруживает аномалий производительности.</span><span class="sxs-lookup"><span data-stu-id="477f4-112">Application Insights automatically detects performance anomalies.</span></span> <span data-ttu-id="477f4-113">Она также включает средства гибкой аналитической для выявления проблем и поможет вам понять, какие пользователи фактически выполняют вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="477f4-113">It includes powerful analytics tools to help you diagnose issues, and to help you understand what users actually do with your app.</span></span> <span data-ttu-id="477f4-114">Application Insights поможет постоянно улучшать производительность и удобство использования.</span><span class="sxs-lookup"><span data-stu-id="477f4-114">Application Insights is designed to help you continuously improve performance and usability.</span></span> <span data-ttu-id="477f4-115">Он работает для приложений на разнообразных платформах, включая .NET, Node.js и J2EE ли размещается локально или в облаке.</span><span class="sxs-lookup"><span data-stu-id="477f4-115">It works for apps on a wide variety of platforms, including .NET, Node.js, and J2EE, whether hosted on-premises or in the cloud.</span></span> <span data-ttu-id="477f4-116">Application Insights интегрируется с DevOps процессов и имеет точек подключения для различных средств разработки.</span><span class="sxs-lookup"><span data-stu-id="477f4-116">Application Insights integrates with your DevOps processes, and has connection points to a variety of development tools.</span></span>

<span data-ttu-id="477f4-117">Рис. 4-10 является примером как Application Insights мониторинг приложения и как он перехватывает эту информацию на панель мониторинга.</span><span class="sxs-lookup"><span data-stu-id="477f4-117">Figure 4-10 shows an example of how Application Insights monitors your application and how it surfaces those insights to a dashboard.</span></span>

![Панель мониторинга Application Insights](./media/image10.png)

> <span data-ttu-id="477f4-119">**Рис. 4-10.**</span><span class="sxs-lookup"><span data-stu-id="477f4-119">**Figure 4-10.**</span></span> <span data-ttu-id="477f4-120">Панель мониторинга Application Insights</span><span class="sxs-lookup"><span data-stu-id="477f4-120">Application Insights monitoring dashboard</span></span>

## <a name="monitor-your-docker-infrastructure-with-log-analytics-and-its-container-monitoring-solution"></a><span data-ttu-id="477f4-121">Отслеживать состояние инфраструктуры Docker с анализа журналов и его решение для наблюдения за контейнера</span><span class="sxs-lookup"><span data-stu-id="477f4-121">Monitor your Docker infrastructure with Log Analytics and its Container Monitoring solution</span></span>

<span data-ttu-id="477f4-122">[Azure Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview) является частью [Microsoft Azure общее решение по мониторингу](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="477f4-122">[Azure Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview) is part of the [Microsoft Azure overall monitoring solution](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview).</span></span> <span data-ttu-id="477f4-123">Он также представляет собой службу [Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview).</span><span class="sxs-lookup"><span data-stu-id="477f4-123">It's also a service in [Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview).</span></span> <span data-ttu-id="477f4-124">Аналитика журналов наблюдает за облачной и локальной среде (OMS для локальной) в целях обеспечения доступности и производительности.</span><span class="sxs-lookup"><span data-stu-id="477f4-124">Log Analytics monitors cloud and on-premises environments (OMS for on-premises) to help maintain availability and performance.</span></span> <span data-ttu-id="477f4-125">Он собирает данные, созданные ресурсы облака и локальных сред и в другие средства мониторинга для обеспечения аналитики в нескольких источников.</span><span class="sxs-lookup"><span data-stu-id="477f4-125">It collects data generated by resources in your cloud and on-premises environments and from other monitoring tools to provide analysis across multiple sources.</span></span>

<span data-ttu-id="477f4-126">Относительно журналы инфраструктуры Azure службы анализа журналов, как службу Azure принимает данные журнала и метрики из других служб Azure (через [монитора Azure](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor)), виртуальные машины Azure, контейнеры Docker и локальной или других облачных инфраструктур.</span><span class="sxs-lookup"><span data-stu-id="477f4-126">In relation to Azure infrastructure logs, Log Analytics, as an Azure service, ingests log and metric data from other Azure services (via [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor)), Azure VMs, Docker containers, and on-premises or other cloud infrastructures.</span></span> <span data-ttu-id="477f4-127">Аналитика журналов предлагает поиска журналов гибкие и аналитика out поле на основе этих данных.</span><span class="sxs-lookup"><span data-stu-id="477f4-127">Log Analytics offers flexible log search and out-of-the box analytics on top of this data.</span></span> <span data-ttu-id="477f4-128">Он предоставляет широкие возможности средства можно использовать для анализа ко всем источникам данных, он позволяет сложных запросов через все журналы, и можно заранее предупредить на основании указанных условий.</span><span class="sxs-lookup"><span data-stu-id="477f4-128">It provides rich tools that you can use to analyze data across sources, it allows complex queries across all logs, and it can proactively alert based on specified conditions.</span></span> <span data-ttu-id="477f4-129">Можно даже сбора пользовательских данных в центральный репозиторий анализа журналов, где можно запрашивать и визуализировать их.</span><span class="sxs-lookup"><span data-stu-id="477f4-129">You can even collect custom data in the central Log Analytics repository, where you can query and visualize it.</span></span> <span data-ttu-id="477f4-130">Можно также пользоваться преимуществами анализа журналов встроенные решения для сразу же получать подробные сведения о безопасности и функциональных возможностей инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="477f4-130">You also can take advantage of the Log Analytics built-in solutions to immediately gain insights into the security and functionality of your infrastructure.</span></span>

<span data-ttu-id="477f4-131">Можно получить доступ к службе анализа журналов на портале OMS или портал Azure, которые выполняются в любом браузере, и предоставить вам доступ к параметрам конфигурации и несколько средств для анализа и выполнения соответствующих собранных данных.</span><span class="sxs-lookup"><span data-stu-id="477f4-131">You can access Log Analytics through the OMS portal or the Azure portal, which run in any browser, and provide you with access to configuration settings and multiple tools to analyze and act on collected data.</span></span>

<span data-ttu-id="477f4-132">[Решения отслеживания контейнера](https://docs.microsoft.com/azure/log-analytics/log-analytics-containers) в аналитика журналов позволяет просматривать и управлять ими узлах Docker и контейнера Windows в одном месте.</span><span class="sxs-lookup"><span data-stu-id="477f4-132">The [Container Monitoring solution](https://docs.microsoft.com/azure/log-analytics/log-analytics-containers) in Log Analytics helps you view and manage your Docker and Windows Container hosts in a single location.</span></span> <span data-ttu-id="477f4-133">Объясняется, какие контейнеры — под управлением какой образ контейнера они выполняются, и запущенным контейнеров.</span><span class="sxs-lookup"><span data-stu-id="477f4-133">The solution shows which containers are running, what container image they're running, and where containers are running.</span></span> <span data-ttu-id="477f4-134">Можно просмотреть подробные сведения аудита, включая команды, используемые с контейнерами.</span><span class="sxs-lookup"><span data-stu-id="477f4-134">You can view detailed audit information, including commands that are being used with containers.</span></span> <span data-ttu-id="477f4-135">Контейнеры также можно устранить путем просмотра и поиска централизованные журналы, без необходимости удаленно просматривать узлы Docker или Windows.</span><span class="sxs-lookup"><span data-stu-id="477f4-135">You also can troubleshoot containers by viewing and searching centralized logs, without needing to remotely view Docker or Windows hosts.</span></span> <span data-ttu-id="477f4-136">Можно найти контейнеры, которые могут быть шум и требующим много огромные ресурсы на узле.</span><span class="sxs-lookup"><span data-stu-id="477f4-136">You can find containers that might be noisy and consuming excess resources on a host.</span></span> <span data-ttu-id="477f4-137">Кроме того можно просмотреть централизованного ЦП, памяти, хранилища и использования сети и сведения о производительности для контейнеров.</span><span class="sxs-lookup"><span data-stu-id="477f4-137">Additionally, you can view centralized CPU, memory, storage, and network usage, and performance information, for containers.</span></span> <span data-ttu-id="477f4-138">На компьютерах под управлением Windows, можно централизовать и сравнить журналы с сервера Windows Hyper-V и контейнеров Docker.</span><span class="sxs-lookup"><span data-stu-id="477f4-138">On computers running Windows, you can centralize and compare logs from Windows Server, Hyper-V, and Docker containers.</span></span> <span data-ttu-id="477f4-139">Решение поддерживает следующие orchestrators контейнера:</span><span class="sxs-lookup"><span data-stu-id="477f4-139">The solution supports the following container orchestrators:</span></span>

-   <span data-ttu-id="477f4-140">Docker Swarm</span><span class="sxs-lookup"><span data-stu-id="477f4-140">Docker Swarm</span></span>

-   <span data-ttu-id="477f4-141">DC/OS</span><span class="sxs-lookup"><span data-stu-id="477f4-141">DC/OS</span></span>

-   <span data-ttu-id="477f4-142">Kubernetes</span><span class="sxs-lookup"><span data-stu-id="477f4-142">Kubernetes</span></span>

-   <span data-ttu-id="477f4-143">Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="477f4-143">Service Fabric</span></span>

-   <span data-ttu-id="477f4-144">Red Hat OpenShift</span><span class="sxs-lookup"><span data-stu-id="477f4-144">Red Hat OpenShift</span></span>

<span data-ttu-id="477f4-145">Рис. 4-11 взаимосвязи между различными узлы контейнера и агенты и OMS.</span><span class="sxs-lookup"><span data-stu-id="477f4-145">Figure 4-11 shows the relationships between various container hosts and agents and OMS.</span></span>

![Решения отслеживания контейнера аналитика журналов](./media/image11.png)

> <span data-ttu-id="477f4-147">**Рис. 4-11.**</span><span class="sxs-lookup"><span data-stu-id="477f4-147">**Figure 4-11.**</span></span> <span data-ttu-id="477f4-148">Решения отслеживания контейнера аналитика журналов</span><span class="sxs-lookup"><span data-stu-id="477f4-148">Log Analytics Container Monitoring solution</span></span>

<span data-ttu-id="477f4-149">Можно использовать решение отслеживания контейнера аналитика журналов:</span><span class="sxs-lookup"><span data-stu-id="477f4-149">You can use the Log Analytics Container Monitoring solution to:</span></span>

-   <span data-ttu-id="477f4-150">Просмотреть сведения о всех узлов контейнера в одном месте.</span><span class="sxs-lookup"><span data-stu-id="477f4-150">See information about all container hosts in a single location.</span></span>

-   <span data-ttu-id="477f4-151">Знать, какие контейнеры запущен, какое изображение они выполняются, и где они запущены.</span><span class="sxs-lookup"><span data-stu-id="477f4-151">Know which containers are running, what image they're running, and where they're running.</span></span>

-   <span data-ttu-id="477f4-152">См. журнал аудита для операций в контейнерах.</span><span class="sxs-lookup"><span data-stu-id="477f4-152">See an audit trail for actions on containers.</span></span>

-   <span data-ttu-id="477f4-153">Устранение неполадок путем просмотра и поиска централизованные журналы без удаленного входа на узлах Docker.</span><span class="sxs-lookup"><span data-stu-id="477f4-153">Troubleshoot by viewing and searching centralized logs without remote login to the Docker hosts.</span></span>

-   <span data-ttu-id="477f4-154">Найти контейнеров, которые могут быть «шумный соседей» и потребляют огромные ресурсы на узле.</span><span class="sxs-lookup"><span data-stu-id="477f4-154">Find containers that might be "noisy neighbors," and be consuming excess resources on a host.</span></span>

-   <span data-ttu-id="477f4-155">Просмотр централизованного ЦП, памяти, хранилища и использования сети и сведения о производительности для контейнеров.</span><span class="sxs-lookup"><span data-stu-id="477f4-155">View centralized CPU, memory, storage, and network usage, and performance information, for containers.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="477f4-156">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="477f4-156">Additional resources</span></span>

-   <span data-ttu-id="477f4-157">**Обзор наблюдения за Microsoft Azure**</span><span class="sxs-lookup"><span data-stu-id="477f4-157">**Overview of monitoring in Microsoft Azure**</span></span>

[<span data-ttu-id="477f4-158">https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview</span><span class="sxs-lookup"><span data-stu-id="477f4-158">https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview</span></span>](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview)

-   <span data-ttu-id="477f4-159">**Что такое Application Insights?**</span><span class="sxs-lookup"><span data-stu-id="477f4-159">**What is Application Insights?**</span></span>

[<span data-ttu-id="477f4-160">https://docs.microsoft.com/azure/application-insights/app-insights-overview</span><span class="sxs-lookup"><span data-stu-id="477f4-160">https://docs.microsoft.com/azure/application-insights/app-insights-overview</span></span>](https://docs.microsoft.com/azure/application-insights/app-insights-overview)

-   <span data-ttu-id="477f4-161">**Новые возможности анализа журналов**</span><span class="sxs-lookup"><span data-stu-id="477f4-161">**What is Log Analytics?**</span></span>

[<span data-ttu-id="477f4-162">https://docs.microsoft.com/azure/log-analytics/log-analytics-overview</span><span class="sxs-lookup"><span data-stu-id="477f4-162">https://docs.microsoft.com/azure/log-analytics/log-analytics-overview</span></span>](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview)

-   <span data-ttu-id="477f4-163">**Решение мониторинг контейнера в службе анализа журналов**</span><span class="sxs-lookup"><span data-stu-id="477f4-163">**Container Monitoring solution in Log Analytics**</span></span>

[<span data-ttu-id="477f4-164">https://docs.microsoft.com/azure/log-analytics/log-analytics-containers</span><span class="sxs-lookup"><span data-stu-id="477f4-164">https://docs.microsoft.com/azure/log-analytics/log-analytics-containers</span></span>](https://docs.microsoft.com/azure/log-analytics/log-analytics-containers)

-   <span data-ttu-id="477f4-165">**Общие сведения о мониторе Azure**</span><span class="sxs-lookup"><span data-stu-id="477f4-165">**Overview of Azure Monitor**</span></span>

[<span data-ttu-id="477f4-166">https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor</span><span class="sxs-lookup"><span data-stu-id="477f4-166">https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor</span></span>](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor)

-   <span data-ttu-id="477f4-167">**Новые возможности Operations Management Suite (OMS)**</span><span class="sxs-lookup"><span data-stu-id="477f4-167">**What is Operations Management Suite (OMS)?**</span></span>

[<span data-ttu-id="477f4-168">https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview</span><span class="sxs-lookup"><span data-stu-id="477f4-168">https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview</span></span>](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview)

-   <span data-ttu-id="477f4-169">**Наблюдение за контейнеры Windows Server в Service Fabric с OMS**</span><span class="sxs-lookup"><span data-stu-id="477f4-169">**Monitoring Windows Server containers in Service Fabric with OMS**</span></span>

[<span data-ttu-id="477f4-170">https://docs.microsoft.com/azure/service-fabric/service-fabric-diagnostics-containers-windowsserver</span><span class="sxs-lookup"><span data-stu-id="477f4-170">https://docs.microsoft.com/azure/service-fabric/service-fabric-diagnostics-containers-windowsserver</span></span>](https://docs.microsoft.com/azure/service-fabric/service-fabric-diagnostics-containers-windowsserver)

>[!div class="step-by-step"]
<span data-ttu-id="477f4-171">[Назад](build-resilient-services-ready-for-the-cloud-embrace-transient-failures-in-the-cloud.md)
[Вперед](modernize-your-apps-lifecycle-with-ci-cd-pipelines-and-devops-tools-in-the-cloud.md)</span><span class="sxs-lookup"><span data-stu-id="477f4-171">[Previous](build-resilient-services-ready-for-the-cloud-embrace-transient-failures-in-the-cloud.md)
[Next](modernize-your-apps-lifecycle-with-ci-cd-pipelines-and-devops-tools-in-the-cloud.md)</span></span>
