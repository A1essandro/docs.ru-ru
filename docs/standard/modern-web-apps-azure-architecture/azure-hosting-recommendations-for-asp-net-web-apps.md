---
title: "Рекомендации для веб-приложений ASP.NET Core размещения Azure"
description: "Архитектора современных веб-приложений с помощью ASP.NET Core и Azure | Рекомендации для веб-приложения ASP.NET размещения Azure"
author: ardalis
ms.author: wiwagn
ms.date: 10/07/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.openlocfilehash: c361a28321ec9dcbfee1db8036757632a5d81f7c
ms.sourcegitcommit: bbde43da655ae7bea1977f7af7345eb87bd7fd5f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2017
---
# <a name="azure-hosting-recommendations-for-aspnet-core-web-apps"></a>Рекомендации для веб-приложений ASP.NET Core размещения Azure

> «Бизнес-заполнители везде обход ИТ-отделы получение приложений из облака (также называемого SaaS) и оплата их, как это было бы подписки на журнал. И если служба больше не требуется, их отменить подписку с оборудованием, не осталось, неиспользуемые в углу».  
> _\-Plummer Дэрил, Gartner аналитик_

## <a name="summary"></a>Сводка

Независимо от потребностей вашего приложения и архитектуры, Windows Azure может поддерживать. Потребность в размещении может быть сложнее, чем статические веб-сайта в очень сложных приложение состоит из множества служб. Монолитные веб-приложений ASP.NET Core и вспомогательные службы существует несколько хорошо известных конфигураций, которые рекомендуются. Нижеприведенные рекомендации группируются в соответствии с вида ресурсов для размещения, является ли полный приложений, отдельные процессы или данных.

## <a name="web-applications"></a>Веб-приложения

Веб-приложений может быть размещен с:

-   Службы приложений веб-приложений

-   Контейнеры

-   Azure Service Fabric

-   Виртуальные машины (VM)

Из них приложение службы веб-приложений — это рекомендуемый подход для большинства сценариев. Для архитектур микрослужбу рекомендуется подход на основе контейнера или структуры службы. Если требуется больший контроль над компьютеров, запускающих приложения, рассмотрите возможность виртуальных машин Azure.

### <a name="app-service-web-apps"></a>Службы приложений веб-приложений

Службы приложений веб-приложения предлагает полностью управляемую платформу, оптимизированную для размещения веб-приложений. Это platform-as-a-service(PaaS), предложения, что позволяет сосредоточиться на бизнес-логики, пока Azure заботится об инфраструктуре, необходимых для запуска и масштаб приложения. Некоторые ключевые возможности веб-приложений служб приложений:

-   Оптимизация DevOps (непрерывной интеграции и доставки, несколько сред A / B тестирования, поддержка сценариев)

-   Глобальные масштабирования и высокой доступности

-   Подключения к платформы SaaS и локальных данных.

-   Безопасность и соответствие требованиям

-   интеграция Visual Studio

Служба приложений Azure отлично подходит для большинства веб-приложений. Развертывание и управление ими интегрированы в платформу, узлы можно быстро масштабировать для обработки нагрузки с большим трафиком и диспетчера трафика и балансировки нагрузки встроенных обеспечения высокого уровня доступности. Можно переместить существующий веб-узлам в службу приложений Azure с Миграция в сети, использовать приложение с открытым исходным кодом из коллекции веб-приложений или создать новый сайт с помощью framework и средств по своему усмотрению. Функции веб-заданий упрощает добавление фоновое задание обработки для веб-приложения служб приложений.

### <a name="containers-and-azure-container-service"></a>Контейнеры и служба Azure контейнера

Служба Azure контейнера упрощает создавать, настраивать и управлять кластером виртуальных машин, настроенных для запуска приложений в контейнерах. В нем оптимизированного конфигурации популярных средств планирования и orchestration открытым исходным кодом. Это дает возможность использовать существующие навыки или рисования при растущих части опытом сообщества, развертывания и управления контейнера-приложениям на базе Microsoft Azure.

Служба Azure контейнера упрощает создавать, настраивать и управлять кластером виртуальных машин, настроенных для запуска приложений в контейнерах. В нем оптимизированного конфигурации популярных средств планирования и orchestration открытым исходным кодом. Это дает возможность использовать существующие навыки или рисования при растущих части опытом сообщества, развертывания и управления контейнера-приложениям на базе Microsoft Azure.

Одна из целей контейнера службы Azure требуется среды размещения контейнера с помощью средств с открытым исходным кодом и технологии, которые часто используются для заказчиков корпорации Майкрософт уже сегодня. С этой целью служба контейнера Azure предоставляет стандартные конечные точки API для вашего выбранной orchestrator (DC/OS помощью Docker Swarm и Kubernetes). Используя эти конечные точки, может использовать любое программное обеспечение, поддерживающее взаимодействуют с этими конечными точками. Например в случае с помощью Docker Swarm конечной точки, можно использовать интерфейс командной строки Docker (CLI). Для контроллера домена/OS может выбрать DCOS CLI. Kubernetes вы можете kubectl. Рис. 11-1 показывает, как будет использовать эти конечные точки для управления вашими кластерами контейнера.

![](./media/image11-1.png)

**Рис. 11-1.** Azure управление контейнер службы с помощью Docker, Kubernetes или DC/OS конечных точек.

### <a name="azure-service-fabric"></a>Azure Service Fabric

Service Fabric является хорошим выбором при создании нового приложения или перезапись существующего приложения для использования архитектуры микрослужбы. Приложения, которые выполняются на общий пул машин, можно приступить к работе и расширить возможности в большом масштабе с сотнями или тысячами машин при необходимости. Службы с отслеживанием состояния позволяют легко согласованно и надежно хранить состояние приложения и Service Fabric автоматически управляет секционирование службы, масштабирование и доступность для вас. Service Fabric поддерживает WebAPI откройте веб-интерфейсе .NET (OWIN) и ASP.NET Core. По сравнению с службы приложений, Service Fabric также предоставляет больше контроля над или прямой доступ к базовой инфраструктурой. Могут получать удаленный доступ к серверам, или настройте задачи запуска сервера.

### <a name="azure-virtual-machines"></a>Виртуальные машины Azure

При наличии существующего приложения, в которых требуется внесение значительных изменений в приложение службы или Service Fabric, можно выбрать для упрощения миграции в облако виртуальных машин. Тем не менее правильно настройки, защиты и обслуживание виртуальных машин требует намного больше времени и опыта ИТ, по сравнению с службе приложений Azure и Service Fabric. Если вы собираетесь виртуальных машинах Azure, убедитесь, что вы учитывать текущего обслуживания, необходимое для исправления, обновления и управления средой виртуальной Машины. Виртуальные машины Azure — инфраструктуры как услуга (IaaS), а служба приложения и Service Fabric — это платформа как услуга (Paas).

#### <a name="feature-comparison"></a>Сравнение функций

| Функция службы приложений | Service Fabric | Виртуальная машина |
|---------|----------|----------|
| Почти мгновенное развертывание | X | X | |
| Вертикальное масштабирование на более крупные компьютеры без повторного развертывания | X | X | |
| Экземпляры совместно используют содержимое и настройки. Нет необходимости повторного развертывания и повторной настройки при масштабировании | X | X | |
| Несколько сред развертывания (производства, промежуточной) | X | X | |
| Автоматическое управление обновлениями операционной системы | X | | |
| Прямое переключение между 32 или 64-разрядных платформ | X | | |
| Развертывание кода с помощью Git, FTP | X | | X |
| Развертывание кода с помощью WebDeploy | X | | X |
| Развертывание кода с помощью TFS | X | X | X |
| Веб-сайт или веб-служба уровня многоуровневые архитектуры | X | X | X |
| Доступ к службам Azure как Service Bus, хранилища, база данных SQL | X | X | X |
| Установить все пользовательские MSI | | X | X |

## <a name="logical-processes"></a>Логические процессы

Отдельные логические процессов, которые могут быть отделены от остальной части приложения могут быть развернуты независимо друг от друга для функций Azure в режиме «без сервера». Функции Azure позволяет просто написать код, необходимые для решения данной проблемы, не беспокоясь о приложения или инфраструктуры, чтобы выполнить его. Можно выбрать из множества языков программирования, включая C\#, F\#, Node.js, Python и PHP, позволяет выбрать самый эффективный язык для задачи под рукой. Как и большинство облачных решений вы платите только на время использования и функции Azure для увеличения масштаба, при необходимости можно доверять.

## <a name="data"></a>Данные

Azure предлагает широкий спектр параметров хранилища данных, чтобы приложения могли использовать подходящий поставщик данных для соответствующих данных.

Для транзакций, реляционных данных баз данных SQL Azure является наилучшим вариантом. Для высокой производительности в основном для чтения данных кэш Redis, поддерживаемый базы данных SQL Azure — это хорошее решение.

Неструктурированные данные JSON могут храниться в различных способов, из базы данных SQL столбцов больших двоичных объектов или таблиц в хранилище Azure DocumentDB. Из них DocumentDB обеспечивает лучшее функциональность запросов и рекомендуется использовать параметр для большого количества документов на основе JSON, которые должны поддерживать запросы.

Временные команды или события-данных на основе используется для управления поведением приложения, которое можно использовать служебную шину Azure или очереди хранилища Azure. Шина хранилища Azure обеспечивает большую гибкость и представляет собой службу, рекомендуемые для нетривиального обмена сообщениями внутри и между приложениями.

## <a name="architecture-recommendations"></a>Рекомендации по архитектуре

Требования вашего приложения, должны определяться его архитектуры. Существует множество различных служб Azure, выбрав нужную представляет собой важное решение. Корпорация Майкрософт предлагает коллекции архитектур ссылку для определения типичных архитектур, оптимизированный для распространенных сценариев. Можно выполнить привязку эталонной архитектуре, что карты близко к требованиям приложения или на бы предлагает отправной точки.

Рис. 11-2 показана архитектура примера ссылки. На этой схеме описан подход рекомендуемая архитектура Sitecore управления содержимым системы веб-сайта оптимизирован для отдела маркетинга.

![](./media/image11-2.png)

**Рис. 11-2.** Sitecore маркетинга Эталонная архитектура веб-сайта.

**Ссылки — размещения рекомендации Azure**

-   Architectures\ решения Azure
    <https://Azure.Microsoft.com/Solutions/Architecture/>

-   Guide\ разработчика Azure
    <https://Azure.Microsoft.com/campaigns/Developer-Guide/>

-   Что такое служба приложений Azure? \
    <https://docs.Microsoft.com/Azure/App-Service/App-Service-value-prop-What-is>

-   Служба приложений Azure, виртуальные машины, Service Fabric и Comparison\ облачные службы
    <https://docs.Microsoft.com/Azure/App-Service-Web/Choose-Web-Site-Cloud-Service-VM>

>[!div class="step-by-step"]
[Предыдущие] (разработки процесс для azure.md)
