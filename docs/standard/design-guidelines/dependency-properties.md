---
title: "Свойства зависимостей | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 212cfb1e-cec4-4047-94a6-47209b387f6f
caps.latest.revision: 4
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 4
---
# Свойства зависимостей
Свойство зависимости \(DP\) является регулярное свойство, его значение сохраняется в хранилище свойств, не сохраняются в переменной типа \(поле\), например.  
  
 Это вложенное свойство зависимостей является разновидностью свойства зависимости моделируются как статические методы Get и Set, представляющий описания связей между объектами и их контейнеры «свойства» \(например, положение `Button` объект `Panel` контейнера\).  
  
 **✓ сделать** предоставляет свойств зависимостей, свойства для поддержки функций WPF, такие как стили, триггеры, привязки данных, анимации, динамические ресурсы и наследования.  
  
## Разработка свойств зависимостей  
 **✓ сделать** наследовать от <xref:System.Windows.DependencyObject>, или один из его подтипов, при реализации свойства зависимостей. Тип предоставляет очень эффективную реализацию хранилища свойств и обеспечивает автоматическую поддержку привязки данных WPF.  
  
 **✓ сделать** обеспечивают регулярное свойство CLR и открытые статические только для чтения поле, содержащее экземпляр <xref:System.Windows.DependencyProperty?displayProperty=fullName> для каждого свойства зависимости.  
  
 **✓ сделать** реализации свойств зависимостей, вызывая методы экземпляра <xref:System.Windows.DependencyObject.GetValue%2A?displayProperty=fullName> и <xref:System.Windows.DependencyObject.SetValue%2A?displayProperty=fullName>.  
  
 **✓ сделать** имя статического поля свойство зависимостей с подстановочными символами, добавив имя свойства с «Свойство».  
  
 **X не** явно задать значения по умолчанию для свойства зависимостей в коде, установите их в метаданных.  
  
 Если явно задать значение свойства по умолчанию, вы может помешать это свойство задается каким\-либо образом неявное, такие как стили.  
  
 **X не** поместить код в свойствам отличный от стандартного кода для доступа к статическому полю.  
  
 Код не будет выполнен, если свойству неявное средствами, например стили, поскольку применение стилей использует статическое поле непосредственно.  
  
 **X не** использование свойств зависимостей для хранения конфиденциальных данных. Свойства зависимостей даже частные может осуществляться открыто.  
  
## Разработка свойств присоединенных зависимостей  
 Свойства зависимости, описанные в предыдущем разделе представляют внутренние свойства объявляющего типа. например `Text` свойство является свойством `TextButton`, который объявляет его. Специальный вид свойства зависимостей — вложенное свойство зависимостей.  
  
 Классическим примером вложенное свойство является <xref:System.Windows.Controls.Grid.Column%2A?displayProperty=fullName> Свойства. Свойство представляет позицию столбца кнопок \(не сетки\), но оно применяется только если кнопка содержится в сетке, поэтому он «подключен» для кнопки с сетки.  
  
```  
<Grid>  
    <Grid.ColumnDefinitions>  
        <ColumnDefinition />  
        <ColumnDefinition />  
    </Grid.ColumnDefinitions>  
  
    <Button Grid.Column="0">Click</Button>  
    <Button Grid.Column="1">Clack</Button>  
</Grid>  
```  
  
 Определение вложенного свойства выглядит главным образом, свойство регулярных зависимостей, за исключением того, что методы доступа представлены статическими методами Get и Set:  
  
```  
public class Grid {  
  
    public static int GetColumn(DependencyObject obj) {  
        return (int)obj.GetValue(ColumnProperty);  
    }  
  
    public static void SetColumn(DependencyObject obj, int value) {  
        obj.SetValue(ColumnProperty,value);  
    }  
  
    public static readonly DependencyProperty ColumnProperty =  
        DependencyProperty.RegisterAttached(  
            "Column",  
            typeof(int),  
            typeof(Grid)  
    );  
}  
```  
  
## Проверка свойств зависимостей  
 Свойства часто реализуют вызова проверки. При попытке изменить значение свойства, выполняет логику проверки.  
  
 К сожалению, доступа к свойствам зависимостей не может содержать произвольный код. Вместо этого логики проверки для свойства зависимостей должны быть указаны во время регистрации свойства.  
  
 **X не** поместить логику проверки для свойства зависимостей в методах доступа к свойствам. Вместо этого передайте обратный вызов проверки `DependencyProperty.Register` метод.  
  
## Уведомления об изменении свойств зависимостей  
 **X не** реализовать логику уведомления изменения в методы доступа для свойства зависимостей. Свойства зависимостей имеют функции уведомления встроенных изменение, который должен использоваться, указав обратный вызов уведомления изменения <xref:System.Windows.PropertyMetadata>.  
  
## Приведение значения свойства зависимостей  
 Свойство приведение выполняется, когда значение, заданное для свойства setter изменяется путем задания до фактического изменения хранилище свойств.  
  
 **X не** реализовать логику в методы доступа для свойства зависимостей.  
  
 Свойства зависимостей имеют встроенные приведения функция, и он может использоваться, указав обратного приведения `PropertyMetadata`.  
  
 *Частей © 2005, 2009 корпорации Microsoft. Все права защищены.*  
  
 *Воспроизведены разрешении Пирсон образования, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для повторного использования библиотеки .NET, второе издание](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс опубликованы 22 октября 2008 г., издательство Addison\-Wesley Professional как часть цикла разработки Microsoft Windows.*  
  
## См. также  
 [Рекомендации по проектированию Framework](../../../docs/standard/design-guidelines/index.md)   
 [Общие шаблоны разработки](../../../docs/standard/design-guidelines/common-design-patterns.md)