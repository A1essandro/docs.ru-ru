---
title: "Разработка конструктора | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "рекомендации по разработке членов, конструкторы"
  - "конструкторы, рекомендации по проектированию"
  - "конструкторы экземпляров"
  - "конструкторы типов"
  - "виртуальные члены"
  - "конструкторы типов"
  - "конструкторы по умолчанию"
  - "статические конструкторы"
ms.assetid: b4496afe-5fa7-4bb0-85ca-70b0ef21e6fc
caps.latest.revision: 12
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 12
---
# Разработка конструктора
Существует два типа конструкторов: Введите конструкторы и конструкторы экземпляров.  
  
 Конструкторы типов являются статическими и выполняются средой CLR, прежде чем использовать тип. Конструкторы экземпляров выполняются, когда создается экземпляр типа.  
  
 Конструкторы типов не принимает никаких параметров. Конструкторы экземпляров можно. Конструкторы экземпляров, которые не принимают никаких параметров, часто называются конструкторы по умолчанию.  
  
 Конструкторы — это наиболее естественным способом для создания экземпляров типа. Большинство разработчиков будет поиска и попробуйте использовать конструктор, прежде чем они подумать о других способах создания экземпляров \(например фабричные методы\).  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** предоставляет простой, в идеальном случае по умолчанию, конструкторы.  
  
 Простой конструктор имеет очень малое количество параметров, и все параметры являются примитивы или перечисления. Такие простые конструкторы повысить удобство работы платформы.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** вместо статический фабричный метод конструктора, если семантика требуемой операции не сопоставляются непосредственно создания нового экземпляра, или если следующие рекомендации по разработке конструктора кажутся неприменимыми.  
  
 **✓ сделать** используйте параметры конструкторов как ярлыки для установки значений основных свойств.  
  
 Должно быть не семантических различий между с помощью пустого конструктора, следуют некоторые наборы свойств и использованием конструктора с несколькими аргументами.  
  
 **✓ сделать** использовать то же имя для параметров конструктора и свойства, если параметры конструктора используются только для установки свойства.  
  
 Единственное различие между таких параметров и свойств должны регистр.  
  
 **✓ сделать** минимальную работу в конструкторе.  
  
 Конструкторы не следует объем работ, отличный от захвата параметров конструктора. Затраты на обработку других следует вводить только по мере необходимости.  
  
 **✓ сделать** вызывать исключения из конструкторов экземпляров, если это уместно.  
  
 **✓ сделать** явно объявить открытый конструктор по умолчанию в классах, если такой конструктор является обязательным.  
  
 Если явно не объявлен каких\-либо конструкторов типа, многие языки \(C\#\) автоматически добавит открытый конструктор по умолчанию. \(Абстрактные классы получить защищенный конструктор\).  
  
 Добавление параметризованный конструктор класса указывает компилятору добавление конструктор по умолчанию. Часто в результате случайного критических изменений.  
  
 **ИЗБЕЖАТЬ X** явного определения по умолчанию конструкторы для структур.  
  
 Это делает создание массива быстрее, поскольку если конструктор по умолчанию не определен, он имеет для выполнения каждой области в массиве. Обратите внимание, что многие компиляторы, включая C\# не позволяют структуры могут иметь конструкторы без параметров, по этой причине.  
  
 **ИЗБЕЖАТЬ X** вызова виртуальные члены объекта внутри его конструктор.  
  
 Вызов виртуального члена вызовет наиболее производного наследования, даже если конструктор наиболее производный тип не полностью еще не выполнялся.  
  
### Правила конструктора типов  
 **✓ сделать** сделать закрытым статические конструкторы.  
  
 Статический конструктор, также называемый конструктором класса, используется для инициализации типа. Среда CLR вызывает статический конструктор перед созданием первого экземпляра типа или называются любые статические члены этого типа. Пользователь не обеспечивает контроль за при вызове статического конструктора. Если статический конструктор не является закрытым, он может вызываться код, отличный от среды CLR. В зависимости от операций, выполняемых в конструкторе это может привести к непредвиденному поведению. Компилятор C\# вызывает статические конструкторы должно быть закрытым.  
  
 **X не** исключения из статических конструкторов.  
  
 Если исключение возникает в конструктор типа, тип не может использоваться в текущем домене приложения.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** Инициализация встроенного статических полей, а не явно используя статические конструкторы, так как среда выполнения может оптимизировать производительность типов, не имеющие явно определенного статического конструктора.  
  
 *Частей © 2005, 2009 корпорации Microsoft. Все права защищены.*  
  
 *Воспроизведены разрешении Пирсон образования, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для повторного использования библиотеки .NET, второе издание](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс опубликованы 22 октября 2008 г., издательство Addison\-Wesley Professional как часть цикла разработки Microsoft Windows.*  
  
## См. также  
 [Рекомендации по разработке членов](../../../docs/standard/design-guidelines/member.md)   
 [Рекомендации по проектированию Framework](../../../docs/standard/design-guidelines/index.md)