---
title: "Разработка структур | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "Класс рекомендации по разработке библиотек [платформа .NET Framework] структуры"
  - "освобождение структур"
  - "Выделение структур"
  - "типы значений, структуры"
  - "Разработка структуры"
  - "правила разработки типов, структуры"
  - "структуры [платформа .NET Framework] рекомендации по проектированию"
ms.assetid: 1f48b2d8-608c-4be6-9ba4-d8f203ed9f9f
caps.latest.revision: 12
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 12
---
# Разработка структур
Тип значения общего назначения наиболее часто называется структурой, его ключевого слова C\#. Рекомендации для разработки общие структуры.  
  
 **X не** предоставлять конструктор по умолчанию для структуры.  
  
 Следование этой рекомендации позволяет массивы структур создается без запуска конструктора для каждого элемента массива. Обратите внимание, что C\# не допускает структуры могут иметь конструкторы по умолчанию.  
  
 **X не** определять типы изменяемого значения.  
  
 Изменяемое значение типы имеют несколько проблем. Например когда свойства getter возвращает тип значения, вызывающий объект получит копию. Поскольку копия создается неявно, разработчикам может быть помнить, что они изменения копии, а не исходное значение. Кроме того некоторые языки \(динамических языков, в частности\) имеют проблемы с помощью типов изменяемого значения, так как локальные переменные, даже при разыменовании, привести к копии будут сделаны.  
  
 **✓ сделать** убедитесь, что состояние, в котором все данные экземпляра устанавливается равным нулю, false или null \(при необходимости\) является допустимым.  
  
 Это предотвращает случайное Создание недопустимые экземпляры, когда создается массив структур.  
  
 **✓ сделать** реализовать <xref:System.IEquatable%601> для типов значений.  
  
 <xref:System.Object.Equals%2A?displayProperty=fullName> Упаковку\-преобразование вызывает метод для типов значений, и его реализация по умолчанию не очень эффективен, поскольку он использует отражение.<xref:System.IEquatable%601.Equals%2A> может быть гораздо более высокую производительность и могут быть реализованы, чтобы не вызовет упаковку\-преобразование.  
  
 **X не** явным образом увеличить <xref:System.ValueType>. На самом деле большинство языков отключены.  
  
 В общем случае структуры может быть полезным, но должен использоваться только для небольших, один постоянные значения, которые не должен быть упакован часто.  
  
 *Частей © 2005, 2009 корпорации Microsoft. Все права защищены.*  
  
 *Воспроизведены разрешении Пирсон образования, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для повторного использования библиотеки .NET, второе издание](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс опубликованы 22 октября 2008 г., издательство Addison\-Wesley Professional как часть цикла разработки Microsoft Windows.*  
  
## См. также  
 [Правила разработки типов](../../../docs/standard/design-guidelines/type.md)   
 [Рекомендации по проектированию Framework](../../../docs/standard/design-guidelines/index.md)   
 [Выбор между классом и структурой](../../../docs/standard/design-guidelines/choosing-between-class-and-struct.md)