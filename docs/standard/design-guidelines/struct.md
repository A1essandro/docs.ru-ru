---
title: Разработка структур
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- class library design guidelines [.NET Framework], structures
- deallocating structures
- allocating structures
- value types, structures
- structure design
- type design guidelines, structures
- structures [.NET Framework], design guidelines
ms.assetid: 1f48b2d8-608c-4be6-9ba4-d8f203ed9f9f
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 2621aa96cf89b453d5faec3357d0890ca36251d4
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33572740"
---
# <a name="struct-design"></a>Разработка структур
Тип значения общего назначения наиболее часто называется структурой зарезервированного слова C#. Этот раздел содержит рекомендации по общие структуры конструктора.  
  
 **X не** предоставляет конструктор по умолчанию для структуры.  
  
 Следование этой рекомендации позволяет массивы структур создаваться без запуска конструктора для каждого элемента массива. Обратите внимание, что C# не позволяет структуры могут иметь конструкторы по умолчанию.  
  
 **X не** определение изменяемого значения типов.  
  
 Изменяемое значение типы имеют ряд проблем. Например при возврате из метода получения свойства тип значения вызывающий объект получает копию. Так как копия создается неявно, разработчики может оказаться помнить, что они изменения копии, а не исходное значение. Кроме того некоторые языки (динамическими языками, в частности) имеют проблемы при использовании изменяемого значения типов, так как локальные переменные, даже при разыменовании, привести копирования должна быть выполнена.  
  
 **✓ СДЕЛАТЬ** убедитесь, что состояние, где все экземпляров данных устанавливается равным нулю, false или null (при необходимости) является допустимым.  
  
 Это предотвращает случайное Создание недопустимые экземпляры, когда создается массив структур.  
  
 **СДЕЛАТЬ ✓** реализовать <xref:System.IEquatable%601> для типов значений.  
  
 <xref:System.Object.Equals%2A?displayProperty=nameWithType> Упаковка-преобразование вызывает метод для типов значений, и его реализация по умолчанию не очень эффективна, так как он использует отражение. <xref:System.IEquatable%601.Equals%2A> может быть гораздо более высокую производительность и может быть реализовано так, чтобы упаковка-преобразование не будет.  
  
 **X не** явным образом увеличить <xref:System.ValueType>. На самом деле большинство языков отключены.  
  
 В общем случае структуры может быть очень полезно, но можно использовать только для небольших, один постоянные значения, которые не должен быть упакован часто.  
  
 *Фрагменты © 2005, 2009 корпорации Майкрософт. Все права защищены.*  
  
 *Перепечатываются разрешении Пирсона для образовательных учреждений, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для библиотеки .NET для повторного использования, 2-е издание](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс, опубликованные 22 октября 2008 г., Addison-Wesley Professional в составе ряда разработки Microsoft Windows.*  
  
## <a name="see-also"></a>См. также  
 [Рекомендации по разработке типов](../../../docs/standard/design-guidelines/type.md)  
 [Рекомендации по проектированию на основе Framework](../../../docs/standard/design-guidelines/index.md)  
 [Выбор между классом и структурой](../../../docs/standard/design-guidelines/choosing-between-class-and-struct.md)
