---
title: "Разработка структур"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- class library design guidelines [.NET Framework], structures
- deallocating structures
- allocating structures
- value types, structures
- structure design
- type design guidelines, structures
- structures [.NET Framework], design guidelines
ms.assetid: 1f48b2d8-608c-4be6-9ba4-d8f203ed9f9f
caps.latest.revision: "12"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: d1566d2b67e1dda5b0b221a2c10affb6bdaea888
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="struct-design"></a>Разработка структур
Тип значения общего назначения наиболее часто называется структурой зарезервированного слова C#. Этот раздел содержит рекомендации по общие структуры конструктора.  
  
 **X не** предоставляет конструктор по умолчанию для структуры.  
  
 Следование этой рекомендации позволяет массивы структур создаваться без запуска конструктора для каждого элемента массива. Обратите внимание, что C# не позволяет структуры могут иметь конструкторы по умолчанию.  
  
 **X не** определение изменяемого значения типов.  
  
 Изменяемое значение типы имеют ряд проблем. Например при возврате из метода получения свойства тип значения вызывающий объект получает копию. Так как копия создается неявно, разработчики может оказаться помнить, что они изменения копии, а не исходное значение. Кроме того некоторые языки (динамическими языками, в частности) имеют проблемы при использовании изменяемого значения типов, так как локальные переменные, даже при разыменовании, привести копирования должна быть выполнена.  
  
 **✓ СДЕЛАТЬ** убедитесь, что состояние, где все экземпляров данных устанавливается равным нулю, false или null (при необходимости) является допустимым.  
  
 Это предотвращает случайное Создание недопустимые экземпляры, когда создается массив структур.  
  
 **СДЕЛАТЬ ✓** реализовать <xref:System.IEquatable%601> для типов значений.  
  
 <xref:System.Object.Equals%2A?displayProperty=nameWithType> Упаковка-преобразование вызывает метод для типов значений, и его реализация по умолчанию не очень эффективна, так как он использует отражение. <xref:System.IEquatable%601.Equals%2A>может быть гораздо более высокую производительность и может быть реализовано так, чтобы упаковка-преобразование не будет.  
  
 **X не** явным образом увеличить <xref:System.ValueType>. На самом деле большинство языков отключены.  
  
 В общем случае структуры может быть очень полезно, но можно использовать только для небольших, один постоянные значения, которые не должен быть упакован часто.  
  
 *Фрагменты © 2005, 2009 корпорации Майкрософт. Все права защищены.*  
  
 *Перепечатываются разрешении Пирсона для образовательных учреждений, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для библиотеки .NET для повторного использования, 2-е издание](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс, опубликованные 22 октября 2008 г., Addison-Wesley Professional в составе ряда разработки Microsoft Windows.*  
  
## <a name="see-also"></a>См. также  
 [Рекомендации по проектированию типа](../../../docs/standard/design-guidelines/type.md)  
 [Рекомендации по проектированию на основе Framework](../../../docs/standard/design-guidelines/index.md)  
 [Выбор между класса и структуры](../../../docs/standard/design-guidelines/choosing-between-class-and-struct.md)
