---
title: "Создание исключений | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "исключения, возникновение"
  - "явное создание исключений"
  - "Создание исключений, правила разработки"
ms.assetid: 5388e02b-52f5-460e-a2b5-eeafe60eeebe
caps.latest.revision: 9
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 9
---
# Создание исключений
Правила исключения, описанные в этом разделе требуют хорошей определения значения сбой при выполнении. Сбой при выполнении происходит всякий раз, когда член не он был разработан \(что член названия\). Например если `OpenFile` метод, не может возвращать вызывающему дескриптор открытого файла, он будет считаться ошибкой выполнения.  
  
 Большинство разработчиков освоить использование исключений для использования ошибку деления на ноль или пустыми ссылками. В платформе исключения используются для всех ошибок, включая ошибки выполнения.  
  
 **X не** возвращенный код ошибки.  
  
 Исключениями являются основным средством для отчетов об ошибках в платформах.  
  
 **✓ сделать** сообщить выполнения путем создания исключений.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** завершение процесса путем вызова `System.Environment.FailFast` \(компонент .NET Framework 2.0\) вместо выдачи исключения при обнаружении ситуации, когда он небезопасных для дальнейшего выполнения в коде.  
  
 **X не** использовать исключения для обычного потока управления, если это возможно.  
  
 За исключением ошибок системы и операций с потенциальным состоянием гонки разработчики framework должны проектировать API, пользователи могут написать код, который не создает исключения. Например можно указать способ проверки предварительных условий до вызова члена, поэтому пользователи могут написать код, который не создает исключения.  
  
 Элемент, используемый для проверки предварительных условий другого элемента часто называется тест\-инженер, а элемент, который фактически выполняет работу, называется doer.  
  
 Бывают случаи, когда шаблон Tester\-Doer может быть неприемлемо накладные расходы. В таких случаях следует считать так называемых синтаксического анализа Try шаблон \(см. [Исключения и производительность](../../../docs/standard/design-guidelines/exceptions-and-performance.md) Дополнительные сведения\).  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** создание исключений влияет на производительность. Курсы throw выше 100 в секунду, скорее всего существенно повлиять на производительность большинства приложений.  
  
 **✓ сделать** документа все исключения, генерируемые публично вызываемыми членами из\-за нарушения элемента контракта \(а не системной ошибки\) и обрабатывать их как часть вашего контракта.  
  
 Исключения, которые являются частью контракта не должны изменяться от одной версии к следующей \(т. е. не изменяйте тип исключения и не следует добавлять новые исключения\).  
  
 **X не** имеют открытые элементы, которые можно либо throw или не на основе некоторых параметра.  
  
 **X не** иметь открытые члены, которые возвращают исключения в качестве возвращаемого значения или `out` параметра.  
  
 Возврат из общедоступных интерфейсов API, а не их вызывает исключения противоречит многие преимущества отчетов об ошибках, основанной на исключении.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** с помощью методы построителя исключений.  
  
 Чаще всего же исключение из различных мест. Во избежание разрастанию кода, используйте вспомогательные методы, создающие исключения и инициализируйте их свойства.  
  
 Кроме того, члены, которые вызывают исключения не получают Подстановка. Перемещение инструкцию throw в конструкторе, могут разрешать подставляться члена.  
  
 **X не** исключения из блоков фильтрации исключений.  
  
 Когда фильтр исключений вызывает исключение, исключение перехватывается средой CLR и фильтр возвращает значение false. Это поведение не отличается от фильтра, выполнение и возвращает значение false, явным образом и поэтому трудно отладить.  
  
 **ИЗБЕЖАТЬ X** явное создание исключений из блоков finally. Приемлемы явно генерированные исключения, возникающие в результате вызова методов, которые вызывают.  
  
 *Частей © 2005, 2009 корпорации Microsoft. Все права защищены.*  
  
 *Воспроизведены разрешении Пирсон образования, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для повторного использования библиотеки .NET, второе издание](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс опубликованы 22 октября 2008 г., издательство Addison\-Wesley Professional как часть цикла разработки Microsoft Windows.*  
  
## См. также  
 [Рекомендации по проектированию Framework](../../../docs/standard/design-guidelines/index.md)   
 [Правила разработки исключений](../../../docs/standard/design-guidelines/exceptions.md)