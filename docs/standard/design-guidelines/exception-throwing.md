---
title: Создание исключений
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: ''
ms.suite: ''
ms.technology: dotnet-standard
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- exceptions, throwing
- explicitly throwing exceptions
- throwing exceptions, design guidelines
ms.assetid: 5388e02b-52f5-460e-a2b5-eeafe60eeebe
caps.latest.revision: 9
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 47c16ac94054fff193b1f5976fe7f04f10a39ecd
ms.sourcegitcommit: 2e8acae16ae802f2d6d04e3ce0a6dbf04e476513
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2018
---
# <a name="exception-throwing"></a>Создание исключений
Правила исключения, описанные в этом разделе требуют хорошо определение значение сбоя в выполнении. Сбой при выполнении происходит всякий раз, когда член не может его целью (что член названия). Например если `OpenFile` метод, не может возвращать вызывающему объекту дескриптор открытого файла, он будет считаться ошибкой выполнения.  
  
 Большинство разработчиков освоить использование исключений для использования ошибку деления на ноль или пустые ссылки. В платформе исключения используются для всех ошибок, включая ошибки выполнения.  
  
 **X не** возвращенный код ошибки.  
  
 Исключениями являются основным средством сообщения об ошибках в платформ.  
  
 **✓ СДЕЛАТЬ** отчета сбоев при выполнении путем вызова исключений.  
  
 **✓ Попробуйте** завершение процесса путем вызова `System.Environment.FailFast` (функции .NET Framework версии 2.0) вместо создания исключения при обнаружении в коде ситуации, когда он небезопасных для дальнейшего выполнения.  
  
 **X не** использовать исключения для обычного потока управления, если это возможно.  
  
 За исключением ошибок системы и операций с потенциальных состояний гонки конструкторы framework следует разрабатывать интерфейсы API, пользователям можно написать код, который не вызывает исключения. Например чтобы обеспечить возможность проверки предварительных условий до вызова члена, поэтому пользователи могут записывать код, который не вызывает исключения.  
  
 Элемент, используемый для проверки предварительных условий для другого элемента часто называется тест-инженера, а элемент, который фактически выполняет работу, называется doer.  
  
 Существуют случаи, когда шаблон Tester-Doer может привести к снижению неприемлемо производительности. В таких случаях следует рассматривать так называемые синтаксического анализа Try шаблон (см. [исключения и производительности](../../../docs/standard/design-guidelines/exceptions-and-performance.md) для получения дополнительной информации).  
  
 **✓ Попробуйте** создание исключений влияет на производительность. Ставки throw выше 100 в секунду, могут существенно повлиять на производительность большинства приложений.  
  
 **✓ СДЕЛАТЬ** документ, все исключения, создаваемые публично вызываемыми членами из-за нарушения элемента контракта (а не системной ошибки) и обрабатывает их как часть вашего контракта.  
  
 Исключения, которые являются частью контракта не должны изменяться от одной версии к следующему (т. е. не изменяйте тип исключения и не должны быть добавлены новые исключения).  
  
 **X не** имеет общих членов, которые можно либо throw или не на основе некоторых параметра.  
  
 **X не** иметь открытые члены, которые возвращают исключения в качестве возвращаемого значения или `out` параметра.  
  
 Возврат исключений из открытых API, а не вызывает их противоречит многие преимущества отчеты об ошибках, основанной на исключении.  
  
 **✓ Попробуйте** с помощью методы построителя исключений.  
  
 Вполне же исключение из различных мест. Чтобы избежать Раздувание кода, используйте вспомогательные методы, создающие исключения и инициализировать свои свойства.  
  
 Кроме того, члены, которые вызывают исключения, чтобы получить является встроенной. Перемещение инструкцию throw в конструктор может разрешить член для встраивания.  
  
 **X не** вызывать исключения из блоков фильтрации исключений.  
  
 Если фильтр исключений вызывает исключение, исключение перехватывается средой CLR и фильтр возвращает значение false. Такое поведение не отличается от фильтра выполнения и возвращения значения false явно, поэтому очень трудно отлаживать.  
  
 **X ИЗБЕГАЙТЕ** явное создание исключений из блоков finally. Явно генерированные исключения, возникающие в результате вызова методов, которые вызывают являются допустимыми.  
  
 *Фрагменты © 2005, 2009 корпорации Майкрософт. Все права защищены.*  
  
 *Перепечатываются разрешении Пирсона для образовательных учреждений, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для библиотеки .NET для повторного использования, 2-е издание](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс, опубликованные 22 октября 2008 г., Addison-Wesley Professional в составе ряда разработки Microsoft Windows.*  
  
## <a name="see-also"></a>См. также  
 [Рекомендации по проектированию на основе Framework](../../../docs/standard/design-guidelines/index.md)  
 [Правила разработки исключений](../../../docs/standard/design-guidelines/exceptions.md)
