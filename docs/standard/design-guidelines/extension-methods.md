---
title: Методы расширения
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: 5de945cb-88f4-49d7-b0e6-f098300cf357
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 15d36cc2d3073c9f695de81407ecabcd5e3bba30
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="extension-methods"></a>Методы расширения
Методы расширения являются функция языка, позволяющая статических методов, вызываемых с помощью синтаксиса вызова метода экземпляра. Эти методы необходимо выполнить по крайней мере один параметр, который представляет экземпляр, который имеет метод для выполнения операций над.  
  
 Класс, который определяет такие методы расширения называется «главным» класса, и они должны объявляться как статические. Чтобы использовать методы расширения, один необходимо импортировать пространство имен определения класса главным.  
  
 **X ИЗБЕГАЙТЕ** frivolously определяет методы расширения, особенно на типах, вы не являетесь его владельцем.  
  
 Если у вас есть исходный код типа, рекомендуется использовать методы регулярного экземпляра. Если вы не являетесь его владельцем, а вы хотите добавить метод, следите за очень. Надлежащее использование методов расширения может стать загромождения API-интерфейсы типов, которые не были спроектированы для обеспечения этих методов.  
  
 **✓ Попробуйте** с помощью методов расширения в следующих сценариях:  
  
-   Для обеспечения поддержки функциональные возможности, относящиеся к каждой реализации интерфейса, если считается, что функциональные возможности могут быть написаны с точки зрения основной интерфейс. Это так, как конкретные реализации в противном случае значение не может быть назначен интерфейсов. Например `LINQ to Objects` операторы реализуются как методы расширения для всех <xref:System.Collections.Generic.IEnumerable%601> типов. Таким образом, любой `IEnumerable<>` реализацию автоматически поддержкой LINQ.  
  
-   Если метод экземпляра стало бы причиной зависимость от какой-либо тип, но такая зависимость будет нарушена управления правилам зависимости. Например, зависимости <xref:System.String> для <xref:System.Uri?displayProperty=nameWithType> скорее всего, не является предпочтительным и поэтому `String.ToUri()` метод экземпляра, возвращающий `System.Uri` бы неправильный конструктора с точки зрения управления зависимостей. Метод статического расширения `Uri.ToUri(this string str)` возврат `System.Uri` будет гораздо лучше конструктора.  
  
 **X ИЗБЕГАЙТЕ** определения методов расширения в <xref:System.Object?displayProperty=nameWithType>.  
  
 Для пользователей Visual Basic не будет иметь возможность вызывать такие методы для ссылки на объект, с помощью синтаксиса метода расширения. VB не поддерживает вызова таких методов, так как в VB, объявления ссылки, как объект заставляет все вызовы методов в его позднее привязываются (фактический член с именем определяется во время выполнения), во время привязки к методам расширения определяются во время компиляции (ранняя привязки).  
  
 Обратите внимание, что правило применяется в других языках, где имеется такое же поведение привязки или где методы расширения не поддерживаются.  
  
 **X не** размещения методов расширения в пространстве имен, расширенного типа, если он предназначен для добавления методов в интерфейсах или для управления зависимостями.  
  
 **X ИЗБЕГАЙТЕ** определение два или несколько методов расширения с такой же сигнатурой, даже если они находятся в разных пространствах имен.  
  
 **✓ Попробуйте** определение методов расширения в пространстве имен, расширенный тип, если тип является интерфейсом и методы расширения предназначены для использования в большинство или все случаи.  
  
 **X не** определяет расширение методов реализации функции в пространствах имен, обычно связанные с другими компонентами. Вместо этого их определения в пространстве имен, связанного с данным компонентом, которому они принадлежат.  
  
 **X ИЗБЕГАЙТЕ** универсального именования пространств имен, выделенных для методов расширения (например, «расширения»). Используйте описательное имя (например, «маршрут») вместо него.  
  
 *Фрагменты © 2005, 2009 корпорации Майкрософт. Все права защищены.*  
  
 *Перепечатываются разрешении Пирсона для образовательных учреждений, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для библиотеки .NET для повторного использования, 2-е издание](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс, опубликованные 22 октября 2008 г., Addison-Wesley Professional в составе ряда разработки Microsoft Windows.*  
  
## <a name="see-also"></a>См. также  
 [Правила разработки членов](../../../docs/standard/design-guidelines/member.md)  
 [Рекомендации по проектированию на основе Framework](../../../docs/standard/design-guidelines/index.md)
