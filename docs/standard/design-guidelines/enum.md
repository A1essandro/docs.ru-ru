---
title: "Разработка перечислений | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "правила разработки типов, перечислений"
  - "Простые перечисления"
  - "перечисления [платформа .NET Framework] рекомендации по проектированию"
  - "Класс рекомендации по разработке библиотек [платформа .NET Framework] перечисления"
  - "перечисления флагов"
ms.assetid: dd53c952-9d9a-4736-86ff-9540e815d545
caps.latest.revision: 11
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 11
---
# Разработка перечислений
Это специальный тип значения являются перечисления. Существует два вида перечислений: простые перечисления и флаг перечислений.  
  
 Простые перечисления представляют небольшой закрытых совокупностях вариантов. Распространенным примером простое перечисление — это набор цветов.  
  
 Флаг перечисления предназначены для поддержки побитовые операции над значений enum. Распространенным примером перечисление флагов является список параметров.  
  
 **✓ сделать** использовать enum для строго типизированных параметров, свойств и возвращаемых значений, которые представляют собой наборы значений.  
  
 **✓ сделать** предпочтительнее использовать вместо статических констант перечисления.  
  
 **X не** использовать enum для открытых наборов \(например, версия операционной системы, имена друзей, и т. д.\).  
  
 **X не** указать значения зарезервированных перечисления, которые предназначены для использования в будущем.  
  
 Значения можно всегда просто добавить в существующий перечисление на более позднем этапе. В разделе [Добавление значения перечисления](#add_value) Дополнительные сведения о добавлении значений перечислений. Зарезервированные значения просто засоряют набор реальные значения и стремятся привести к ошибкам пользователей.  
  
 **ИЗБЕЖАТЬ X** открытым доступом перечислений с только одно значение.  
  
 Часто используется для обеспечения будущего расширения C API\-интерфейсов является добавление зарезервированные параметры для подписей метода. Такие зарезервированные параметры можно задать в виде перечисления значение по умолчанию одного. Это не будет сделано в управляемых интерфейсов API. Перегрузка метода позволяет добавление параметров в будущих выпусках.  
  
 **X не** включить в перечисления значения\-метки.  
  
 Несмотря на то, что иногда они полезны для разработчиков framework, значения\-метки не всегда понятны пользователям платформы. Они используются для отслеживания состояния перечисления, а не из которых одно из значений из списка, представленного перечисления.  
  
 **✓ сделать** предоставляют нулевое значение в простые перечисления.  
  
 Попробуйте вызвать значение нечто вроде «None». Если такое значение не подходит для данного конкретного перечисления, наиболее распространенные по умолчанию для перечисления должно быть назначено значение базовое значение ноль.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** с помощью <xref:System.Int32> \(по умолчанию в большинстве языков программирования\) как базовый тип перечисления, если верно любое из следующих действий:  
  
-   Перечисление является перечисление флагов и иметь более 32 флагов, или планируется в будущем.  
  
-   Базовый тип должен отличаться от <xref:System.Int32> для более простого взаимодействия с неуправляемым кодом, ожидается перечислений другого размера.  
  
-   Базовый тип меньшего размера приведет к существенной экономии памяти. Если предполагается, что перечисление используется главным образом в качестве аргумента для потока управления, размер имеет небольшое значение. Может привести к значительной экономии размера если:  
  
    -   Предполагается, что перечисление для использования в качестве поля в очень часто экземпляра структуры или класса.  
  
    -   Предполагается, что пользователи могут создавать большие массивы или коллекции экземпляров перечислений.  
  
    -   Предполагается, что большое число экземпляров enum для сериализации.  
  
 Для использования в памяти, следует помнить, что управляемые объекты всегда `DWORD`\-выровнены, поэтому необходимо эффективно несколько перечислений или других небольших структур в экземпляре пакета меньше перечисление с Чтобы провести различие, поскольку размер общего экземпляра всегда будет округляться до `DWORD`.  
  
 **✓ сделать** имя перечисления флага с множественного числа существительных и субстантивных словосочетаний и простые перечисления с единственной существительные и субстантивные словосочетания.  
  
 **X не** расширить <xref:System.Enum?displayProperty=fullName> напрямую.  
  
 <xref:System.Enum?displayProperty=fullName> специальный тип используется средой CLR для создания перечислений, определяемых пользователем. Большинство языков программирования предоставляют элемент программирования, который предоставляет доступ к этой функции. Например, в C\# `enum` ключевое слово используется для определения перечисления.  
  
<a name="design"></a>   
### Разработка перечислений флагов  
 **✓ сделать** применить <xref:System.FlagsAttribute?displayProperty=fullName> для перечислений флагов. Этот атрибут не применяется для простых перечислений.  
  
 **✓ сделать** используйте степень числа 2 для значений перечисления флагов, поэтому им можно свободно комбинировать с помощью битовой операции OR.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** предоставляют специальные перечисления значения для часто используемые сочетания флагов.  
  
 Побитовые операции расширенные концепции и не требуется для простых задач.<xref:System.IO.FileAccess> приведен пример специальное значение.  
  
 **ИЗБЕЖАТЬ X** Создание флаг перечислений, когда определенные комбинации значений недопустимы.  
  
 **ИЗБЕЖАТЬ X** с помощью флага нулевые значения перечисления, если значение представляет «очищенные все флаги» и называется должным образом, как предписано далее рекомендации.  
  
 **✓ сделать** имя нулевое значение перечисления флага `None`. Для перечисления флага значение всегда должно означать «все флаги сняты.»  
  
<a name="add_value"></a>   
### Добавление значения перечисления  
 Это очень часто, чтобы обнаружить, что необходимо добавить значения перечисления, после его уже были доставлены. Нет потенциальную проблему совместимости приложений при добавленное значение возвращается из существующего API, поскольку плохо написанного приложения могут неправильно обработать новое значение.  
  
 **✓ Рассмотрите ВОЗМОЖНОСТЬ** Добавление значения перечислений, несмотря на небольшой риск возникновения несовместимости.  
  
 При наличии реальные данные о совместимости приложений, вызванных дополнения к перечислению, рассмотрите возможность добавления новых API, который возвращает старое и новое значения и отказаться от старого интерфейса API, который следует продолжить возврат только старые значения. Это позволит гарантировать, что существующие приложения остаются совместимыми.  
  
 *Частей © 2005, 2009 корпорации Microsoft. Все права защищены.*  
  
 *Воспроизведены разрешении Пирсон образования, Inc. из [Framework рекомендации по проектированию: условные обозначения, стили и шаблоны для повторного использования библиотеки .NET, второе издание](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina и Брэд Абрамс опубликованы 22 октября 2008 г., издательство Addison\-Wesley Professional как часть цикла разработки Microsoft Windows.*  
  
## См. также  
 [Правила разработки типов](../../../docs/standard/design-guidelines/type.md)   
 [Рекомендации по проектированию Framework](../../../docs/standard/design-guidelines/index.md)