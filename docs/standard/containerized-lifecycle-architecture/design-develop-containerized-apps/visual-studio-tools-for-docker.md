---
title: Visual Studio Tools for Docker в Windows
description: Жизненный цикл контейнерного приложения Docker на основе платформы и средств Майкрософт
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/12/2018
ms.custom: vs-dotnet
ms.openlocfilehash: c58c680c6500bc3b9adec50e18c26af3329122c9
ms.sourcegitcommit: 2eb5ca4956231c1a0efd34b6a9cab6153a5438af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2018
ms.locfileid: "49086392"
---
# <a name="using-visual-studio-tools-for-docker-visual-studio-on-windows"></a>С помощью средств Visual Studio для Docker (Visual Studio в Windows)

Visual Studio Tools для рабочего процесса разработки Docker похоже на рабочий процесс, при использовании Visual Studio Code и Docker CLI. По сути, он основан на том же Docker CLI, но проще приступить к работе, упрощает процесс и обеспечивает повышение производительности для сборки, запуска, а также объединять задач. Выполнение и отладка контейнеров с помощью простых действий, таких как **F5** и **Ctrl**+**F5**. Благодаря поддержке оркестрации дополнительный контейнер, помимо возможности для запуска и отладки одного контейнера можно выполнять и отлаживать группу контейнеров (всего решения), в то же время.

> [!NOTE]
> Эта статья относится к Visual Studio в Windows, а не в Visual Studio для Mac.

## <a name="configure-your-local-environment"></a>Настройка локальной среды

В последних версиях Docker для Windows ([https://docs.docker.com/docker-for-windows/](https://docs.docker.com/docker-for-windows/)), простой настройки упрощает процесс разработки приложений Docker.

Поддержка docker включена в Visual Studio 2017. Ссылка для загрузки Visual Studio 2017: [https://aka.ms/vsdownload?utm_source=mscom&utm_campaign=msdocs](https://aka.ms/vsdownload?utm_source=mscom&utm_campaign=msdocs)

## <a name="use-docker-tools-in-visual-studio-2017"></a>С помощью средств Docker в Visual Studio 2017

Существует два уровня поддержки Docker, который можно добавить в проект. В веб-приложения .NET Core проектов, можно просто добавить *Dockerfile* файл в проект, включение поддержки Docker. На следующем уровне находится поддержка оркестрации контейнера, который добавляет *Dockerfile* в проект (если он еще не существует) и *docker-compose.yml* файл на уровне решения. Поддержка оркестрации контейнера, с помощью Docker Compose, добавляется по умолчанию в Visual Studio 2017 версии 15.7 или более ранней версии. Поддержка оркестрации контейнеров — это компонент согласием в Visual Studio 2017 версии 15.8 или более поздней версии, в этом случае Docker Compose и Service Fabric поддерживаются.

**Добавить** > **поддержку Docker** и **добавить** > **оркестрация контейнеров поддержки** команды находятся в контекстном меню (или контекстное меню) из узла проекта для проекта веб-приложения в **обозревателе решений**, как показано на рисунке 4-26:

![Добавить поддержку Docker команду меню в Visual Studio](media/add-docker-support-menu.png)

Рис. 4-26: Добавление поддержки Docker в проект Visual Studio 2017

### <a name="add-docker-support"></a>Добавление поддержки Docker

Можно добавить поддержку Docker в существующий проект веб-приложения .NET Core, выбрав **добавить** > **Docker поддерживает** в **обозревателе решений**. Можно также включить поддержку Docker во время создания проекта, выбрав **Включение поддержки Docker** в **новый веб-приложение ASP.NET Core** диалоговое окно, которое открывается при нажатии **ОК** в **новый проект** диалоговое окно, как показано на рисунке 4-27.

![Включить поддержку Docker для нового веб-приложения ASP.NET Core в Visual Studio](./media/enable-docker-support-visual-studio.png)

Рис. 4-27: Включение поддержки Docker во время создания проекта в Visual Studio 2017

При добавлении или включить поддержку Docker, Visual Studio добавляет *Dockerfile* файл в проект.

> [!NOTE]
> Когда вы включаете поддержку Docker Compose во время создания проекта для проект веб-приложения .NET Framework (не .NET Core проект веб-приложения), как показано на рис. 4-28, также добавляется поддержка оркестрации контейнеров.
>
> ![Включить Docker compose поддержка проект веб-приложения .NET Framework](media/enable-docker-compose-support.png)

> Рис. 4-28: Включение поддержки Docker Compose на веб-приложения .NET Framework проекта в Visual Studio 2017

### <a name="add-container-orchestration-support"></a>Добавление поддержки оркестрации контейнеров

Создание многоконтейнерного решения следует добавьте поддержку оркестрации контейнера в проекты. Это позволяет выполнять и отлаживать группу контейнеров (всего решения) в то же время, если они определяются в том же *docker-compose.yml* файл.

Чтобы добавить поддержку оркестрации контейнера, щелкните правой кнопкой мыши узел решения или проекта в **обозревателе решений**и выберите **добавить** > **контейнер Оркестрации поддерживает**. Затем выберите **Docker Compose** или **Service Fabric** для управления контейнерами.

После добавления поддержки оркестрации контейнера в проект, вы видите добавлен в проект файл Dockerfile и **docker-compose** папка добавлена в решение в **обозревателе решений**, как показано на рис. 4-29:

![Файлы docker в обозревателе решений в Visual Studio](media/docker-support-solution-explorer.png)

Рис. 4-29: файлы Docker в обозревателе решений в Visual Studio 2017

Если *docker-compose.yml* уже существует, Visual Studio просто добавляет необходимые строки кода конфигурации к нему.

## <a name="configure-docker-tools"></a>Настройка средств Docker

В главном меню выберите **средства** > **параметры**и разверните **средства контейнеров** > **параметры**. Параметры средства контейнера отображаются.

![](./media/visual-studio-docker-tools-options.png)

Рис. 4-30: Docker Сервис Параметры

Следующая таблица поможет вам решить, как задавать эти параметры.

| name | По умолчанию | Применение | Описание: |
| -----|:---------------:|:----------:| ----------- |
| Автоматически извлекать требуемые образы Docker при загрузке проекта | включить | Docker Compose | Для повышения производительности при загрузке проектов Visual Studio запустит операцию извлечения Docker в фоновом режиме, когда будете готовы для выполнения кода, уже будет загружен образ или находится в процессе загрузки. Если вам нужно просто загрузить проекты и просмотр кода, можно отключить это во избежание загрузки образов контейнеров, которые не нужны. |
| Автоматически запускать контейнеры в фоновом режиме | включить | Docker Compose | Еще раз для повышения производительности Visual Studio создает контейнер с подключенных томов готова к после построения и запуска контейнера. Если вы хотите управлять, при создании контейнера, отключите этот параметр. |
| Автоматически kill контейнеров при закрытии решения | включить | Docker Compose | Отключите этот параметр, если вы хотите контейнеры для вашего решения продолжить выполнение после закрыть Visual Studio или решение. |
| Не запрашивать доверяющем SSL-сертификату localhost | Off | Проекты ASP.NET Core 2.1 | Если SSL-сертификату localhost не является доверенным, Visual Studio предложит каждый раз при запуске проекта, если этот флажок установлен. |

> [!WARNING]
> Если SSL-сертификату localhost не является доверенным и установите флажок, чтобы отключить запрос, веб-запросы HTTPS может завершиться ошибкой во время выполнения в своем приложении или службе. В этом случае снимите флажок **не запрашивать** флажок, запустите проект и указывать доверия в командной строке.

**Дополнительные сведения:** Дополнительные сведения о реализации служб и использование набора средств Visual Studio для Docker в следующих статьях:

Сборки, отладки, обновления и обновления приложений в локальном контейнере Docker: [https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh/](https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh)

Развертывание контейнера ASP.NET Core Docker в реестр контейнеров: [https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker/](https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker)

>[!div class="step-by-step"]
[Назад](docker-apps-inner-loop-workflow.md)
[Вперед](set-up-windows-containers-with-powershell.md)