---
title: Состояние и данные в приложениях Docker
description: Жизненный цикл контейнерного приложения Docker на основе платформы и средств Майкрософт
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.openlocfilehash: 78db191bdec4c25c11728d819d89eaaaff4bd7da
ms.sourcegitcommit: c7f3e2e9d6ead6cc3acd0d66b10a251d0c66e59d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/08/2018
ms.locfileid: "44181619"
---
# <a name="state-and-data-in-docker-applications"></a>Состояние и данные в приложениях Docker

Примитив контейнеров — неизменяемости. По сравнению с виртуальной Машины, контейнеры не исчезают в результате это обычное дело. Виртуальная машина может завершиться ошибкой в различных формах dead процессы, перегруженных ЦП или полной или сбоя диска. Тем не менее мы ожидаем, что виртуальной Машины доступен и дисков RAID-МАССИВОВ широко распространены и убедиться, что ошибки диска хранения данных.

Тем не менее контейнеры, предположительно могут быть экземпляры процессов. Процесс не поддерживает состоянием долговременного хранения. Несмотря на то, что контейнер может записывать данные в локальное хранилище, при условии, что этот экземпляр всегда будет на месте будет эквивалентен при условии, что памяти одной копии будет быть постоянными. Предполагается, что контейнеры, как и процессы, повторяются, с точки, или при управлении с оркестратором контейнеров, они могут перемещаться.

Docker используется функция, называемая *оверлейная файловая система* реализовать процесс копирования при записи, в которой хранятся все обновленные сведения о корневой файловой системы контейнера, по сравнению с исходным изображением, на котором он основан. Эти изменения будут потеряны, если контейнер впоследствии удаляется из системы. Контейнер, следовательно, не имеет постоянное хранилище по умолчанию. Несмотря на то, что существует возможность сохранения состояния контейнера, проектирование системы по такой бы конфликтует с принципом контейнера архитектуры.

Для управления постоянными данными в приложениях Docker, существуют распространенные решения:

-   [**Тома данных**](https://docs.docker.com/engine/tutorials/dockervolumes/) они подключаются к узлу, как только что отмечено выше.

-   [**Контейнеры томов данных**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) эти обеспечивающие общее хранилище для контейнеров, с помощью которой можно цикл внешнего контейнера.

-   [**Подключаемые модули томов**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) эти подключение томов в удаленные расположения, обеспечивая Долгосрочное хранение.

-   **Удаленные источники данных** примеры включают базы данных SQL и SQL нет или кэшировать служб, таких как Redis.

-   [**Служба хранилища Azure**](https://docs.microsoft.com/azure/storage/) это предоставляет географически распространяемый платформу как услугу (PaaS) хранилище, обеспечивая лучшее из контейнеров, как Долгосрочное хранение.

Тома данных специально обозначены каталогов в один или несколько контейнеров, которые обходят [объединения файловой системы](https://docs.docker.com/glossary/?term=Union%20file%20system). Тома данных предназначены для сохранения данных, независимо от контейнера жизненного цикла. Docker таким образом никогда не автоматически удаляет тома при вам удалить контейнер, а также его «сбор мусора» томов, на которые больше не ссылается контейнер. Операционной системы можно просматривать и изменять данные в любой том свободно, который является просто еще одна причина для использования только в случае необходимости тома данных.

Объект [контейнер томов данных](https://docs.docker.com/glossary/?term=volume) по сравнению с обычных томов данных. Это по сути неактивные контейнер, который имеет один или несколько томов данных, созданные внутри него (как описано выше). Контейнер томов данных предоставляет контейнерам доступ из центральной точки подключения. Преимущество этого метода доступа является то, что учитывается расположение исходных данных, Создание точки подключения логического контейнера данных. Он также позволяет доступ к томам данных контейнера для создаваться и уничтожаться, сохраняя постоянный в выделенный контейнер данных, контейнеров «приложение».

Рис. 4-5 показано, что обычные тома Docker могут размещаться в хранилище за пределами самих контейнерами, но в физических границах сервера или виртуальной Машины узла. *Тома docker нет возможности использовать тома из одного узла сервера или виртуальной Машины на другой*.

![](./media/image5.png)

Рис. 4-5: тома данных и внешние источники данных для контейнеров приложений или контейнеров

Из-за невозможности управлять данными контейнеров, работающих на разных физических узлах, рекомендуется не использовать тома для бизнес-данных Если узел Docker — основных узлов и виртуальных Машин, так как при использовании контейнеров Docker в orchestrator контейнеры должны быть перемещается из одного на другой узел в рамках оптимизации, которые будут произведены методом кластера.

Таким образом обычных томов данных являются прекрасным механизмом для работы с файлы трассировки, временными файлами или любой похожая концепция, не влияют на целостность бизнес-данных, если или при перемещении на нескольких узлах контейнеров.

[Подключаемые модули томов](https://docs.docker.com/engine/extend/plugins_volume/) предоставляют данные между всеми узлами в кластере. Несмотря на то, что не все подключаемые модули томов создаются одинаково, подключаемые модули томов обычно предоставляют надежным внешним хранилищем неизменных контейнеров.

Удаленные источники данных и кэшей база данных SQL, DocumentDB или удаленного кэша как Redis будет таким же, как разработке без контейнеров. Это один из способов предпочтительным и проверенные, для хранения данных бизнес-приложений.


>[!div class="step-by-step"]
[Назад](monolithic-applications.md)
[Вперед](soa-applications.md)
