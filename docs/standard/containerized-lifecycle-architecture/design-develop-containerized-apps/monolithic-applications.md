---
title: Монолитные приложения
description: Жизненный цикл контейнерного приложения Docker на основе платформы и средств Майкрософт
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.openlocfilehash: a2fe2c325377ec49f89199ad2e36c950ebab6a24
ms.sourcegitcommit: db8b83057d052c1f9f249d128b08d4423af0f7c2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2018
ms.locfileid: "50757352"
---
# <a name="monolithic-applications"></a>Монолитные приложения

В этом сценарии построения в единый и монолитных веб-приложение или службу и развернуть его в качестве контейнера. В приложении структуре не может быть монолитных; он может состоять из нескольких библиотек, компонентов или даже уровней (уровень приложений, уровень предметной области, уровень доступа к данным, и т.д.). Внешне оно будет представлять собой единый контейнер, одного процесса, единое веб-приложение или единую службу.

Для управления этой моделью вы развертываете один контейнер, представляющий собой приложение. Для его масштабирования, просто добавьте несколько дополнительные копии с подсистемой балансировки нагрузки спереди. Гораздо проще управлять одним развертыванием в одном контейнере или виртуальной машины (VM).

После основного сервера контейнер делает только одну вещь что делает это в рамках одного процесса монолитный шаблон находится в конфликт. Как показано на рисунке 4-1, может включать несколько компонентов, библиотек или внутренних слоев в каждом контейнере.

![](./media/image1.png)

Рис. 4-1: пример архитектуры монолитного приложения

Недостаток этого подхода, определяется Если или когда приложение разрастается и его необходимо масштабировать. Если масштабируется приложение целиком, все получится. Однако в большинстве случаев несколько частей приложения являются нормально, которые требуют масштабирования, в то время как менее используются другими компонентами.

Используя пример типичных электронной коммерции, скорее всего, необходим для масштабирования сведения компонента продукта. Клиенты чаще просматривают товары, чем приобретают их. Клиенты чаще складывают товары в корзину, чем оплачивают их. Не так много клиентов пишут комментарии или просматривают историю покупок. И, скорее всего у вас есть лишь небольшое число сотрудников в одном регионе, которые управляют содержимым и маркетинговыми кампаниями. При масштабировании монолитных решений весь код развертывается многократно.

В дополнение к «масштабирования-все» проблему, изменения в одном компоненте требуют полного повторного тестирования всего приложения, а также полного повторного развертывания всех экземпляров.

Применить Монолитный подход широкое распространение и многими организациями при разработке с помощью этого метода архитектуры. Многие наслаждайтесь хорошо результатов, тогда как другие возникнуть ограничения. Многие строились в этой модели, так как средства и инфраструктура были слишком сложно создать SOA, и они не видят необходимость, пока его размер увеличивается.

С точки зрения инфраструктуры каждый сервер может выполнять множество приложений в том же узле и применять допустимое соотношение эффективности вашего использования ресурсов, как показано на рисунке 4-2.

![](./media/image2.png)

Рис. 4-2: узел под управлением нескольких приложений или контейнеров

Монолитные приложения в Azure можно развернуть с помощью выделенных виртуальных машин для каждого экземпляра. С помощью [масштабируемых наборов виртуальных Машин Azure](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), вы можете легко масштабировать виртуальные машины. [Службы приложений Azure](https://azure.microsoft.com/services/app-service/) также могут выполнять монолитные приложения и легко масштабировать экземпляры, и вам не придется управлять виртуальными машинами. С 2016 года службы приложений можно запустить отдельные экземпляры контейнеров Docker, а также, упрощая развертывание. И, с помощью Docker, можно развернуть одну виртуальную Машину узла Docker и запустить несколько экземпляров. С помощью балансировки Azure, как показано на рисунке 4-3, вы можете управлять масштабированием.

![](./media/image3.png)

Рис. 4-3: несколько узлов масштабирование одного приложения приложений или контейнеров Docker

Можно управлять развертыванием на различных узлах с помощью традиционных методов развертывания. Узлами Docker можно управлять с помощью таких команд, как `docker run` вручную, с помощью службы автоматизации, такие как конвейеры непрерывной поставки (CD), которые объясняются далее в этой электронной книги.

## <a name="monolithic-application-deployed-as-a-container"></a>Развертывание монолитного приложения в контейнере

Существуют преимущества использования контейнеров для управления развертываниями монолитных. Масштабировать экземпляры контейнера гораздо быстрее и проще, чем развертывать дополнительные виртуальные машины. Несмотря на то, что масштабируемые наборы VM, это отличная возможность для масштабирования виртуальных машин, которые необходимы для размещения контейнеров Docker, они принимают переходить к установке. При развертывании в виде экземпляров приложения управление конфигурацией приложения осуществляется в составе виртуальной машины.

Развертывание обновлений в виде образов Docker выполняется гораздо быстрее и эффективнее с точки зрения использования сети. Экземпляры Vn можно настроить на те же узлы, как экземпляры Vn-1, исключая дополнительных издержек результате дополнительных виртуальных машин. Образы docker обычно запускаются за считанные секунды, что позволяет ускорить выпуск. Происходит так же просто, что и вызов Docker моментально `docker stop` команды, обычно Завершение менее чем за секунду.

Поскольку контейнеры неизменны по своей природе, по своей природе, не придется беспокоиться о поврежденных виртуальных машинах, так как забыли скрипт обновления учесть определенную конфигурацию или файл на диске.

Несмотря на то, что монолитные приложения могут использовать преимущества Docker, мы прервать только советами преимущества по. Благодаря развертыванию с помощью оркестраторов контейнеров, которые управляют различными экземплярами и жизненным циклом каждого экземпляра контейнера поставляется больших преимущества управления контейнерами. Когда вы разбиваете монолитное приложение на подсистемы, которые затем можно масштабировать, разрабатывать и развертывать по отдельности, вы переходите на уровень микрослужб.

## <a name="publishing-a-single-docker-container-app-to-azure-app-service"></a>Публикация одного приложения контейнера Docker в службе приложений Azure

Либо так, как вы хотите получить быстрой проверки контейнер, развернутый в Azure или приложение просто, одном контейнере приложения службы приложений Azure предоставляет отличный способ предоставления масштабируемых служб в одном контейнере.

С помощью службы приложений Azure интуитивно понятный и можно начать и выполняется быстро, поскольку он предоставляет отличный Git интеграции кода, сборки в Microsoft Visual Studio, а также развернуть его непосредственно в Azure. Но, традиционно (с помощью нет Docker), при необходимости другие возможности, платформы или зависимости, которые не поддерживаются в службах приложений, необходимые для дождитесь пока не команда Azure обновит эти зависимости в службе приложений или переключается на другие службы, например Service Fabric, облачных служб или даже просто виртуальные машины, для которых есть дополнительные элемента управления и можно установить необходимый компонент или платформу для вашего приложения.

Теперь, но при этом (объявлено на Microsoft Connect 2016 в ноябре 2016) и, как показано на рисунке 4‑4, при использовании Visual Studio 2017, поддержка контейнеров в службе приложений Azure дает возможность включать угодно в вашей среде приложений. Если вы добавили зависимость в приложение, так как вы используете его в контейнере, вы получаете возможность, в том числе эти зависимости в образ Dockerfile или Docker.

![](./media/image4.png)

Рис. 4-4: публикация контейнер в службе приложений Azure из приложений Visual Studio/контейнеры

Рис. 4-4 также показано, что поток публикации отправляет образ через реестр контейнеров, который может быть реестр контейнеров Azure (реестр практически к вашим развертываниям в Azure и защищенных с помощью групп Azure Active Directory и учетных записей) или другой реестр Docker как и реестры Docker Hub или локально.


>[!div class="step-by-step"]
[Назад](common-container-design-principles.md)
[Вперед](state-and-data-in-docker-applications.md)
