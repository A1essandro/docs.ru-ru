---
title: "Разворачиваемые и не сохраняемые ссылки на сущности"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ffd97806-ab43-4538-8de2-5828bfbbde57
caps.latest.revision: "3"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 069d3b94a0269917400e75fdbe975ec39dcfdb71
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="entity-references-are-expanded-and-not-preserved"></a>Разворачиваемые и не сохраняемые ссылки на сущности
При ссылке на сущность разворачивается и заменяется текстом, он представляет **XmlEntityReference** узел не создается. Вместо этого разбирается объявление сущности и узлы, созданные на основе содержимого в декларации, копируются вместо **XmlEntityReference**. Таким образом, в `&publisher;` примере `&publisher;` не сохраняется, но вместо этого **XmlText** создается узел.  
  
 ![развернуты древовидная структура](../../../../docs/standard/data/xml/media/xmlentityref-expanded-nodes.gif "xmlentityref_expanded_nodes")  
Древовидная структура для разворачиваемых ссылок на сущности  
  
 Сущности-символы, такие как `B` и `<`, не сохраняются. Вместо этого они всегда разворачиваются и представляются в виде текстовых узлов.  
  
 Чтобы сохранить **XmlEntityReference** узлы и дочерние узлы ссылки на сущность, присоединенные к ней, установите **EntityHandling** флаг **ExpandCharEntities**. В противном случае оставьте **EntityHandling** флаг значение по умолчанию — **ExpandEntities**. В этом случае узлы ссылок на сущности не будут отображаться в модели DOM. Эти узлы замещаются узлами-копиями дочерних узлов декларации сущности.  
  
 Один побочный эффект от несохранения ссылок на сущности состоит в том, что после сохранения документа и передачи его в другое приложение этому приложению будет неизвестно, что узлы были порождены ссылкой на сущность. Если же ссылки на сущности сохраняются, то принимающее приложение, обнаружив ссылку на сущность, считает ее дочерние узлы. Очевидно, что дочерние узлы представляют данные, находившиеся в декларации сущности. Например, модель DOM в случае сохранения ссылок на сущности теоретически имела бы следующую структуру.  
  
 XmlElement: publisher  
  
 XmlEntityReference: `&publisher;`  
  
 XmlText: Microsoft Press  
  
 Если ссылки на сущности разворачиваются в модели DOM (метод по умолчанию), древовидная структура имеет следующий вид:  
  
 XmlElement: publisher  
  
 XmlText: Microsoft Press  
  
 Обратите внимание, что узла ссылки на сущность отсутствует и принимающее приложение не может определить, что **XmlText** узел, содержащий «Microsoft Press» создан из декларации сущности.  
  
 Если вы используете средство чтения, которое не может разрешать сущности, **нагрузки** метод создает исключение, когда он встречает ссылку на сущность.  
  
## <a name="see-also"></a>См. также  
 [Модель объектов XML-документов (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
