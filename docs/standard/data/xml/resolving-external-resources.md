---
title: "Разрешение внешних ресурсов"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ad3fa320-4b8f-4e5c-b549-01157591007a
caps.latest.revision: "4"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 824a35ee5d4ecafc45167ff3f4bc89802af4ed96
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="resolving-external-resources"></a><span data-ttu-id="14a53-102">Разрешение внешних ресурсов</span><span class="sxs-lookup"><span data-stu-id="14a53-102">Resolving External Resources</span></span>
<span data-ttu-id="14a53-103">**XmlResolver** свойство **XmlDocument** используется **XmlDocument** для нахождения ресурсов, не встроенных в XML-данных, такие как тип внешнего документа определения DTD, сущностей и схем.</span><span class="sxs-lookup"><span data-stu-id="14a53-103">The **XmlResolver** property of the **XmlDocument** is used by the **XmlDocument** class to locate resources that are not inline in the XML data, such as external document type definitions (DTDs), entities, and schemas.</span></span> <span data-ttu-id="14a53-104">Эти элементы могут находиться в сети или на локальном диске, и могут быть найдены с помощью URI.</span><span class="sxs-lookup"><span data-stu-id="14a53-104">These items can be located on a network or on a local drive, and are identifiable by a Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="14a53-105">Это позволяет **XmlDocument** для устранения **EntityReference** узлы, которые присутствуют в документе и проверять документ по внешних DTD или схеме.</span><span class="sxs-lookup"><span data-stu-id="14a53-105">This allows the **XmlDocument** to resolve **EntityReference** nodes that are present in the document and validate the document according to the external DTD or schema.</span></span>  
  
## <a name="fully-trusted-xmldocument"></a><span data-ttu-id="14a53-106">Полностью доверенный XmlDocument</span><span class="sxs-lookup"><span data-stu-id="14a53-106">Fully-Trusted XmlDocument</span></span>  
 <span data-ttu-id="14a53-107">**XmlResolver** свойства влияют на функциональные возможности **XmlDocument.Load** метод.</span><span class="sxs-lookup"><span data-stu-id="14a53-107">The **XmlResolver** property affects the functionality of the **XmlDocument.Load** method.</span></span> <span data-ttu-id="14a53-108">В таблице показаны как **XmlDocument.XmlResolver** работает, когда свойство **XmlDocument** является полностью доверенным.</span><span class="sxs-lookup"><span data-stu-id="14a53-108">The table below shows how the **XmlDocument.XmlResolver** property works when the **XmlDocument** object is fully trusted.</span></span> <span data-ttu-id="14a53-109">В следующей таблице показаны **XmlDocument.Load** методы, когда входные данные нагрузки — **TextReader**, **строка**, **поток**, или  **URI**.</span><span class="sxs-lookup"><span data-stu-id="14a53-109">The following table shows the **XmlDocument.Load** methods when the input to the Load is a **TextReader**, **String**, **Stream**, or **URI**.</span></span> <span data-ttu-id="14a53-110">Эта таблица не применяется к **нагрузки** метод Если **XmlDocument** загружается из **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-110">This table does not apply to the **Load** method if the **XmlDocument** is loaded from an **XmlReader**.</span></span>  
  
|<span data-ttu-id="14a53-111">XmlResolver, свойство</span><span class="sxs-lookup"><span data-stu-id="14a53-111">XmlResolver property</span></span>|<span data-ttu-id="14a53-112">Функция</span><span class="sxs-lookup"><span data-stu-id="14a53-112">Function</span></span>|<span data-ttu-id="14a53-113">Примечания</span><span class="sxs-lookup"><span data-stu-id="14a53-113">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="14a53-114">Свойство имеет значение **XmlResolver** класс, который был создан ранее и имеет свойства, уже заданные пользователем.</span><span class="sxs-lookup"><span data-stu-id="14a53-114">The property is set to an **XmlResolver** class that has been previously created and has properties already set on it by the user.</span></span>|<span data-ttu-id="14a53-115">**XmlDocument** использует **XmlResolver** , заданное для разрешения имен файлов, для разрешения ссылок на внешние ресурсы, такие как DTD, сущностей и схем.</span><span class="sxs-lookup"><span data-stu-id="14a53-115">The **XmlDocument** uses the **XmlResolver** that is given to resolve file names, to resolve references to external resources such as DTDs, entities, and schemas.</span></span><br /><br /> <span data-ttu-id="14a53-116">**XmlResolver** также используется при разрешении внешних ресурсов, необходимых при добавлении или изменении узлов в **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="14a53-116">The **XmlResolver** is also used when resolving external resources that are needed when adding or editing nodes in the **XmlDocument**.</span></span>|<span data-ttu-id="14a53-117">**XmlResolver** присвоенное **XmlDocument** является арбитром, который используется каждый раз, когда нужно найти и разрешить внешние ресурсы.</span><span class="sxs-lookup"><span data-stu-id="14a53-117">The **XmlResolver** given to the **XmlDocument** is the resolver that is used whenever external resources need to be located and resolved.</span></span>|  
|<span data-ttu-id="14a53-118">Свойство имеет значение **null** (**ничего** в Microsoft Visual Basic .NET).</span><span class="sxs-lookup"><span data-stu-id="14a53-118">The property is set to **null** (**Nothing** in Microsoft Visual Basic .NET).</span></span>|<span data-ttu-id="14a53-119">Возможности, которым требуется внешний ресурс, не поддерживаются, например нахождение внешней схемы или определения DTD.</span><span class="sxs-lookup"><span data-stu-id="14a53-119">Features that require an external resource are not supported, such as locating an external schema, or DTD.</span></span> <span data-ttu-id="14a53-120">Внешние сущности также не будут разрешаться, и такие функции изменения, как вставка узлов сущностей, которые требуют разрешения, не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="14a53-120">Nor will external entities be resolved, and performing editing functions, such as inserting entity nodes that require resolution, are not supported.</span></span>|<span data-ttu-id="14a53-121">**XmlDocument** загружает файлы как анонимные и не пытается разрешить никакие другие ресурсы.</span><span class="sxs-lookup"><span data-stu-id="14a53-121">The **XmlDocument** loads files as anonymous and does not attempt to resolve any other resources.</span></span>|  
|<span data-ttu-id="14a53-122">Свойство не устанавливается, а оставляется в состоянии по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="14a53-122">The property is not set, but left in its default state.</span></span>|<span data-ttu-id="14a53-123">**XmlUrlResolver** со значением NULL будет создано и используемые учетные данные **XmlDocument** при разрешении имен, поиске внешних DTD, сущностей и схем, и **значениеnull** при редактировании узлов используются учетные данные.</span><span class="sxs-lookup"><span data-stu-id="14a53-123">An **XmlUrlResolver** with NULL credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>||  
  
 <span data-ttu-id="14a53-124">В следующей таблице показаны **XmlDocument.Load** метод при входных данных для **нагрузки** — **XmlReader** и **XmlDocument** — полное доверие.</span><span class="sxs-lookup"><span data-stu-id="14a53-124">The following table shows the **XmlDocument.Load** method when the input to the **Load** is an **XmlReader** and the **XmlDocument** is fully trusted.</span></span>  
  
|<span data-ttu-id="14a53-125">XmlResolver, свойство</span><span class="sxs-lookup"><span data-stu-id="14a53-125">XmlResolver property</span></span>|<span data-ttu-id="14a53-126">Функция</span><span class="sxs-lookup"><span data-stu-id="14a53-126">Function</span></span>|<span data-ttu-id="14a53-127">Примечания</span><span class="sxs-lookup"><span data-stu-id="14a53-127">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="14a53-128">**XmlResolver** класса, используемого **XmlDocument** представляет тот же класс, используемый **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-128">The **XmlResolver** class used by the **XmlDocument** is the same class being used by the **XmlReader**.</span></span>|<span data-ttu-id="14a53-129">**XmlDocument** использует **XmlResolver** , назначенный для **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-129">The **XmlDocument** uses the **XmlResolver** that was assigned to the **XmlReader**.</span></span><br /><br /> <span data-ttu-id="14a53-130">**XmlDocument.Resolver** свойство не может быть установлен, независимо от того, **XmlDocument** доверия уровень, поскольку оно получает **XmlResolver** из  **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-130">The **XmlDocument.Resolver** property cannot be set, regardless of the **XmlDocument** trust level, because it is getting an **XmlResolver** from the **XmlReader**.</span></span> <span data-ttu-id="14a53-131">Нельзя пытаться переопределить параметры **XmlReaders**" **XmlResolver** , установив **XmlResolver** свойство **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="14a53-131">You cannot attempt to override the settings of the **XmlReaders**' **XmlResolver** by setting the **XmlResolver** property of the **XmlDocument**.</span></span>|<span data-ttu-id="14a53-132">**XmlReader** может быть **XmlTextReader**, **XmlValidatingReader**, или пользовательским модулем чтения данных.</span><span class="sxs-lookup"><span data-stu-id="14a53-132">The **XmlReader** can be the **XmlTextReader**, **XmlValidatingReader**, or a custom-written reader.</span></span> <span data-ttu-id="14a53-133">Если используемое средство чтения поддерживает разрешение сущностей, внешние сущности разрешаются.</span><span class="sxs-lookup"><span data-stu-id="14a53-133">If the reader used supports entity resolution, external entities are resolved.</span></span> <span data-ttu-id="14a53-134">Если переданный модуль чтения не поддерживает ссылки на сущности, то ссылки на сущности не разрешаются.</span><span class="sxs-lookup"><span data-stu-id="14a53-134">If the reader passed does not support entity references, then entity references are not resolved.</span></span>|  
  
## <a name="semi-trusted-xmldocument"></a><span data-ttu-id="14a53-135">Полудоверенный XmlDocument</span><span class="sxs-lookup"><span data-stu-id="14a53-135">Semi-Trusted XmlDocument</span></span>  
 <span data-ttu-id="14a53-136">В следующей таблице показаны как **XmlDocument.XmlResolver** свойство работает, если объект является полудоверенным.</span><span class="sxs-lookup"><span data-stu-id="14a53-136">The following table shows how the **XmlDocument.XmlResolver** property works when the object is semi-trusted.</span></span> <span data-ttu-id="14a53-137">Эта таблица применяется к **XmlDocument.Load** методы, когда входные данные нагрузки — **TextReader**, **строка**, **поток**, или  **URI**.</span><span class="sxs-lookup"><span data-stu-id="14a53-137">This table applies to the **XmlDocument.Load** methods when the input to the Load is a **TextReader**, **String**, **Stream**, or **URI**.</span></span> <span data-ttu-id="14a53-138">Эта таблица не применяется к **нагрузки** метод Если **XmlDocument** загружается из **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-138">This table does not apply to the **Load** method if the **XmlDocument** is loaded from an **XmlReader**.</span></span>  
  
|<span data-ttu-id="14a53-139">XmlResolver, свойство</span><span class="sxs-lookup"><span data-stu-id="14a53-139">XmlResolver property</span></span>|<span data-ttu-id="14a53-140">Функция</span><span class="sxs-lookup"><span data-stu-id="14a53-140">Function</span></span>|<span data-ttu-id="14a53-141">Примечания</span><span class="sxs-lookup"><span data-stu-id="14a53-141">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="14a53-142">В частично доверенном сценарии **XmlResolver** свойство не может быть присвоено только значение null.</span><span class="sxs-lookup"><span data-stu-id="14a53-142">In the semi-trusted scenario, the **XmlResolver** property cannot be set to anything other than null.</span></span>|<span data-ttu-id="14a53-143">**XmlUrlResolver** с **null** учетные данные будут создается и используется **XmlDocument** при разрешении имен, поиске внешних DTD, сущностей и схемы, и **null** при редактировании узлов используются учетные данные.</span><span class="sxs-lookup"><span data-stu-id="14a53-143">An **XmlUrlResolver** with **null** credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>|<span data-ttu-id="14a53-144">Такое поведение идентично поведение при **XmlResolver** свойство не устанавливается, а оставляется в состоянии по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="14a53-144">This behavior is identical to the behavior when the **XmlResolver** property is not set, but left in its default state.</span></span><br /><br /> <span data-ttu-id="14a53-145">**XmlDocument** для всех действий используются анонимные разрешения.</span><span class="sxs-lookup"><span data-stu-id="14a53-145">The **XmlDocument** uses anonymous permissions for all actions.</span></span>|  
|<span data-ttu-id="14a53-146">Свойство имеет значение **null** (**ничего** в Microsoft Visual Basic .NET).</span><span class="sxs-lookup"><span data-stu-id="14a53-146">The property is set to **null** (**Nothing** in Microsoft Visual Basic .NET).</span></span>|<span data-ttu-id="14a53-147">Возможности, которым требуется внешний ресурс, не поддерживаются, например обнаружение внешней схемы или определения DTD.</span><span class="sxs-lookup"><span data-stu-id="14a53-147">No features that require an external resource are supported, such as locating an external schema or DTD.</span></span> <span data-ttu-id="14a53-148">Внешние сущности также не будут разрешаться, а такие действия по изменению, как вставка узлов сущностей, которые требуют разрешения, не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="14a53-148">Nor will external entities be resolved, and performing editing functions such as inserting entity nodes that require resolution, are not supported.</span></span>|<span data-ttu-id="14a53-149">Если свойство не **null**, поведение будет прежним независимо от того, если **XmlDocument** полностью или с частичным доверием.</span><span class="sxs-lookup"><span data-stu-id="14a53-149">When the property is **null**, the behavior is the same regardless if the **XmlDocument** is fully trusted or semi-trusted.</span></span>|  
|<span data-ttu-id="14a53-150">Свойство не устанавливается, а оставляется в состоянии по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="14a53-150">The property is not set, but left in its default state.</span></span>|<span data-ttu-id="14a53-151">**XmlUrlResolver** с **null** учетные данные будут создается и используется **XmlDocument** при разрешении имен, поиске внешних DTD, сущностей и схемы, и **null** при редактировании узлов используются учетные данные.</span><span class="sxs-lookup"><span data-stu-id="14a53-151">An **XmlUrlResolver** with **null** credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>|<span data-ttu-id="14a53-152">**XmlDocument** для всех действий используются анонимные разрешения.</span><span class="sxs-lookup"><span data-stu-id="14a53-152">The **XmlDocument** uses anonymous permissions for all actions.</span></span>|  
  
 <span data-ttu-id="14a53-153">Эта таблица применяется к **XmlDocument.Load** метод при входных данных для **нагрузки** — **XmlReader**и **XmlDocument** — с частичным доверием.</span><span class="sxs-lookup"><span data-stu-id="14a53-153">This table applies to the **XmlDocument.Load** method when the input to the **Load** is an **XmlReader**, and the **XmlDocument** is semi-trusted.</span></span>  
  
|<span data-ttu-id="14a53-154">XmlResolver, свойство</span><span class="sxs-lookup"><span data-stu-id="14a53-154">XmlResolver property</span></span>|<span data-ttu-id="14a53-155">Функция</span><span class="sxs-lookup"><span data-stu-id="14a53-155">Function</span></span>|<span data-ttu-id="14a53-156">Примечания</span><span class="sxs-lookup"><span data-stu-id="14a53-156">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="14a53-157">**XmlResolver** класса, используемого **XmlDocument** совпадает с тем, используемый **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-157">The **XmlResolver** class used by the **XmlDocument** is the same one being used by the **XmlReader**.</span></span>|<span data-ttu-id="14a53-158">**XmlDocument** использует **XmlResolver** , назначенный для **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-158">The **XmlDocument** uses the **XmlResolver** that was assigned to the **XmlReader**.</span></span><br /><br /> <span data-ttu-id="14a53-159">**XmlDocument.Resolver** свойство не может быть установлен, независимо от того, **XmlDocument** доверия уровень, поскольку оно получает **XmlResolver** из  **XmlReader**.</span><span class="sxs-lookup"><span data-stu-id="14a53-159">The **XmlDocument.Resolver** property cannot be set, regardless of the **XmlDocument** trust level, because it is getting an **XmlResolver** from the **XmlReader**.</span></span> <span data-ttu-id="14a53-160">Нельзя пытаться переопределить параметры **XmlReaders** **XmlResolver** , установив **XmlResolver** свойство **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="14a53-160">You cannot attempt to override the settings of the **XmlReaders** **XmlResolver** by setting the **XmlResolver** property of the **XmlDocument**.</span></span>|<span data-ttu-id="14a53-161">**XmlReader** может быть **XmlTextReader**, проверяющим <xref:System.Xml.XmlReader>, или пользовательским модулем чтения данных.</span><span class="sxs-lookup"><span data-stu-id="14a53-161">The **XmlReader** can be the **XmlTextReader**, validating <xref:System.Xml.XmlReader>, or a custom-written reader.</span></span> <span data-ttu-id="14a53-162">Если используемое средство чтения поддерживает разрешение сущностей, внешние сущности разрешаются.</span><span class="sxs-lookup"><span data-stu-id="14a53-162">If the reader used supports entity resolution, external entities are resolved.</span></span> <span data-ttu-id="14a53-163">Если переданный модуль чтения не поддерживает ссылки на сущности, ссылки на сущности не разрешаются.</span><span class="sxs-lookup"><span data-stu-id="14a53-163">If the reader passed in does not support entity references, then entity references are not resolved.</span></span>|  
  
 <span data-ttu-id="14a53-164">Если настроить класс XmlResolver так, чтобы он содержал корректные учетные данные, можно получить доступ к внешним ресурсам.</span><span class="sxs-lookup"><span data-stu-id="14a53-164">Setting the XmlResolver to contain the correct credentials allows access to external resources.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="14a53-165">Нет возможности для извлечения **XmlResolver** свойство.</span><span class="sxs-lookup"><span data-stu-id="14a53-165">There is no way to retrieve the **XmlResolver** property.</span></span> <span data-ttu-id="14a53-166">Это помогает предотвратить повторное использование пользователем **XmlResolver** на какие учетные данные были заданы.</span><span class="sxs-lookup"><span data-stu-id="14a53-166">This helps to prevent a user from reusing an **XmlResolver** on which credentials have been set.</span></span> <span data-ttu-id="14a53-167">Кроме того Если **XmlTextReader** или проверке <xref:System.Xml.XmlReader> используется для загрузки **XmlDocument** и **XmlDocument** Сопоставитель, которое было задано, арбитры из Эти средства чтения не кэшируются объектом **XmlDocument** после **нагрузки** этап, поскольку это также представляет угрозу безопасности.</span><span class="sxs-lookup"><span data-stu-id="14a53-167">Also, if an **XmlTextReader** or validating <xref:System.Xml.XmlReader> is used to load the **XmlDocument** and the **XmlDocument** has a resolver that has been set, the resolvers from these readers are not cached by the **XmlDocument** after the **Load** phase, since this also presents a security risk.</span></span>  
  
 <span data-ttu-id="14a53-168">Дополнительные сведения см. в подразделе "Примечания" на справочной странице <xref:System.Xml.XmlResolver>.</span><span class="sxs-lookup"><span data-stu-id="14a53-168">For more information, see the Remarks section of the <xref:System.Xml.XmlResolver> reference page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="14a53-169">См. также</span><span class="sxs-lookup"><span data-stu-id="14a53-169">See Also</span></span>  
 [<span data-ttu-id="14a53-170">Модель объектов XML-документов (DOM)</span><span class="sxs-lookup"><span data-stu-id="14a53-170">XML Document Object Model (DOM)</span></span>](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
