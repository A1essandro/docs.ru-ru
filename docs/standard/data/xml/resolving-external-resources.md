---
title: "Разрешение внешних ресурсов"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ad3fa320-4b8f-4e5c-b549-01157591007a
caps.latest.revision: "4"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 824a35ee5d4ecafc45167ff3f4bc89802af4ed96
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="resolving-external-resources"></a>Разрешение внешних ресурсов
**XmlResolver** свойство **XmlDocument** используется **XmlDocument** для нахождения ресурсов, не встроенных в XML-данных, такие как тип внешнего документа определения DTD, сущностей и схем. Эти элементы могут находиться в сети или на локальном диске, и могут быть найдены с помощью URI. Это позволяет **XmlDocument** для устранения **EntityReference** узлы, которые присутствуют в документе и проверять документ по внешних DTD или схеме.  
  
## <a name="fully-trusted-xmldocument"></a>Полностью доверенный XmlDocument  
 **XmlResolver** свойства влияют на функциональные возможности **XmlDocument.Load** метод. В таблице показаны как **XmlDocument.XmlResolver** работает, когда свойство **XmlDocument** является полностью доверенным. В следующей таблице показаны **XmlDocument.Load** методы, когда входные данные нагрузки — **TextReader**, **строка**, **поток**, или  **URI**. Эта таблица не применяется к **нагрузки** метод Если **XmlDocument** загружается из **XmlReader**.  
  
|XmlResolver, свойство|Функция|Примечания|  
|--------------------------|--------------|-----------|  
|Свойство имеет значение **XmlResolver** класс, который был создан ранее и имеет свойства, уже заданные пользователем.|**XmlDocument** использует **XmlResolver** , заданное для разрешения имен файлов, для разрешения ссылок на внешние ресурсы, такие как DTD, сущностей и схем.<br /><br /> **XmlResolver** также используется при разрешении внешних ресурсов, необходимых при добавлении или изменении узлов в **XmlDocument**.|**XmlResolver** присвоенное **XmlDocument** является арбитром, который используется каждый раз, когда нужно найти и разрешить внешние ресурсы.|  
|Свойство имеет значение **null** (**ничего** в Microsoft Visual Basic .NET).|Возможности, которым требуется внешний ресурс, не поддерживаются, например нахождение внешней схемы или определения DTD. Внешние сущности также не будут разрешаться, и такие функции изменения, как вставка узлов сущностей, которые требуют разрешения, не поддерживаются.|**XmlDocument** загружает файлы как анонимные и не пытается разрешить никакие другие ресурсы.|  
|Свойство не устанавливается, а оставляется в состоянии по умолчанию.|**XmlUrlResolver** со значением NULL будет создано и используемые учетные данные **XmlDocument** при разрешении имен, поиске внешних DTD, сущностей и схем, и **значениеnull** при редактировании узлов используются учетные данные.||  
  
 В следующей таблице показаны **XmlDocument.Load** метод при входных данных для **нагрузки** — **XmlReader** и **XmlDocument** — полное доверие.  
  
|XmlResolver, свойство|Функция|Примечания|  
|--------------------------|--------------|-----------|  
|**XmlResolver** класса, используемого **XmlDocument** представляет тот же класс, используемый **XmlReader**.|**XmlDocument** использует **XmlResolver** , назначенный для **XmlReader**.<br /><br /> **XmlDocument.Resolver** свойство не может быть установлен, независимо от того, **XmlDocument** доверия уровень, поскольку оно получает **XmlResolver** из  **XmlReader**. Нельзя пытаться переопределить параметры **XmlReaders**" **XmlResolver** , установив **XmlResolver** свойство **XmlDocument**.|**XmlReader** может быть **XmlTextReader**, **XmlValidatingReader**, или пользовательским модулем чтения данных. Если используемое средство чтения поддерживает разрешение сущностей, внешние сущности разрешаются. Если переданный модуль чтения не поддерживает ссылки на сущности, то ссылки на сущности не разрешаются.|  
  
## <a name="semi-trusted-xmldocument"></a>Полудоверенный XmlDocument  
 В следующей таблице показаны как **XmlDocument.XmlResolver** свойство работает, если объект является полудоверенным. Эта таблица применяется к **XmlDocument.Load** методы, когда входные данные нагрузки — **TextReader**, **строка**, **поток**, или  **URI**. Эта таблица не применяется к **нагрузки** метод Если **XmlDocument** загружается из **XmlReader**.  
  
|XmlResolver, свойство|Функция|Примечания|  
|--------------------------|--------------|-----------|  
|В частично доверенном сценарии **XmlResolver** свойство не может быть присвоено только значение null.|**XmlUrlResolver** с **null** учетные данные будут создается и используется **XmlDocument** при разрешении имен, поиске внешних DTD, сущностей и схемы, и **null** при редактировании узлов используются учетные данные.|Такое поведение идентично поведение при **XmlResolver** свойство не устанавливается, а оставляется в состоянии по умолчанию.<br /><br /> **XmlDocument** для всех действий используются анонимные разрешения.|  
|Свойство имеет значение **null** (**ничего** в Microsoft Visual Basic .NET).|Возможности, которым требуется внешний ресурс, не поддерживаются, например обнаружение внешней схемы или определения DTD. Внешние сущности также не будут разрешаться, а такие действия по изменению, как вставка узлов сущностей, которые требуют разрешения, не поддерживаются.|Если свойство не **null**, поведение будет прежним независимо от того, если **XmlDocument** полностью или с частичным доверием.|  
|Свойство не устанавливается, а оставляется в состоянии по умолчанию.|**XmlUrlResolver** с **null** учетные данные будут создается и используется **XmlDocument** при разрешении имен, поиске внешних DTD, сущностей и схемы, и **null** при редактировании узлов используются учетные данные.|**XmlDocument** для всех действий используются анонимные разрешения.|  
  
 Эта таблица применяется к **XmlDocument.Load** метод при входных данных для **нагрузки** — **XmlReader**и **XmlDocument** — с частичным доверием.  
  
|XmlResolver, свойство|Функция|Примечания|  
|--------------------------|--------------|-----------|  
|**XmlResolver** класса, используемого **XmlDocument** совпадает с тем, используемый **XmlReader**.|**XmlDocument** использует **XmlResolver** , назначенный для **XmlReader**.<br /><br /> **XmlDocument.Resolver** свойство не может быть установлен, независимо от того, **XmlDocument** доверия уровень, поскольку оно получает **XmlResolver** из  **XmlReader**. Нельзя пытаться переопределить параметры **XmlReaders** **XmlResolver** , установив **XmlResolver** свойство **XmlDocument**.|**XmlReader** может быть **XmlTextReader**, проверяющим <xref:System.Xml.XmlReader>, или пользовательским модулем чтения данных. Если используемое средство чтения поддерживает разрешение сущностей, внешние сущности разрешаются. Если переданный модуль чтения не поддерживает ссылки на сущности, ссылки на сущности не разрешаются.|  
  
 Если настроить класс XmlResolver так, чтобы он содержал корректные учетные данные, можно получить доступ к внешним ресурсам.  
  
> [!NOTE]
>  Нет возможности для извлечения **XmlResolver** свойство. Это помогает предотвратить повторное использование пользователем **XmlResolver** на какие учетные данные были заданы. Кроме того Если **XmlTextReader** или проверке <xref:System.Xml.XmlReader> используется для загрузки **XmlDocument** и **XmlDocument** Сопоставитель, которое было задано, арбитры из Эти средства чтения не кэшируются объектом **XmlDocument** после **нагрузки** этап, поскольку это также представляет угрозу безопасности.  
  
 Дополнительные сведения см. в подразделе "Примечания" на справочной странице <xref:System.Xml.XmlResolver>.  
  
## <a name="see-also"></a>См. также  
 [Модель объектов XML-документов (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
