---
title: Главные выводы
description: Архитектура микрослужб .NET для упакованных в контейнеры приложений .NET | Главные выводы
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.openlocfilehash: 880f99228dbfe7374878b497582ccf540658fc12
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33578187"
---
# <a name="key-takeaways"></a><span data-ttu-id="389b7-103">Главные выводы</span><span class="sxs-lookup"><span data-stu-id="389b7-103">Key Takeaways</span></span>

<span data-ttu-id="389b7-104">Ниже приводится обзор и главные выводы этого руководства.</span><span class="sxs-lookup"><span data-stu-id="389b7-104">As a summary and key takeaways, the following are the most important conclusions from this guide.</span></span>

<span data-ttu-id="389b7-105">**Преимущества использования контейнеров.**</span><span class="sxs-lookup"><span data-stu-id="389b7-105">**Benefits of using containers.**</span></span> <span data-ttu-id="389b7-106">Решения на основе контейнеров предоставляют важные преимущества с точки зрения сокращения расходов, так как контейнеры позволяют устранять проблемы, вызванные отсутствием зависимостей в производственной среде.</span><span class="sxs-lookup"><span data-stu-id="389b7-106">Container-based solutions provide the important benefit of cost savings because containers are a solution to deployment problems caused by the lack of dependencies in production environments.</span></span> <span data-ttu-id="389b7-107">Контейнеры значительно повышают эффективность DevOps и производственных операций.</span><span class="sxs-lookup"><span data-stu-id="389b7-107">Containers significantly improve DevOps and production operations.</span></span>

<span data-ttu-id="389b7-108">**Контейнеры будут распространены повсеместно.**</span><span class="sxs-lookup"><span data-stu-id="389b7-108">**Containers will be ubiquitous.**</span></span> <span data-ttu-id="389b7-109">Контейнеры на базе Docker становятся стандартом де-факто в области контейнеризации приложений. Это решение поддерживается большинством поставщиков в экосистеме Windows и Linux.</span><span class="sxs-lookup"><span data-stu-id="389b7-109">Docker-based containers are becoming the de facto standard in the container industry, supported by the most significant vendors in the Windows and Linux ecosystems.</span></span> <span data-ttu-id="389b7-110">Сюда входят Microsoft, Amazon AWS, Google и IBM.</span><span class="sxs-lookup"><span data-stu-id="389b7-110">This includes Microsoft, Amazon AWS, Google, and IBM.</span></span> <span data-ttu-id="389b7-111">В ближайшем будущем Docker, вероятно, можно будет встретить как в облачных, так и в локальных центрах обработки данных.</span><span class="sxs-lookup"><span data-stu-id="389b7-111">In the near future, Docker will probably be ubiquitous in both cloud and on-premises datacenters.</span></span>

<span data-ttu-id="389b7-112">**Контейнеры как единица развертывания.**</span><span class="sxs-lookup"><span data-stu-id="389b7-112">**Containers as a unit of deployment.**</span></span> <span data-ttu-id="389b7-113">Контейнер Docker превращается в стандартную единицу развертывания любого серверного приложения или службы.</span><span class="sxs-lookup"><span data-stu-id="389b7-113">A Docker container is becoming the standard unit of deployment for any server-based application or service.</span></span>

<span data-ttu-id="389b7-114">**Микрослужбы.**</span><span class="sxs-lookup"><span data-stu-id="389b7-114">**Microservices.**</span></span> <span data-ttu-id="389b7-115">Архитектура микрослужб становится предпочтительным подходом для распределенных и крупных или сложных критически важных приложений, основанных на нескольких независимых подсистемах в виде автономных служб.</span><span class="sxs-lookup"><span data-stu-id="389b7-115">The microservices architecture is becoming the preferred approach for distributed and large or complex mission-critical applications based on multiple independent subsystems in the form of autonomous services.</span></span> <span data-ttu-id="389b7-116">Архитектура на основе микрослужб предполагает создание приложения на базе коллекции служб, которые можно разрабатывать, тестировать, обновлять, развертывать и масштабировать независимо друг от друга. Сюда могут входить связанные автономные базы данных.</span><span class="sxs-lookup"><span data-stu-id="389b7-116">In a microservice-based architecture, the application is built as a collection of services that can be developed, tested, versioned, deployed, and scaled independently; this can include any related autonomous database.</span></span>

<span data-ttu-id="389b7-117">**Проблемно-ориентированное проектирование и сервисноориентированная архитектура.**</span><span class="sxs-lookup"><span data-stu-id="389b7-117">**Domain-driven design and SOA.**</span></span> <span data-ttu-id="389b7-118">Шаблоны архитектуры микрослужб созданы сервисноориентированной архитектурой (SOA) и проблемно-ориентированным проектированием (DDD).</span><span class="sxs-lookup"><span data-stu-id="389b7-118">The microservices architecture patterns derive from service-oriented architecture (SOA) and domain-driven design (DDD).</span></span> <span data-ttu-id="389b7-119">Когда вы проектируете и разрабатываете микрослужбы для сред с развивающимися бизнес-правилами, определяющими форму той или иной предметной области, важно учитывать подходы и шаблоны проблемно-ориентированного проектирования.</span><span class="sxs-lookup"><span data-stu-id="389b7-119">When you design and develop microservices for environments with evolving business rules shaping a particular domain, it is important to take into account DDD approaches and patterns.</span></span>

<span data-ttu-id="389b7-120">**Недостатки микрослужб.**</span><span class="sxs-lookup"><span data-stu-id="389b7-120">**Microservices challenges.**</span></span> <span data-ttu-id="389b7-121">Микрослужбы открывают широкие возможности, такие как независимое развертывание, строгие границы подсистем и техническое разнообразие.</span><span class="sxs-lookup"><span data-stu-id="389b7-121">Microservices offer many powerful capabilities, like independent deployment, strong subsystem boundaries, and technology diversity.</span></span> <span data-ttu-id="389b7-122">Но они создают новые трудности при разработке распределенных приложений, связанные, например, с фрагментированными и независимыми моделями данных, устойчивой связью между микрослужбами, итоговой согласованностью и операционной сложностью, возникающей в результате объединения данных журнала и мониторинга от множества микрослужб.</span><span class="sxs-lookup"><span data-stu-id="389b7-122">However, they also raise many new challenges related to distributed application development, such as fragmented and independent data models, resilient communication between microservices, eventual consistency, and operational complexity that results from aggregating logging and monitoring information from multiple microservices.</span></span> <span data-ttu-id="389b7-123">С этой точки зрения, структура будет более сложной по сравнению с традиционными монолитными приложениями.</span><span class="sxs-lookup"><span data-stu-id="389b7-123">These aspects introduce a higher level of complexity than a traditional monolithic application.</span></span> <span data-ttu-id="389b7-124">Поэтому приложения на базе микрослужб подходят только для определенных сценариев.</span><span class="sxs-lookup"><span data-stu-id="389b7-124">As a result, only specific scenarios are suitable for microservice-based applications.</span></span> <span data-ttu-id="389b7-125">К ним относятся большие и сложные приложения с несколькими развивающимися подсистемами. В таких случаях разумно инвестировать в создание более сложной архитектуры, которая упростит обслуживание приложения в долгосрочной перспективе.</span><span class="sxs-lookup"><span data-stu-id="389b7-125">These include large and complex applications with multiple evolving subsystems; in these cases, it is worth investing in a more complex software architecture, because it will provide better long-term agility and application maintenance.</span></span>

<span data-ttu-id="389b7-126">**Контейнеры для любого приложения.**</span><span class="sxs-lookup"><span data-stu-id="389b7-126">**Containers for any application.**</span></span> <span data-ttu-id="389b7-127">Контейнеры удобны для микрослужб, но используются не только с ними.</span><span class="sxs-lookup"><span data-stu-id="389b7-127">Containers are convenient for microservices, but are not exclusive for them.</span></span> <span data-ttu-id="389b7-128">Контейнеры также можно использовать с монолитными приложениями, включая прежние версии приложений на традиционной платформе .NET Framework, модернизированные через контейнеры Windows.</span><span class="sxs-lookup"><span data-stu-id="389b7-128">Containers can also be used with monolithic applications, including legacy applications based on the traditional .NET Framework and modernized through Windows Containers.</span></span> <span data-ttu-id="389b7-129">Docker имеет преимущества для приложений самых разных типов, например, позволяет решать проблемы при переходе от развертывания в производство и обеспечивает современные среды разработки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="389b7-129">The benefits of using Docker, such as solving many deployment-to-production issues and providing state of the art Dev and Test environments, apply to many different types of applications.</span></span>

<span data-ttu-id="389b7-130">**Интерфейс командной строки и интегрированная среда разработки.**</span><span class="sxs-lookup"><span data-stu-id="389b7-130">**CLI versus IDE.**</span></span> <span data-ttu-id="389b7-131">С помощью инструментов Майкрософт вы можете разрабатывать приложения .NET в контейнерах, используя выбранный вами подход.</span><span class="sxs-lookup"><span data-stu-id="389b7-131">With Microsoft tools, you can develop containerized .NET applications using your preferred approach.</span></span> <span data-ttu-id="389b7-132">Вы можете разрабатывать приложения с помощью интерфейса командной строки и среды на базе редактора, используя Docker CLI и Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="389b7-132">You can develop with a CLI and an editor-based environment by using the Docker CLI and Visual Studio Code.</span></span> <span data-ttu-id="389b7-133">Или вы можете использовать интегрированную среду разработки через Visual Studio с ее уникальными возможностями для Docker, например отлаживание приложений с несколькими контейнерами.</span><span class="sxs-lookup"><span data-stu-id="389b7-133">Or you can use an IDE-focused approach with Visual Studio and its unique features for Docker, such as like being able to debug multi-container applications.</span></span>

<span data-ttu-id="389b7-134">**Устойчивые облачные приложения.**</span><span class="sxs-lookup"><span data-stu-id="389b7-134">**Resilient cloud applications.**</span></span> <span data-ttu-id="389b7-135">Как правило, в облачных и распределенных системах всегда существует риск частичного сбоя.</span><span class="sxs-lookup"><span data-stu-id="389b7-135">In cloud-based systems and distributed systems in general, there is always the risk of partial failure.</span></span> <span data-ttu-id="389b7-136">Поскольку клиенты и службы являются отдельными процессами (контейнерами), служба может не ответить вовремя на запрос клиента.</span><span class="sxs-lookup"><span data-stu-id="389b7-136">Since clients and services are separate processes (containers), a service might not be able to respond in a timely way to a client’s request.</span></span> <span data-ttu-id="389b7-137">Например, служба может не работать в связи с частичным сбоем или обслуживанием. Служба может быть перегружена, очень медленно отвечать на запросы, быть недоступна некоторое время из-за проблем в сети.</span><span class="sxs-lookup"><span data-stu-id="389b7-137">For example, a service might be down because of a partial failure or for maintenance; the service might be overloaded and responding extremely slowly to requests; or it might simply not be accessible for a short time because of network issues.</span></span> <span data-ttu-id="389b7-138">При разработке облачных приложений необходимо учитывать возможность подобных сбоев и реализовывать стратегии реагирования на них.</span><span class="sxs-lookup"><span data-stu-id="389b7-138">Therefore, a cloud-based application must embrace those failures and have a strategy in place to respond to those failures.</span></span> <span data-ttu-id="389b7-139">Эти стратегии могут включать политики повтора (повторная отправка сообщений или запросов) и реализацию шаблонов размыкателя цепи, чтобы избежать возрастания нагрузки при повторяющихся запросах.</span><span class="sxs-lookup"><span data-stu-id="389b7-139">These strategies can include retry policies (resending messages or retrying requests) and implementing circuit-breaker patterns to avoid exponential load of repeated requests.</span></span> <span data-ttu-id="389b7-140">По сути, облачные приложения должны обладать механизмами устойчивости — созданными специально или основанными на облачной инфраструктуре, например высокоуровневых платформах из оркестраторов или сервисных шин.</span><span class="sxs-lookup"><span data-stu-id="389b7-140">Basically, cloud-based applications must have resilient mechanisms—either custom ones, or ones based on cloud infrastructure, such as high-level frameworks from orchestrators or service buses.</span></span>

<span data-ttu-id="389b7-141">**Безопасность.**</span><span class="sxs-lookup"><span data-stu-id="389b7-141">**Security.**</span></span> <span data-ttu-id="389b7-142">Современный мир контейнеров и микрослужб может иметь новые уязвимости.</span><span class="sxs-lookup"><span data-stu-id="389b7-142">Our modern world of containers and microservices can expose new vulnerabilities.</span></span> <span data-ttu-id="389b7-143">Базовая безопасность приложения обеспечивается проверкой подлинности и авторизацией. Существует несколько способов реализации этих решений.</span><span class="sxs-lookup"><span data-stu-id="389b7-143">Basic application security is based on authentication and authorization; multiple ways exist to implement these.</span></span> <span data-ttu-id="389b7-144">Однако система безопасности контейнеров имеет дополнительные ключевые компоненты, которые повышают безопасность приложений.</span><span class="sxs-lookup"><span data-stu-id="389b7-144">However, container security includes additional key components that result in inherently safer applications.</span></span> <span data-ttu-id="389b7-145">Важнейший элемент создания более безопасных приложений — это защищенный способ связи с другими приложениями и системами, для которой требуются учетные данные, токены, пароли и другие конфиденциальные сведения. Обычно их называют секретами.</span><span class="sxs-lookup"><span data-stu-id="389b7-145">A critical element of building safer apps is having a secure way of communicating with other apps and systems, something that often requires credentials, tokens, passwords, and other types of confidential information—usually referred to as application secrets.</span></span> <span data-ttu-id="389b7-146">Любое решение по безопасности должно следовать рекомендациям по безопасности, например шифровать секреты при передаче, шифровать секреты при хранении и предотвращать случайную утечку секретов при использовании в конечном приложении.</span><span class="sxs-lookup"><span data-stu-id="389b7-146">Any secure solution must follow security best practices, such as encrypting secrets while in transit; encrypting secrets at rest; and preventing secrets from unintentionally leaking when consumed by the final application.</span></span> <span data-ttu-id="389b7-147">Секреты должны храниться в безопасном месте.</span><span class="sxs-lookup"><span data-stu-id="389b7-147">Those secrets need to be stored and kept safe somewhere.</span></span> <span data-ttu-id="389b7-148">Чтобы обеспечить безопасность, вы можете использовать выбранную инфраструктуру оркестратора или облачную инфраструктуру, например Azure Key Vault, и доступные методы использования секретов кодом приложения.</span><span class="sxs-lookup"><span data-stu-id="389b7-148">To help with security, you can take advantage of your chosen orchestrator’s infrastructure, or of cloud infrastructure like Azure Key Vault and the ways it provides for application code to use it.</span></span>

<span data-ttu-id="389b7-149">**Оркестраторы.**</span><span class="sxs-lookup"><span data-stu-id="389b7-149">**Orchestrators.**</span></span> <span data-ttu-id="389b7-150">Оркестраторы на базе контейнеров, например, представленные в службе контейнеров Azure (Kubernetes, Mesos DC/OS и Docker Swarm) и Azure Service Fabric, являются необходимыми компонентами для любого приложения на основе микрослужб или многоконтейнерного приложения с высокими требованиями к сложности, масштабируемости и постоянному развитию.</span><span class="sxs-lookup"><span data-stu-id="389b7-150">Container-based orchestrators like the ones provided in Azure Container Service (Kubernetes, Mesos DC/OS, and Docker Swarm) and Azure Service Fabric are indispensable for any production-ready microservice-based application and for any multi-container application with significant complexity, scalability needs, and constant evolution.</span></span> <span data-ttu-id="389b7-151">В этом руководстве описаны оркестраторы и их значение для решений на базе микрослужб и контейнеров.</span><span class="sxs-lookup"><span data-stu-id="389b7-151">This guide has introduced orchestrators and their role in microservice-based and container-based solutions.</span></span> <span data-ttu-id="389b7-152">Если ваше приложение может стать сложным контейнерным приложением, рекомендуем ознакомиться с дополнительными ресурсами и больше узнать об оркестраторах</span><span class="sxs-lookup"><span data-stu-id="389b7-152">If your application needs are moving you toward complex containerized apps, you will find it useful to seek out additional resources for learning more about orchestrators</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="389b7-153">[Назад] (secure-net-microservices-web-applications/azure-key-vault-protects-secrets.md)</span><span class="sxs-lookup"><span data-stu-id="389b7-153">[Previous] (secure-net-microservices-web-applications/azure-key-vault-protects-secrets.md)</span></span>
