---
title: "Создание составного пользовательского интерфейса на основе микрослужб, включая создание его визуальной формы и структуры с помощью нескольких микрослужб"
description: "Архитектура микрослужб .NET для контейнерных приложений .NET | Создание составного пользовательского интерфейса на основе микрослужб, включая создание его визуальной формы и структуры с помощью нескольких микрослужб"
keywords: "Docker, микрослужбы, ASP.NET, контейнер"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 12b170e9d4c46fbb697f988596af6566d33099a4
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/23/2017
---
# <a name="creating-composite-ui-based-on-microservices-including-visual-ui-shape-and-layout-generated-by-multiple-microservices"></a>Создание составного пользовательского интерфейса на основе микрослужб, включая создание его визуальной формы и структуры с помощью нескольких микрослужб

Архитектура микрослужб часто начинается с того, что сервер обрабатывает данные и логику. Однако более сложный подход — разработать пользовательский интерфейс приложения также на основе микрослужб. Это означает, что у вас появляется составной пользовательский интерфейс, создаваемый микрослужбами, вместо размещения микрослужб на сервере и наличия монолитного клиентского приложения, которое использует эти микрослужбы. При использовании этого подхода создаваемые микрослужбы можно дополнить логикой и визуальным представлением.

На рис. 4-20 показан более простой подход, при котором монолитное клиентское приложение просто использует микрослужбы. Конечно, вы можете использовать промежуточную службу ASP.NET MVC между формированием HTML и JavaScript. На рисунке показана упрощенная схема, которая выделяет наличие единого (монолитного) пользовательского интерфейса клиента, использующего микрослужбы. Эта схема делает акцент на логике и данных, а не на форме пользовательского интерфейса (HTML и JavaScript).

![](./media/image20.png)

**Рис. 4-20**. Приложение с монолитным пользовательским интерфейсом, использующее серверные микрослужбы

В отличие от монолитного пользовательского интерфейса составной пользовательский интерфейс создается и формируется самими микрослужбами. Некоторые микрослужбы отвечают за внешний вид определенных областей пользовательского интерфейса. Основное различие состоит в том, что у вас есть компоненты пользовательского интерфейса клиента на основе шаблонов (например, классы TS), и модель представления, определяющая форму данных пользовательского интерфейса для этих шаблонов, поступает от каждой микрослужбы.

Во время запуска приложения клиента каждый из компонентов пользовательского интерфейса клиента (например, классы TypeScript) регистрируется в микрослужбе инфраструктуры, которая предоставляет модели представления для данного сценария. Если микрослужба изменяет форму интерфейса, это приводит к изменению пользовательского интерфейса.

На рисунке 4-21 показан вариант составного пользовательского интерфейса. Это упрощенный вариант, так как у вас могут использоваться другие микрослужбы, агрегирующие отдельные фрагменты на основе различных методов, — это зависит от того, используете ли вы традиционный подход к созданию веб-приложения (ASP.NET MVC) или одностраничное приложение (SPA).

![](./media/image21.png)

**Рис. 4-21**. Пример составного пользовательского интерфейса приложения, форма которого определяется серверными микрослужбами

Каждая из этих микрослужб, составляющих пользовательский интерфейс, похожа на небольшой шлюз API. Однако в этом случае каждая микрослужба отвечает за небольшую область пользовательского интерфейса.

Подход с составным пользовательским интерфейсом, который формируется микрослужбами, может быть более или менее трудным в зависимости от того, какие методы создания пользовательского интерфейса применяются. Например, вы не сможете использовать одни и те же методы для создания традиционного веб-приложения, одностраничного приложения или собственного мобильного приложения (как при разработке приложений Xamarin, для которых этот подход может оказаться более трудным).

В примере приложения [EShopOnContainers](http://aka.ms/MicroservicesArchitecture) используется монолитный пользовательский интерфейс по различным причинам. Во-первых, он позволяет новичкам познакомиться с микрослужбами и контейнерами. Подход с составным пользовательским интерфейсом более сложен, но он еще больше усложняется при проектировании и разработки пользовательского интерфейса. Во-вторых, eShopOnContainers также предоставляет собственное мобильное приложение на основе Xamarin, что усложнило бы разработку на C\# для клиента.

Тем не менее мы рекомендуем воспользоваться следующими ресурсами для дальнейшего изучения составных пользовательских интерфейсов на основе микрослужб.

## <a name="additional-resources"></a>Дополнительные ресурсы

-   **Составной пользовательский интерфейс в ASP.NET (семинар от Particular)**
    [*http://go.particular.net/workshop-composite-ui-demo*](http://go.particular.net/workshop-composite-ui-demo)

-   **Рубен Оостинга (Ruben Oostinga). Монолитный пользовательский интерфейс в архитектуре микрослужб**
    [*http://blog.xebia.com/the-monolithic-frontend-in-the-microservices-architecture/*](http://blog.xebia.com/the-monolithic-frontend-in-the-microservices-architecture/)

-   **Мауро Сервьенти (Mauro Servienti). Как лучше всего спроектировать пользовательский интерфейс**
    [*https://particular.net/blog/secret-of-better-ui-composition*](https://particular.net/blog/secret-of-better-ui-composition)

-   **Виктор Фарчич (Viktor Farcic). Включение клиентских веб-компонентов в микрослужбы**
    [*https://technologyconversations.com/2015/08/09/including-front-end-web-components-into-microservices/*](https://technologyconversations.com/2015/08/09/including-front-end-web-components-into-microservices/)

-   **Управление клиентской частью в архитектуре микрослужб**\
    [*http://allegro.tech/2016/03/Managing-Frontend-in-the-microservices-architecture.html*](http://allegro.tech/2016/03/Managing-Frontend-in-the-microservices-architecture.html)


>[!div class="step-by-step"]
[Назад] (microservices-addressability-service-registry.md) [Далее] (resilient-high-availability-microservices.md)
