---
title: "Разработка веб-API и уровня приложений для микрослужб"
description: "Архитектура микрослужб .NET для упакованных в контейнеры приложений .NET | Разработка веб-API и уровня приложений для микрослужб"
keywords: "Docker, микрослужбы, ASP.NET, контейнер"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 12/12/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: c166e0286d0769e24a6361037eb6c4694fb821ae
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/23/2017
---
# <a name="designing-the-microservice-application-layer-and-web-api"></a>Разработка веб-API и уровня приложений для микрослужб

## <a name="using-solid-principles-and-dependency-injection"></a>Принципы SOLID и внедрение зависимости

Принципы SOLID являются важными методами, применяемыми в любом современном и критически важном приложении, например при разработке микрослужб при помощи шаблонов проблемно-ориентированного проектирования (DDD). SOLID — акроним пяти фундаментальных принципов:

-   Принцип единственной обязанности

-   Принцип открытия-закрытия

-   Принцип подстановки Барбары Лисков

-   Принцип разделения интерфейса

-   Принцип инверсии зависимостей

Принципы SOLID в большей степени касаются способа разработки приложения или внутренних слоев микрослужб, а также разделения зависимостей между ними. Они относятся не к домену, а к техническому проектированию приложения. Последний принцип, принцип инверсии зависимостей (DI), позволяет отделить слой инфраструктуры от остальных слоев, что обеспечивает лучшую несвязанную реализацию слоев DDD.

DI является одним из способов реализации принципа инверсии зависимостей. Это методика для обеспечения слабой связи между объектами и их зависимостями. Вместо того, чтобы напрямую создавать экземпляры участников совместной работы или использовать статические ссылки, классу предоставляются (или "внедряются" в него) объекты, необходимые ему для выполнения действий. Чаще всего классы объявляют зависимости через свой конструктор, позволяя им следовать принципу явных зависимостей. DI обычно основан на особых контейнерах с инверсией управления (IoC). ASP.NET Core предоставляет простой встроенный контейнер IoC, но можно также использовать любой другой контейнер IoC, такой как Autofac или Ninject.

Соблюдение принципов SOLID поможет сделать ваши классы небольшими, хорошо организованными и удобными в тестировании. Но как вы узнаете о том, что в ваши классы внедрено слишком много зависимостей? При использовании DI через конструктор это будет легко определить, посмотрев на количество параметров конструктора. Большое количество зависимостей обычно указывает ([запахло проблемой](http://deviq.com/code-smells/)) на то, что класс пытается сделать слишком многое и, вероятно, нарушает принцип единственной обязанности.

Для подробного рассмотрения принципов SOLID необходимо отдельное руководство. Поэтому в этом руководстве требуется наличие только минимальных знаний по этой теме.

#### <a name="additional-resources"></a>Дополнительные ресурсы

-   **SOLID: фундаментальные принципы ООП**
    [*http://deviq.com/solid/*](http://deviq.com/solid/%20)

-   **Инверсия контейнеров управления и шаблон внедрения зависимостей**
    [*https://martinfowler.com/articles/injection.html*](https://martinfowler.com/articles/injection.html)

-   **Стив Смит (Steve Smith). Оператор new как клейстер**
    [*http://ardalis.com/new-is-glue*](http://ardalis.com/new-is-glue)


>[!div class="step-by-step"]
[Назад] (nosql-database-persistence-infrastructure.md) [Далее] (microservice-application-layer-implementation-web-api.md)
