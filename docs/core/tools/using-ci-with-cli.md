---
title: "Использование пакета SDK и инструментов .NET Core при непрерывной интеграции (CI) | Microsoft Docs"
description: "Использование пакета SDK и средств .NET Core при непрерывной интеграции (CI)"
keywords: .NET, .NET Core
author: blackdwarf
ms.author: mairaw
ms.date: 06/20/2016
ms.topic: article
ms.prod: .net-core
ms.technology: dotnet-cli
ms.devlang: dotnet
ms.assetid: 5fb15297-a276-417f-8c4f-267281357769
translationtype: Human Translation
ms.sourcegitcommit: 2ad428dcda9ef213a8487c35a48b33929259abba
ms.openlocfilehash: dc68271dcca6a64bbcbeb487050e809fae40c8aa

---

# <a name="using-net-core-sdk-and-tools-in-continuous-integration-ci"></a>Использование пакета SDK и средств .NET Core при непрерывной интеграции (CI)

> [!WARNING]
> Эта статья применима к инструментам .NET Core (предварительная версия 2). Информацию об инструментах .NET Core (предварительная версия 4) для версии-кандидата Visual Studio 2017 см. в статье [Использование пакета SDK и инструментов .NET Core при непрерывной интеграции (CI) (предварительная версия 4)](../preview3/tools/using-ci-with-cli.md).

## <a name="overview"></a>Обзор
В этой статье описывается использование пакета SDK для .NET Core и входящих в него средств на сервере сборки. Как правило, на сервере сборки CI требуется автоматизировать установку каким-либо образом. В идеале для автоматизации, если она возможна, не должны требоваться права администратора. 

При использовании решений SaaS для непрерывной интеграции существует ряд вариантов. В этом разделе рассматриваются два из наиболее популярных: [TravisCI](https://travis-ci.org/) и [AppVeyor](https://www.appveyor.com/). Есть, конечно, много других служб, но механизмы установки и использования будут очень похожими.

## <a name="installation-options-for-ci-build-servers"></a>Варианты установки для серверов сборки CI

## <a name="using-the-native-installers"></a>Использование собственных установщиков
Если использование установщиков, требующих прав администратора, не вызовет проблем, для настройки сервера сборки можно применять собственные установщики для каждой платформы. Такой подход, особенно в случае с серверами сборки Linux, имеет одно преимущество, которое заключается в автоматической установке зависимостей, необходимых для работы пакета SDK. Собственные установщики также устанавливают версию пакета SDK для всей системы, которая может оказаться необходимой. Если нет, можно [использовать скрипт установки](#using-the-installer-script), о котором рассказывается ниже. 

Этот подход прост. В случае с Linux можно выбрать диспетчер пакетов на основе каналов, например `apt-get` для Ubuntu или `yum` для CentOS, или использовать сами пакеты (то есть DEB или RPM). В первом случае потребуется настроить канал, содержащий пакеты.

Для платформ Windows можно использовать MSI. 

Все двоичные файлы можно найти на [странице, посвященной началу работы с .NET Core](https://aka.ms/dotnetcoregs), на которой имеются ссылки на последние стабильные выпуски. Чтобы использовать более новые или самые последние (возможно, нестабильные) выпуски, воспользуйтесь ссылками в [репозитории CLI](https://github.com/dotnet/cli). 

## <a name="using-the-installer-script"></a>Использование скрипта установки
Скрипт установки позволяет выполнять установку на сервере сборки без прав администратора. Кроме того, с его помощью очень легко обеспечить автоматизацию. Скрипт самостоятельно скачивает необходимые файлы ZIP или TAR и распаковывает их. Он также добавляет расположение установки на локальном компьютере в переменную PATH, благодаря чему средства становятся доступными для вызова сразу после установки. 

Работу скрипта установки можно легко автоматизировать в начале процесса сборки с целью получения и установки требуемой версии пакета SDK. "Требуемая версия" — это версия, необходимая приложению, сборка которого выполняется. Вы можете выбрать путь установки для локальной установки пакета SDK, а затем выполнить очистку после завершения сборки. Это обеспечивают дополнительную инкапсуляцию и атомарность процесса сборки. 

Ссылку на скрипт установки можно найти в документе по команде [dotnet-install](dotnet-install-script.md). 

### <a name="dealing-with-the-dependencies"></a>Работа с зависимостями
При использовании скрипта установки собственные зависимости не устанавливаются автоматически. Их необходимо установить вручную, если их еще нет в целевой операционной системе. Список предварительных требований см. в [репозитории CLI](https://github.com/dotnet/core/blob/master/Documentation/prereqs.md). 

## <a name="ci-services-setup-examples"></a>Примеры установки с помощью служб CI
В следующих разделах приведены примеры настройки при использовании упомянутых решений SaaS для непрерывной интеграции. 

### <a name="travisci"></a>TravisCI

Средство [travis-ci](https://travis-ci.org/) можно настроить для установки пакета SDK для .NET Core с помощью языка `csharp` и ключа `dotnet`.

Просто используйте следующую команду:

```yaml
dotnet: 1.0.0-preview2-003121
```

Travis может выполнять как задание `osx` (OS X 10.11), так и задание `linux` (Ubuntu 14.04) в матрице сборки. Дополнительные сведения см. в [примере .travis.yml](https://github.com/dotnet/docs/blob/master/.travis.yml).

### <a name="appveyor"></a>AppVeyor

Средство [appveyor.com ci](https://www.appveyor.com/) уже имеет предварительную версию 2 пакета SDK для .NET Core, установленную в рабочем образе сборки `Visual Studio 2015`.

Просто используйте следующую команду:

```yaml
os: Visual Studio 2015
```

Есть возможность установить определенную версию пакета SDK для .NET Core. Дополнительные сведения см. в [примере appveyor.yml](https://github.com/dotnet/docs/blob/master/appveyor.yml). 

В этом примере двоичные файлы пакета SDK для .NET Core скачиваются, распаковываются в подкаталог и добавляются в переменную среды `PATH`.

Можно добавить матрицу сборки для выполнения тестов интеграции с разными версиями пакета SDK для .NET Core.

```yaml
environment:
  matrix:
    - CLI_VERSION: 1.0.0-preview2-003121
    - CLI_VERSION: Latest

install:
  # .NET Core SDK binaries
  - ps: $url = "https://dotnetcli.blob.core.windows.net/dotnet/preview/Binaries/$($env:CLI_VERSION)/dotnet-dev-win-x64.$($env:CLI_VERSION.ToLower()).zip"
  # follow normal installation from binaries
```




<!--HONumber=Jan17_HO3-->


