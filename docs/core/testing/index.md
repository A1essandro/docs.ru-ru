---
title: Модульное тестирование в .NET Core
description: Выполнять модульное тестирование стало как никогда просто. Узнайте, как использовать модульное тестирование в проектах .NET Core и .NET Standard.
author: ardalis
ms.author: wiwagn
ms.date: 08/30/2017
ms.openlocfilehash: 5b54e7936fb19a94fad9585c00904ae67a59e064
ms.sourcegitcommit: d88024e6d6d8b242feae5f4007a709379355aa24
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2018
ms.locfileid: "49314868"
---
# <a name="unit-testing-in-net-core-and-net-standard"></a><span data-ttu-id="c9d92-104">Модульное тестирование в .NET Core и .NET Standard</span><span class="sxs-lookup"><span data-stu-id="c9d92-104">Unit testing in .NET Core and .NET Standard</span></span>

<span data-ttu-id="c9d92-105">При разработке платформы .NET Core учитывались возможности тестирования, поэтому создавать модульные тесты для приложений стало еще проще.</span><span class="sxs-lookup"><span data-stu-id="c9d92-105">.NET Core has been designed with testability in mind, so that creating unit tests for your applications is easier than ever before.</span></span> <span data-ttu-id="c9d92-106">В этой статье вкратце рассматриваются модульные тесты (и то, чем они отличаются от других типов тестов).</span><span class="sxs-lookup"><span data-stu-id="c9d92-106">This article briefly introduces unit tests (and how they differ from other kinds of tests).</span></span> <span data-ttu-id="c9d92-107">В связанных ресурсах демонстрируется, как добавить тестовый проект в решение и как затем выполнять модульные тесты с помощью командной строки или Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c9d92-107">Linked resources demonstrate how to add a test project to your solution and then run unit tests using either the command line or Visual Studio.</span></span>

<span data-ttu-id="c9d92-108">.NET Core 2.0 поддерживает [.NET Standard 2.0](../../standard/net-standard.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-108">.NET Core 2.0 supports [.NET Standard 2.0](../../standard/net-standard.md).</span></span> <span data-ttu-id="c9d92-109">Библиотеки, используемые для демонстрации модульного тестирования в этом разделе, зависят от .NET Standard и будут работать с другими типами проектов.</span><span class="sxs-lookup"><span data-stu-id="c9d92-109">The libraries used to demonstrate unit testing in this section rely on .NET Standard and will work in other project types as well.</span></span>

<span data-ttu-id="c9d92-110">Начиная с .NET Core 2.0 доступны шаблоны проекта модульных тестов для C#, F# и Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="c9d92-110">Beginning with .NET Core 2.0, there are unit test project templates for C#, F# and Visual Basic.</span></span>

## <a name="getting-started-with-testing"></a><span data-ttu-id="c9d92-111">Приступая к тестированию</span><span class="sxs-lookup"><span data-stu-id="c9d92-111">Getting started with testing</span></span>

<span data-ttu-id="c9d92-112">Наличие набора автоматических тестов — один из лучших способов обеспечить работу приложения именно так, как она задумывалась разработчиками.</span><span class="sxs-lookup"><span data-stu-id="c9d92-112">Having a suite of automated tests is one of the best ways to ensure a software application does what its authors intended it to do.</span></span> <span data-ttu-id="c9d92-113">Доступны разные типы тестов для приложений, включая тесты интеграции, веб-тесты, нагрузочные тесты и т. д.</span><span class="sxs-lookup"><span data-stu-id="c9d92-113">There are different kinds of tests for software applications, including integration tests, web tests, load tests, and others.</span></span> <span data-ttu-id="c9d92-114">На самом низком уровне применяются модульные тесты, которые проверяют отдельные компоненты или методы программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="c9d92-114">Unit tests that test individual software components or methods are the lowest level tests.</span></span> <span data-ttu-id="c9d92-115">Модульные тесты должны применяться только к коду, находящемуся под контролем разработчика, но не к компонентам инфраструктуры, таким как базы данных, файловые системы или сетевые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="c9d92-115">Unit tests should only test code within the developer’s control, and should not test infrastructure concerns, like databases, file systems, or network resources.</span></span> <span data-ttu-id="c9d92-116">Модульные тесты можно создавать в рамках [разработки на основе тестирования (TDD)](https://deviq.com/test-driven-development/) или добавлять в существующий код для проверки его правильности.</span><span class="sxs-lookup"><span data-stu-id="c9d92-116">Unit tests may be written using [Test Driven Development (TDD)](https://deviq.com/test-driven-development/), or they can be added to existing code to confirm its correctness.</span></span> <span data-ttu-id="c9d92-117">В любом случае они должны быть небольшими, иметь понятные имена и выполняться быстро, так как в идеале у вас должна быть возможность выполнить сотни таких тестов перед публикацией изменений в репозитории общего кода проекта.</span><span class="sxs-lookup"><span data-stu-id="c9d92-117">In either case, they should be small, well-named, and fast, since ideally you want to be able to run hundreds of them before pushing your changes into the project’s shared code repository.</span></span>

> [!NOTE]
> <span data-ttu-id="c9d92-118">У разработчиков часто возникают проблемы с тем, чтобы придумать подходящие имена для тестовых классов и методов.</span><span class="sxs-lookup"><span data-stu-id="c9d92-118">Developers often struggle with coming up with good names for their test classes and methods.</span></span> <span data-ttu-id="c9d92-119">В качестве отправной точки команда разработчиков ASP.NET следует [этим соглашениям](https://github.com/aspnet/Home/wiki/Engineering-guidelines#unit-tests-and-functional-tests).</span><span class="sxs-lookup"><span data-stu-id="c9d92-119">As a starting point, the ASP.NET product team follows [these conventions](https://github.com/aspnet/Home/wiki/Engineering-guidelines#unit-tests-and-functional-tests).</span></span>

<span data-ttu-id="c9d92-120">При создании модульных тестов будьте внимательны, чтобы случайно не добавить зависимости от инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="c9d92-120">When writing unit tests, be careful you don’t accidentally introduce dependencies on infrastructure.</span></span> <span data-ttu-id="c9d92-121">Из-за них тесты, как правило, выполняются медленнее и менее стабильно и их следует зарезервировать для тестов интеграции.</span><span class="sxs-lookup"><span data-stu-id="c9d92-121">These tend to make tests slower and more brittle, and thus should be reserved for integration tests.</span></span> <span data-ttu-id="c9d92-122">Чтобы избежать скрытых зависимостей в коде приложения, следуйте [принципу явных зависимостей](https://deviq.com/explicit-dependencies-principle/) и используйте [внедрение зависимостей](/aspnet/core/fundamentals/dependency-injection) для запроса зависимостей из платформы.</span><span class="sxs-lookup"><span data-stu-id="c9d92-122">You can avoid these hidden dependencies in your application code by following the [Explicit Dependencies Principle](https://deviq.com/explicit-dependencies-principle/) and using [Dependency Injection](/aspnet/core/fundamentals/dependency-injection) to request your dependencies from the framework.</span></span> <span data-ttu-id="c9d92-123">Кроме того, можно выделить модульные тесты в отдельный проект, изолировав их от тестов интеграции, чтобы гарантировать отсутствие в этом проекте ссылок на пакеты инфраструктуры или зависимостей от них.</span><span class="sxs-lookup"><span data-stu-id="c9d92-123">You can also keep your unit tests in a separate project from your integration tests and ensure your unit test project doesn’t have references to or dependencies on infrastructure packages.</span></span>

<span data-ttu-id="c9d92-124">Дополнительные сведения о модульном тестировании в проектах .NET Core:</span><span class="sxs-lookup"><span data-stu-id="c9d92-124">Learn more about unit testing in .NET Core projects:</span></span>

<span data-ttu-id="c9d92-125">Поддержка проектов модульных тестов для .NET Core: [C#](../../csharp/index.md), [F#](../../fsharp/index.md) и [Visual Basic](../../visual-basic/index.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-125">Unit test projects for .NET Core are supported for [C#](../../csharp/index.md), [F#](../../fsharp/index.md) and [Visual Basic](../../visual-basic/index.md).</span></span> <span data-ttu-id="c9d92-126">Вы можете также выбрать [xUnit](https://xunit.github.io), [NUnit](https://nunit.org) или [MSTest](https://github.com/Microsoft/vstest-docs).</span><span class="sxs-lookup"><span data-stu-id="c9d92-126">You can also choose between [xUnit](https://xunit.github.io), [NUnit](https://nunit.org) and [MSTest](https://github.com/Microsoft/vstest-docs).</span></span>

<span data-ttu-id="c9d92-127">Дополнительные сведения об этих комбинациях см. в этих пошаговых руководствах:</span><span class="sxs-lookup"><span data-stu-id="c9d92-127">You can read about those combinations in these walkthroughs:</span></span>

* <span data-ttu-id="c9d92-128">Создание модульных тестов с помощью [*xUnit*, *C#* и .NET Core CLI](unit-testing-with-dotnet-test.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-128">Create unit tests using [*xUnit* and *C#* with the .NET Core CLI](unit-testing-with-dotnet-test.md).</span></span>
* <span data-ttu-id="c9d92-129">Создание модульных тестов с помощью [*NUnit*, *C#* и интерфейса командной строки .NET Core](unit-testing-with-nunit.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-129">Create unit tests using [*NUnit* and *C#* with the .NET Core CLI](unit-testing-with-nunit.md).</span></span>
* <span data-ttu-id="c9d92-130">Создание модульных тестов с помощью [*MSTest*, *C#* и .NET Core CLI](unit-testing-with-mstest.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-130">Create unit tests using [*MSTest* and *C#* with the .NET Core CLI](unit-testing-with-mstest.md).</span></span>
* <span data-ttu-id="c9d92-131">Создание модульных тестов с помощью [*xUnit*, *F#* и .NET Core CLI](unit-testing-fsharp-with-dotnet-test.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-131">Create unit tests using [*xUnit* and *F#* with the .NET Core CLI](unit-testing-fsharp-with-dotnet-test.md).</span></span>
* <span data-ttu-id="c9d92-132">Создание модульных тестов с помощью [*NUnit*, *F#* и интерфейса командной строки .NET Core](unit-testing-fsharp-with-nunit.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-132">Create unit tests using [*NUnit* and *F#* with the .NET Core CLI](unit-testing-fsharp-with-nunit.md).</span></span>
* <span data-ttu-id="c9d92-133">Создание модульных тестов с помощью [*MSTest*, *F#* и .NET Core CLI](unit-testing-fsharp-with-mstest.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-133">Create unit tests using [*MSTest* and *F#* with the .NET Core CLI](unit-testing-fsharp-with-mstest.md).</span></span>
* <span data-ttu-id="c9d92-134">Создание модульных тестов с помощью [*xUnit*, *Visual Basic* и .NET Core CLI](unit-testing-visual-basic-with-dotnet-test.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-134">Create unit tests using [*xUnit* and *Visual Basic* with the .NET Core CLI](unit-testing-visual-basic-with-dotnet-test.md).</span></span>
* <span data-ttu-id="c9d92-135">Создание модульных тестов с помощью [*NUnit*, *Visual Basic* и интерфейса командной строки .NET Core](unit-testing-visual-basic-with-nunit.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-135">Create unit tests using [*NUnit* and *Visual Basic* with the .NET Core CLI](unit-testing-visual-basic-with-nunit.md).</span></span>
* <span data-ttu-id="c9d92-136">Создание модульных тестов с помощью [*MSTest*, *Visual Basic* и .NET Core CLI](unit-testing-visual-basic-with-mstest.md).</span><span class="sxs-lookup"><span data-stu-id="c9d92-136">Create unit tests using [*MSTest* and *Visual Basic* with the .NET Core CLI](unit-testing-visual-basic-with-mstest.md).</span></span>

<span data-ttu-id="c9d92-137">Вы можете выбрать разные языки для библиотек классов и модульных тестов.</span><span class="sxs-lookup"><span data-stu-id="c9d92-137">You can choose different languages for your class libraries and your unit test libraries.</span></span> <span data-ttu-id="c9d92-138">Дополнительные сведения см. в пошаговых руководствах выше (вы можете комбинировать их).</span><span class="sxs-lookup"><span data-stu-id="c9d92-138">You can learn how by mixing and matching the walkthroughs referenced above.</span></span>

* <span data-ttu-id="c9d92-139">Visual Studio Enterprise предлагает отличные средства тестирования для .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c9d92-139">Visual Studio Enterprise offers great testing tools for .NET Core.</span></span> <span data-ttu-id="c9d92-140">Дополнительные сведения: [Live Unit Testing](/visualstudio/test/live-unit-testing) и [Code Coverage](https://github.com/Microsoft/vstest-docs/blob/master/docs/analyze.md#working-with-code-coverage).</span><span class="sxs-lookup"><span data-stu-id="c9d92-140">Check out [Live Unit Testing](/visualstudio/test/live-unit-testing) or [code coverage](https://github.com/Microsoft/vstest-docs/blob/master/docs/analyze.md#working-with-code-coverage) to learn more.</span></span>
* <span data-ttu-id="c9d92-141">Дополнительные сведения и примеры использования фильтрации при выборочном модульном тестировании см. в руководстве по [выполнению выборочных модульных тестов](selective-unit-tests.md) и [включению и исключению тестов с помощью Visual Studio](/visualstudio/test/live-unit-testing#include-and-exclude-test-projects-and-test-methods).</span><span class="sxs-lookup"><span data-stu-id="c9d92-141">For additional information and examples on how to use selective unit test filtering, see [Running selective unit tests](selective-unit-tests.md), or [including and excluding tests with Visual Studio](/visualstudio/test/live-unit-testing#include-and-exclude-test-projects-and-test-methods).</span></span>
* <span data-ttu-id="c9d92-142">Команда разработчиков xUnit написала учебник, в котором показано ,как [использовать xUnit с помощью .NET Core и Visual Studio](https://xunit.github.io/docs/getting-started-dotnet-core.html).</span><span class="sxs-lookup"><span data-stu-id="c9d92-142">The xUnit team has written a tutorial that shows [how to use xUnit with .NET Core and Visual Studio](https://xunit.github.io/docs/getting-started-dotnet-core.html).</span></span>
