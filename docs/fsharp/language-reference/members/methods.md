---
title: "Методы (F#)"
description: "Узнайте, как метод F # — это функция, связанная с типом, которые используются для предоставления и реализации поведения объектов и типов."
keywords: "visual f#, f#, функциональное программирование"
author: cartermp
ms.author: phcart
ms.date: 05/16/2016
ms.topic: language-reference
ms.prod: .net
ms.technology: devlang-fsharp
ms.devlang: fsharp
ms.assetid: 1febab3b-c922-49c6-889f-c22db107710c
ms.openlocfilehash: dae31abe6bb0773671b889646c9cceb410a492cd
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="methods"></a>Методы

Объект *метод* — функция, которая связана с типом. В объектно ориентированном программировании методы используются для предоставления и реализации поведения объектов и типов.


## <a name="syntax"></a>Синтаксис

```fsharp
// Instance method definition.
[ attributes ]
member [inline] self-identifier.method-nameparameter-list [ : return-type ]=
    method-body

// Static method definition.
[ attributes ]
static member [inline] method-nameparameter-list [ : return-type ]=
    method-body

// Abstract method declaration or virtual dispatch slot.
[ attributes ]
abstract member self-identifier.method-name : type-signature

// Virtual method declaration and default implementation.
[ attributes ]
abstract member [inline] self-identifier.method-name : type-signature
[ attributes ]
default member [inline] self-identifier.method-nameparameter-list[ : return-type ] =
    method-body

// Override of inherited virtual method.
[ attributes ]
override member [inline] self-identifier.method-nameparameter-list [ : return-type ]=
    method-body

// Optional and DefaultParameterValue attributes on input parameters
[ attributes ]
[ modifier ] member [inline] self-identifier.method-name ([<Optional; DefaultParameterValue([ default-value ])>] input) [ : return-type ]
```

## <a name="remarks"></a>Примечания
В предыдущем синтаксисе можно просмотреть различные виды объявления и определения методов. В телах длинных методов разрыв строки после знака равенства (=) и все тело метода с отступом.

Атрибуты могут применяться к любому объявлению метода. Они предшествовать синтаксис для определения метода и обычно отображается на отдельной строке. Дополнительные сведения см. в разделе [Атрибуты](../attributes.md).

Методы могут быть отмечены атрибутом `inline`. Сведения о `inline` см. в статье [Встраиваемые функции](../functions/inline-functions.md).

Не встроенные методы можно рекурсивно использовать внутри этого типа; Нет необходимости явно использовать `rec` ключевое слово.


## <a name="instance-methods"></a>Методы экземпляра
Методы экземпляра должны быть объявлены с `member` ключевое слово и *собственный идентификатор*, за которым следует точка (.) и имя метода и параметров. Как в случае `let` привязок, *список параметров* может быть шаблоном. Как правило метода заключаются следования параметров в скобки в форме кортежа, который является образом методы в языке F # при их создании в других языках .NET Framework. Тем не менее каррированные (параметры, разделенные пробелами) также являются общими, а также поддерживаются другие шаблоны.

Следующий пример иллюстрирует определение и использование неабстрактного экземпляра метода.

[!code-fsharp[Main](../../../../samples/snippets/fsharp/lang-ref-1/snippet3401.fs)]

В методах экземпляра не следует использовать собственный идентификатор для доступа к полям, определенные с помощью привязки let. Используйте собственный идентификатор при обращении к другим членам и свойствам.


## <a name="static-methods"></a>Статические методы
Ключевое слово `static` используется для указания, что метод может вызываться без экземпляра и не связан с экземпляром объекта. В противном случае методы являются методами экземпляра.

В примере в следующем разделе показаны поля, объявленные с `let` ключевое слово, свойства, объявленные с `member` ключевое слово и статический метод, объявленный с `static` ключевое слово.

Следующий пример иллюстрирует определение и использование статических методов. Предполагается, что определения этих методов находятся в `SomeType` класса в предыдущем разделе.

[!code-fsharp[Main](../../../../samples/snippets/fsharp/lang-ref-1/snippet3402.fs)]

## <a name="abstract-and-virtual-methods"></a>Абстрактные и виртуальные методы
Ключевое слово `abstract` указывает, что метод имеет виртуальная ячейка отправки и не может иметь определение класса. Объект *виртуальная ячейка отправки* — вызывает запись во внутренней таблице функций, используемый во время выполнения для поиска виртуальных функций в объектно ориентированном типе. Механизм виртуальной отправки — это механизм, реализующий *полиморфизм*, важная особенность объектно ориентированного программирования. Является классом, имеющим по крайней мере один абстрактный метод без определения *абстрактного класса*, что означает, что экземпляры не могут создаваться этого класса. Дополнительные сведения об абстрактных классах см. в разделе [абстрактные классы](../abstract-classes.md).

Объявления абстрактных методов не содержат тела метода. Вместо этого имя метода следуют двоеточие (:) и сигнатура типа метода. Сигнатура типа метода является таким же, как отображается при наведении указателя мыши на имени метода в редакторе кода Visual Studio, за исключением без имена параметров IntelliSense. Сигнатуры типов также отображаются интерпретатором fsi.exe, при работе в интерактивном режиме. Сигнатура типов метода образуется перечислением типов параметров и возвращаемого типа, с соответствующими символами-разделителями. Каррированные параметры разделяются `->` и кортеж параметров разделяются `*`. Возвращаемое значение всегда отделяется от аргументов по `->` символов. Можно использовать круглые скобки для группирования сложных параметров, например, если тип функции параметра, или указать, когда кортеж рассматривается как один параметр, а не как два параметра.

Вы может также давать абстрактные методы определения по умолчанию, добавляя определение в класс с использованием `default` ключевое слово, как показано в приведенном в этом разделе. Абстрактный метод, который определен в том же классе эквивалентно виртуальный метод в других языках .NET Framework. Существует ли определение, `abstract` ключевое слово создает новую ячейку отправки в таблице виртуальных функций для класса.

Независимо от того, реализует ли базовый класс свои абстрактные методы производные классы могут предоставлять реализации абстрактных методов. Чтобы реализовать абстрактный метод в производном классе, определить метод с тем же именем и подписью в производном классе, за исключением случаев использования `override` или `default` ключевое слово и записать тело метода. Ключевые слова `override` и `default` означает то же. Используйте `override` используйте, если новый метод переопределяет реализацию базового класса; `default` при создании реализации в том же классе, как абстрактный исходного объявления. Не используйте `abstract` ключевое слово на метод, который реализует метод, объявленный в базовом классе как абстрактный.

Следующий пример иллюстрирует абстрактный метод `Rotate` , имеет реализацию по умолчанию, равное виртуальный метод .NET Framework.

[!code-fsharp[Main](../../../../samples/snippets/fsharp/lang-ref-1/snippet3403.fs)]

В следующем примере производный класс, который переопределяет метод базового класса. В этом случае переопределение изменяет поведение, чтобы метод не выполняет никаких действий.

[!code-fsharp[Main](../../../../samples/snippets/fsharp/lang-ref-1/snippet3404.fs)]

## <a name="overloaded-methods"></a>Перегруженные методы
Перегруженные методы являются методами для данного типа, имеющие одинаковые имена, но разные аргументы. В языке F # вместо перегруженных методов обычно используются необязательные аргументы. Тем не менее перегруженные методы разрешено на языке, если аргументы являются в форме кортежа не каррированные.

## <a name="optional-arguments"></a>Необязательные аргументы

Начиная с версии 4.1 F #, вы также можете необязательные аргументы со значением параметра по умолчанию в методы.  Это позволяет упростить взаимодействие с кодом C#.  В следующем примере демонстрируется синтаксис:

```fsharp
// A class with a method M, which takes in an optional integer argument.
type C() =
    __.M([<Optional; DefaultParameterValue(12)>] i) = i + 1
```

Обратите внимание, что значение, переданное в для `DefaultParameterValue` должны совпадать тип входных данных.  В приведенном выше примере это `int`.  Попытка передать нецелое значение в `DefaultParameterValue` приведет к возникновению ошибки компиляции.

## <a name="example-properties-and-methods"></a>Пример: Свойства и методы
Следующий пример содержит тип с примерами полей, закрытых функций, свойств и статический метод.

[!code-fsharp[Main](../../../../samples/snippets/fsharp/lang-ref-1/snippet3406.fs)]

## <a name="see-also"></a>См. также
[Члены](index.md)
