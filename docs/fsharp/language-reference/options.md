---
title: Параметры (F#)
description: 'Сведения об использовании языка F # параметр типа, когда фактическое значение может не существовать для именованного значения или переменной.'
ms.date: 05/16/2016
ms.openlocfilehash: c813c377af1db758a40efa2bd73de22cbb4c66f5
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33566263"
---
# <a name="options"></a>Параметры

Тип параметра в языке F # используется, если фактическое значение может не существовать для именованного значения или переменной. Этот вариант имеет базовый тип и может иметь значение этого типа, или он не может иметь значение.

## <a name="remarks"></a>Примечания
Ниже показан пример функции, которая приводит к возникновению ошибки тип параметра.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1404.fs)]

Как видите, если входные данные `a` больше, чем 0, `Some(a)` создается.  В противном случае `None` создается.

Значение `None` используется, если параметр не имеет фактического значения. В противном случае выражение `Some( ... )` присваивает значение параметра. Значения `Some` и `None` полезны в сопоставлении шаблонов, как показано в следующей функции `exists`, который возвращает `true` Если параметр имеет значение и `false` Если это не так.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1401.fs)]

## <a name="using-options"></a>С помощью параметров
Параметры обычно используются при поиске не возвращает соответствующий результат, как показано в следующем коде.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1403.fs)]

В приведенном выше коде список — рекурсивный поиск. Функция `tryFindMatch` использует функцию предиката `pred` , возвращающего логическое значение, а также список для поиска. Если элемент, удовлетворяющий предикату, найден, рекурсия прекращается и функция возвращает значение в виде параметра в выражении `Some(head)`. Рекурсия завершается, если сопоставлен пустой список. На этом этапе значение `head` не найден, и `None` возвращается.

Многие функции библиотеки F #, которые поиска в коллекции для значения, которое может существовать или не существовать, возвращают `option` типа. По соглашению, эти функции начинаются с `try` префикса, например, [ `Seq.tryFindIndex` ](https://msdn.microsoft.com/library/c357b221-edf6-4f68-bf40-82a3156d945a).

Параметры также можно использовать, если значение может не существовать, например, если это возможно, что при попытке получить значение будет создано исключение. Это показано в следующем примере кода.

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-1/snippet1402.fs)]

`openFile` Функция в предыдущем примере имеет тип `string -> File option` , так как он возвращает `File` объекта, если файл открыт успешно и `None` при возникновении исключения. В зависимости от ситуации может оказаться подходящую структуру может перехватывать исключения, а не разрешения его распространения.


## <a name="option-properties-and-methods"></a>Параметр свойства и методы
Тип параметра поддерживает следующие свойства и методы.



|Свойство или метод|Тип|Описание|
|------------------|----|-----------|
|[None](https://msdn.microsoft.com/library/83ef260a-aa33-4e6f-aee6-b9bf0a461476)|`'T option`|Статическое свойство, которое позволяет создавать значение параметра, который имеет `None` значение.|
|[IsNone](https://msdn.microsoft.com/library/f08532ca-1716-4f60-ae59-8ef6256df234)|`bool`|Возвращает `true` Если параметр имеет `None` значение.|
|[IsSome](https://msdn.microsoft.com/library/c5088d51-c5d7-425f-a77f-12c379bb356f)|`bool`|Возвращает `true` Если параметр имеет значение, которое не является `None`.|
|[Некоторые](https://msdn.microsoft.com/library/12f048d2-e293-4596-accb-de036ecd63fc)|`'T option`|Статический член, создающий параметр, который имеет значение, которое не является `None`.|
|[Значение](https://msdn.microsoft.com/library/c79f68e8-11fd-45b1-a053-e8fc38b56df7)|`'T`|Возвращает базовое значение или создает `System.NullReferenceException` Если значение равно `None`.|

## <a name="option-module"></a>Option-модуль
Модуль, [параметр](https://msdn.microsoft.com/library/e615e4d3-bbbb-49ba-addc-6061ea2e2f4c), содержащий полезные функции, позволяющие выполнять операции с параметрами. Некоторые функции повторяют функциональные возможности свойств, но полезны в контекстах, где требуется функция. [Option.isSome](https://msdn.microsoft.com/library/41ad0857-5672-4326-84b5-c33dc43dcf79) и [Option.isNone](https://msdn.microsoft.com/library/73db6a53-15e7-40a6-94f9-a0049e5f4819) обеих функций модуля, проверить ли параметр содержит значение. [Option.Get](https://msdn.microsoft.com/library/803e9fcb-6edd-4910-808c-25f08cbc55ea) получает значение, если таковой имеется. Если значение отсутствует, он выдает `System.ArgumentException`.

[Option.bind](https://msdn.microsoft.com/library/c3406192-24ac-49b5-bc3b-8f805187f1c0) функция выполняет функцию для значения, если значение. Функция должна принимать ровно один аргумент, а его тип параметра должен быть типа параметра. Возвращаемое значение функции — еще один тип параметра.

Модуль option также содержит функции, соответствующие функции, которые доступны для списков, массивов, последовательностей и других типов коллекций. Эти функции включают [ `Option.map` ](https://msdn.microsoft.com/library/91a20385-7e73-40c2-9adc-635e86d6a622), [ `Option.iter` ](https://msdn.microsoft.com/library/83389eef-3dff-4074-b4cc-f69581c25191), [ `Option.forall` ](https://msdn.microsoft.com/library/ba884586-5eae-49c5-9e36-05481c1c3428), [ `Option.exists` ](https://msdn.microsoft.com/library/a606d2d4-fddc-4eab-ab37-c6138fb7ad99), [ `Option.foldBack` ](https://msdn.microsoft.com/library/a882fbaf-c019-46f0-b4f5-b8c2b8b90ffb), [ `Option.fold` ](https://msdn.microsoft.com/library/af896794-3d53-406c-9411-316cd5c33ad8), и [ `Option.count` ](https://msdn.microsoft.com/library/2dac83a9-684e-4d0f-b50e-ff722a8bb876). Эти функции включают параметры для использования как коллекция элементов или один элемент. Дополнительные сведения и примеры см. в обсуждении коллекции функций в [перечислены](lists.md).


## <a name="converting-to-other-types"></a>Преобразования в другие типы
Параметры можно преобразовать в списки или массивы. Если параметр преобразуется в один из этих структур данных, получающаяся структура данных имеет ноль или один элемент. Чтобы преобразовать параметр в массив, используйте [ `Option.toArray` ](https://msdn.microsoft.com/library/c8044873-ba17-4b52-8231-eb1a28318c64). Чтобы преобразовать параметр в список, используйте [ `Option.toList` ](https://msdn.microsoft.com/library/5f1af295-9fa9-40ad-b4a1-3578d94d44e1).


## <a name="see-also"></a>См. также
[Справочник по языку F#](index.md)

[Типы языка F#](fsharp-types.md)
