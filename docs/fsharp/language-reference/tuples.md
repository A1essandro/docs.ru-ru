---
title: Кортежи (F#)
description: 'Дополнительные сведения о кортежа, группирование неименованных, но упорядоченных значений, возможно различных типов F #.'
ms.date: 05/16/2016
ms.openlocfilehash: d017a2ce8a6ad9b3cec8dfa2ee15b47f06d8f67c
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33564803"
---
# <a name="tuples"></a>Кортежи

Объект *кортежа* — это группа неименованных, но упорядоченных значений, возможно различных типов.  Кортежей может быть ссылочными типами или структуры.

## <a name="syntax"></a>Синтаксис

```fsharp
(element, ... , element)
struct(element, ... ,element )
```
## <a name="remarks"></a>Примечания
Каждый *элемент* в предыдущем синтаксисе может быть любое допустимое выражение F #.

## <a name="examples"></a>Примеры
Примерами кортежей являются пары, тройки и т. д., из одной или разных типов. В следующем коде показаны некоторые примеры.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L6-L21)]
    
## <a name="obtaining-individual-values"></a>Получение отдельных значений
Можно использовать сопоставление шаблонов для доступа и присвоения имен элементов кортежа, как показано в следующем коде.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L27-L29)]

Можно также деконструирования кортеж через сопоставление шаблонов за пределами `match` выражение через `let` привязки:

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L34-L37)]

Или можно шаблонов сопоставления кортежи в качестве входных данных для функции:

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L43-L47)]

Если вам требуется только один элемент кортежа, чтобы избежать создания новое имя для значения, которое не обязательно используется подстановочный знак (символ подчеркивания).

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L53-L54)]

Копирование элементов кортежа ссылку на кортеж структуры также довольно простой.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L62-L66)]

Функции `fst` и `snd` (ссылаться только кортежей) возвращают первый и второй элементы кортежа, соответственно.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L72-L73)]

Встроенные функции, возвращающей третий элемент тройки не существует, но можно легко написать следующим образом.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L78-L78)]

Как правило лучше использовать сопоставление шаблонов для доступа к отдельным элементам кортежа.

## <a name="using-tuples"></a>Использование кортежей
Кортежи — удобный способ возвращать несколько значений из функции, как показано в следующем примере. В этом примере выполняется целочисленное деление и возвращает округленный результат операцию, так как первый элемент пары кортежа и остаток в качестве второго элемента пары.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L83-L86)]

Кортежи может также использоваться как аргументы функции, если вы хотите избежать неявного каррирования аргументов функции, что подразумевается обычным синтаксисом функций.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L88-L88)]

Обычный синтаксис определения функции `let sum a b = a + b` позволяет определить функцию, являющуюся частичного применения первого аргумента функции, как показано в следующем коде.

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/basic-examples.fsx#L90-L94)]

Используя в качестве параметра кортеж каррирование. Дополнительные сведения см. «Частичное приложения из аргументы» в [функции](functions/index.md).

## <a name="names-of-tuple-types"></a>Имена типов кортежа
При записи имя типа, который является кортежем, используется `*` символ для разделения элементов. Для кортеж, состоящий из `int`, `float`и `string`, такие как `(10, 10.0, "ten")`, тип будет записан следующим образом.

```fsharp
int * float * string
```

## <a name="interoperation-with-c-tuples"></a>Взаимодействие с C# кортежи

Язык C# 7.0 введены кортежей.  Кортежи в C# являются структурами и эквивалентны кортежей структуры в языке F #.  Если требуется взаимодействие с C#, необходимо использовать структуры кортежей.

Это легко сделать.  Например предположим, что у вас есть передать кортеж класса C# и затем использовать его результат, который также является кортеж:

```csharp
namespace CSharpTupleInterop
{
    public static class Example
    {
        public static (int, int) AddOneToXAndY((int x, int y) a) =>
            (a.x + 1, a.y + 1);
    }
}
```

В коде F # можно передать в качестве параметра кортеж структуры и потреблять результат в виде кортежа структуры.

```fsharp
open TupleInterop

let struct (newX, newY) = Example.AddOneToXAndY(struct (1, 2))
// newX is now 2, and newY is now 3
```

### <a name="converting-between-reference-tuples-and-struct-tuples"></a>Преобразование между ссылку кортежи и кортежи, структура

Поскольку ссылка кортежи и кортежи, структуры имеют совершенно другим представлением, они не могут быть неявно преобразованы.  То есть не скомпилируется следующий код:

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/interop.fsx#L5-L12)]

Необходимо шаблон соответствия одного кортежа и создать другой составных частей.  Пример:

[!code-fsharp[Main](../../../samples/snippets/fsharp/tuples/interop.fsx#L18-L22)]

## <a name="compiled-form-of-reference-tuples"></a>Скомпилированные формы кортежей ссылки
В этом разделе объясняются формы кортежей являетесь скомпилированы.  В приведенной здесь информации не требуется читать, если вы используете .NET Framework 3.5 или ниже.

Кортежи компилируются в объекты одного из нескольких универсальных типов, все именованные `System.Tuple`, которые перегружаются на арность или число параметров типа. Типы кортежей видны в этой форме, при просмотре из другого языка, например C# или Visual Basic, или при использовании средства, не поддерживающего конструкций F #. `Tuple` Типы, которые появились в .NET Framework 4. Если вы используете более ранней версии платформы .NET Framework, компилятор использует версии [System.Tuple](https://msdn.microsoft.com/library/5ac7953d-acdc-4a58-bfb7-c1f6406c0fa3) из версии 2.0 библиотеки ядра F #. Типы из этой библиотеки используются только для приложений, предназначенных для платформы 2.0, 3.0 и 3.5 версий платформы .NET Framework. Перенаправление типа используется для обеспечения совместимости с двоичными данными между компонентами .NET Framework 2.0 и .NET Framework 4 F #.

### <a name="compiled-form-of-struct-tuples"></a>Скомпилированные формы кортежей структуры

Кортежи структуры (например, `struct (x, y)`), существенно отличающуюся от кортежей ссылки.  Они компилируются в <xref:System.ValueTuple> типа, перегружены арность или число параметров типа.  Они эквивалентны [кортежей 7.0 C#](../../csharp/tuples.md) и [кортежей 2017 г. Visual Basic](../../visual-basic/programming-guide/language-features/data-types/tuples.md)и взаимодействовать в обоих направлениях.

## <a name="see-also"></a>См. также
[Справочник по языку F#](index.md)

[Типы языка F#](fsharp-types.md)
