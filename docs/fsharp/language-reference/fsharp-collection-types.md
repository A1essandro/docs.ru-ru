---
title: Типы коллекций F#
description: 'Дополнительные сведения о типы коллекций F # и как они отличаются от типов коллекций в платформе .NET Framework.'
ms.date: 05/16/2016
ms.openlocfilehash: a94dc300d984ca31baf1eb7d1073e23b51ebd030
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="f-collection-types"></a>Типы коллекций F#

Просмотрев в этом разделе, можно определить, какой тип F # коллекции наиболее подходит для определенной задачи. Эти типы коллекций отличаются от типов коллекций в .NET Framework, такие как в `System.Collections.Generic` пространства имен, в том, что с функциональной точки зрения программирования, а не с точки зрения объектно ориентированного предназначены типы коллекций F #. В частности только коллекции массива имеет изменяемых элементов. Таким образом при изменении коллекции, создайте экземпляр измененную коллекцию вместо изменения исходной коллекции.

Типы коллекций также различаются по типу структуры данных, в котором хранятся объекты. Структуры данных, таких как хэш-таблицы, связанные списки и массивы имеют различные характеристики производительности и другой набор доступных операций.


## <a name="f-collection-types"></a>Типы коллекций F#
В следующей таблице показаны типы коллекций F #.



|Тип|Описание|Связанные ссылки|
|----|-----------|-------------|
|[List](https://msdn.microsoft.com/library/c627b668-477b-4409-91ed-06d7f1b3e4a7)|Упорядоченная, неизменная серия элементов того же типа. Реализован в виде связанного списка.|[Списки](lists.md)<br /><br />[Модуль List](https://msdn.microsoft.com/library/a2264ba3-2d45-40dd-9040-4f7aa2ad9788)|
|[Массив](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)|Коллекция фиксированного размера, отсчитываемый от нуля, изменяемых элементов данных, имеющих тот же тип.|[Массивы](arrays.md)<br /><br />[Модуль Array](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)<br /><br />[Модуль Array2D](https://msdn.microsoft.com/library/ae1a9746-7817-4430-bcdb-a79c2411bbd3)<br /><br />[Модуль Array3D](https://msdn.microsoft.com/library/c8355e2d-add8-48a4-8aa6-1c57ae74c560)|
|[SEQ](https://msdn.microsoft.com/library/2f0c87c6-8a0d-4d33-92a6-10d1d037ce75)|Логический ряд элементов, которые имеют один тип. Последовательностей особенно полезны при наличии большой упорядоченной коллекции данных, но не планируется обязательное использование всех элементов. Отдельные последовательность, в которой элементы вычисляются только при необходимости, поэтому последовательности можно выполнить быстрее, чем список, если не используются все элементы. Последовательности представляются `seq<'T>` тип, который является псевдонимом для `IEnumerable<T>`. Таким образом, любой тип .NET Framework, который реализует `System.Collections.Generic.IEnumerable<'T>` может использоваться как последовательность.|[Последовательности](sequences.md)<br /><br />[SEQ-модуль](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684)|
|[карты](https://msdn.microsoft.com/library/975316ea-55e3-4987-9994-90897ad45664)|Неизменяемый словарь элементов. Доступ к элементам по ключу.|[MAP-модуль](https://msdn.microsoft.com/library/bfe61ead-f16c-416f-af98-56dbcbe23e4f)|
|[Set](https://msdn.microsoft.com/library/50cebdce-0cd7-4c5c-8ebc-f3a9e90b38d8)|Неизменяемый набор, основанный на двоичных деревьев, где сравнение представляет функцию структурного сравнения F #, потенциально, который использует реализацию методов `System.IComparable` интерфейса на значения ключа.|[Установка модуля](https://msdn.microsoft.com/library/61efa732-d55d-4c32-993f-628e2f98e6a0)|

### <a name="table-of-functions"></a>Таблица функций
В этом разделе сравниваются функции, доступные на типы коллекций F #. Учитывая сложность вычислений, функции, где N — размер первой коллекции, а M — размер второй коллекции, если таковые имеются. Дефис (-) указывает, что эта функция недоступна в коллекции. Поскольку последовательности вычисляются неактивно, функции, например Seq.distinct возможно O(1) возвращается немедленно, хотя она по-прежнему влияет на производительность при перечислении последовательности.



|Функция|Массив|Список|Sequence|Карта|Задать|Описание|
|--------|-----|----|--------|---|---|-----------|
|append|O(M)|O(N)|O(N)|-|-|Возвращает новую коллекцию, которая содержит элементы первой коллекции следуют элементы из второй коллекции.|
|add|-|-|-|O (log N)|O (log N)|Возвращает новую коллекцию, в который добавлен элемент.|
|Среднее значение|O(N)|O(N)|O(N)|-|-|Возвращает среднее значение элементов в коллекции.|
|averageBy|O(N)|O(N)|O(N)|-|-|Возвращает среднее значение результатов предоставленный функции, применяемой к каждому элементу.|
|Blit|O(N)|-|-|-|-|Копирует фрагмент массива.|
|кэш|-|-|O(N)|-|-|Вычисляет и сохраняет элементы последовательности.|
|приведение|-|-|O(N)|-|-|Преобразует элементы в указанный тип.|
|Выберите|O(N)|O(N)|O(N)|-|-|Применяет заданную функцию `f` к каждому элементу `x` списка. Возвращает список, содержащий результаты для каждого элемента, где функция возвращает `Some(f(x))`.|
|Сбор данных|O(N)|O(N)|O(N)|-|-|Применяет заданную функцию к каждому элементу коллекции, объединяет все результаты и возвращает объединенный список.|
|compareWith|-|-|O(N)|-|-|Сравнивает две последовательности, используя заданную функцию сравнения, поэлементно.|
|concat|O(N)|O(N)|O(N)|-|-|Объединяет данного перечисления перечислений как одного объединенного перечисления.|
|содержит|-|-|-|-|O (log N)|Возвращает значение true, если набор содержит указанный элемент.|
|containsKey|-|-|-|O (log N)|-|Проверяет, является ли элемент в области карты.|
|count|-|-|-|-|O(N)|Возвращает количество элементов в наборе.|
|countBy|-|-|O(N)|-|-|Применяет функцию генерации ключа к каждому элемента последовательности и возвращает последовательность, которая выдает уникальные ключи и количество их экземпляров в исходной последовательности.|
|copy|O(N)|-|O(N)|-|-|Копирует коллекцию.|
|создание|O(N)|-|-|-|-|Создает массив из всего элементов, изначально по заданному значению.|
|Задержка|-|-|O(1)|-|-|Возвращает последовательность, которая создается из указанной задержанной спецификации последовательности.|
|различие|-|-|-|-|O (M &#42; log N)|Возвращает новый набор элементов второго набора, удаленного из первого набора.|
|DISTINCT|||O(1)&AMP;#42;|||Возвращает последовательность, которая не содержит дублирующихся записей в соответствии с универсальным хэширования и сравнения на равенство в операциях. Если элемент встречается несколько раз в последовательности, последующие вхождения удаляются.|
|distinctBy|||O(1)&AMP;#42;|||Возвращает последовательность, которая не содержит повторяющихся записей в соответствии с универсального хэширования и сравнения на равенство по ключам, которые возвращает заданную функцию генерации ключа. Если элемент встречается несколько раз в последовательности, последующие вхождения удаляются.|
|пустой|O(1)|O(1)|O(1)|O(1)|O(1)|Создает пустую коллекцию.|
|exists|O(N)|O(N)|O(N)|O (log N)|O (log N)|Проверяет, является ли любой элемент последовательности, удовлетворяющий заданному предикату.|
|exists2|O(Min(N,M))|-|O(Min(N,M))|||Проверяет, является ли каждая пара соответствующих элементов входных последовательностей удовлетворяет заданному предикату.|
|fill|O(N)|||||Устанавливает заданное значение в диапазоне элементов массива.|
|фильтр|O(N)|O(N)|O(N)|O(N)|O(N)|Возвращает новую коллекцию, которая содержит только элементы коллекции, для которого заданный предикат возвращает `true`.|
|find|O(N)|O(N)|O(N)|O (log N)|-|Возвращает первый элемент, для которого заданная функция возвращает `true`. Возвращает `System.Collections.Generic.KeyNotFoundException` Если такого элемента не существует.|
|findIndex|O(N)|O(N)|O(N)|-|-|Возвращает индекс первого элемента в массиве, который удовлетворяет заданному предикату. Вызывает `System.Collections.Generic.KeyNotFoundException` Если элемент не удовлетворяет предикату.|
|findKey|-|-|-|O (log N)|-|Вычисляет функцию для каждого сопоставления в коллекции и возвращает ключ первого сопоставления, где функция возвращает `true`. Если такого элемента не существует, эта функция вызывает `System.Collections.Generic.KeyNotFoundException`.|
|свертки|O(N)|O(N)|O(N)|O(N)|O(N)|Применяет функцию к каждому элементу коллекции, передавая аргумента аккумулирования вычисления. Если входная функция — f, а элементы — i0... iN, эта функция вычисляет f (... (f s i0)...) в.|
|fold2|O(N)|O(N)|-|-|-|Применяет функцию к соответствующим элементам двух коллекций, аргумента аккумулирования вычисления. Коллекций должны быть идентичными размеры. Если входная функция — f, а элементы — i0... iN и j0... jN, эта функция вычисляет f (... (f s i0 j0)...) в jN.|
|foldBack|O(N)|O(N)|-|O(N)|O(N)|Применяет функцию к каждому элементу коллекции, передавая аргумента аккумулирования вычисления. Если входная функция — f, а элементы — i0... iN, эта функция вычисляет f i0 (... (f на s)).|
|foldBack2|O(N)|O(N)|-|-|-|Применяет функцию к соответствующим элементам двух коллекций, аргумента аккумулирования вычисления. Коллекций должны быть идентичными размеры. Если входная функция — f, а элементы — i0... iN и j0... jN, эта функция вычисляет f i0 j0 (... (f в jN s)).|
|ForAll|O(N)|O(N)|O(N)|O(N)|O(N)|Проверяет, является ли все элементы коллекции удовлетворяют заданному предикату.|
|forall2|O(N)|O(N)|O(N)|-|-|Проверяет, является ли все соответствующие элементы коллекции удовлетворяют заданному предикату попарно.|
|получить / n-й|O(1)|O(N)|O(N)|-|-|Возвращает элемент из коллекции, его индексу.|
|head|-|O(1)|O(1)|-|-|Возвращает первый элемент коллекции.|
|init|O(N)|O(N)|O(1)|-|-|Создает коллекцию с заданным измерения и функции генератора для вычисления значений элементов.|
|initInfinite|-|-|O(1)|-|-|Создает последовательность, при переборе возвращает идущие подряд элементы путем вызова заданной функции.|
|INTERSECT|-|-|-|-|O (log N &#42; журнала M)|Вычисляет пересечение двух множеств.|
|intersectMany|-|-|-|-|O (N1 &AMP;#42; N2...)|Вычисляет пересечение последовательности наборов. Последовательность не может быть пустым.|
|IsEmpty|O(1)|O(1)|O(1)|O(1)|-|Возвращает `true` Если возвращается пустая коллекция.|
|isProperSubset|-|-|-|-|O (M &#42; log N)|Возвращает `true` Если все элементы первого набора присутствуют во втором наборе, и хотя бы один элемент второго набора не находится в первом наборе.|
|isProperSuperset|-|-|-|-|O (M &#42; log N)|Возвращает `true` Если все элементы второго набора, в первом наборе, и хотя бы один элемент первого набора не во втором наборе.|
|isSubset|-|-|-|-|O (M &#42; log N)|Возвращает `true` Если все элементы первого набора присутствуют во втором наборе.|
|isSuperset|-|-|-|-|O (M &#42; log N)|Возвращает `true` , если все элементы второго набора, в первом наборе.|
|Iter|O(N)|O(N)|O(N)|O(N)|O(N)|Применяет заданную функцию к каждому элементу коллекции.|
|iteri|O(N)|O(N)|O(N)|-|-|Применяет заданную функцию к каждому элементу коллекции. Целое число, которое передается в функцию, указывающее индекс элемента.|
|iteri2|O(N)|O(N)|-|-|-|Применяет заданную функцию к паре элементов, которые берутся из соответствующих индексов в двух массивах. Целое число, которое передается в функцию, указывающее индекс элементов. Два массива должны иметь одинаковую длину.|
|iter2|O(N)|O(N)|O(N)|-|-|Применяет заданную функцию к паре элементов, которые берутся из соответствующих индексов в двух массивах. Два массива должны иметь одинаковую длину.|
|длина|O(1)|O(N)|O(N)|-|-|Возвращает количество элементов в коллекции.|
|map|O(N)|O(N)|O(1)|-|-|Создает коллекции, элементы которого являются результатом применения заданной функции к каждому элементу массива.|
|map2|O(N)|O(N)|O(1)|-|-|Создает коллекции, элементы которого являются результатом попарного применения заданной функции к соответствующим элементам двух коллекций. Двух входных массивов должны иметь одинаковую длину.|
|map3|-|O(N)|-|-|-|Создает коллекции, элементы которого являются результатом применения заданной функции к соответствующим элементам трех коллекций одновременно.|
|MAPI|O(N)|O(N)|O(N)|-|-|Формирует массив, элементы которого являются результатом применения заданной функции к каждому элементу массива. Целочисленный индекс, который передается в функцию, указывающее индекс преобразуемого элемента.|
|mapi2|O(N)|O(N)|-|-|-|Создает коллекции, элементы которого являются результатом применения заданной функции к соответствующим элементам двух коллекций, парный также передает индекс элементов. Двух входных массивов должны иметь одинаковую длину.|
|max|O(N)|O(N)|O(N)|-|-|Возвращает наибольшее элемент в коллекции, по сравнению с помощью [max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce) оператор.|
|maxBy|O(N)|O(N)|O(N)|-|-|Возвращает наибольшее элемент в коллекции, по сравнению с помощью [max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce) результатом функции.|
|maxElement|-|-|-|-|O (log N)|Возвращает наибольшее элемент в наборе согласно порядок, используемый для набора.|
|min|O(N)|O(N)|O(N)|-|-|Возвращает наименьший элемент в коллекции, по сравнению с помощью [min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed) оператор.|
|minBy|O(N)|O(N)|O(N)|-|-|Возвращает наименьший элемент в коллекции, по сравнению с помощью [min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed) оператор результатом функции.|
|minElement|-|-|-|-|O (log N)|Возвращает минимальный элемент в наборе согласно порядок, используемый для набора.|
|ofArray|-|O(N)|O(1)|O(N)|O(N)|Создает коллекцию, которая содержит те же элементы, что и заданный массив.|
|ofList|O(N)|-|O(1)|O(N)|O(N)|Создает коллекцию, которая содержит те же элементы, что и заданный список.|
|ofSeq|O(N)|O(N)|-|O(N)|O(N)|Создает коллекцию, которая содержит те же элементы в заданной последовательности.|
|парных|-|-|O(N)|-|-|Возвращает последовательность каждого элемента входной последовательности и его предшественник, за исключением первого элемента, который возвращается только в качестве предшественника второго элемента.|
|partition|O(N)|O(N)|-|O(N)|O(N)|Разделяет коллекцию на две коллекции. Первая коллекция содержит элементы, для которых заданный предикат возвращает `true`, а вторая коллекция содержит элементы, для которых заданный предикат возвращает `false`.|
|permute-|O(N)|O(N)|-|-|-|Возвращает массив со всеми элементами, перестановка в соответствии с указанной перестановкой.|
|подбора|O(N)|O(N)|O(N)|O (log N)|-|Применяет заданную функцию для соседних элементов, возвращая первый результат, когда функция возвращает некоторые. Если функция никогда не возвращает некоторые из них, `System.Collections.Generic.KeyNotFoundException` возникает.|
|readonly|-|-|O(N)|-|-|Создает объект последовательности, которая указывает на данный объект последовательности. Эта операция гарантирует, что приведение типа невозможно повторное обнаружение и изменить исходной последовательности. Например если задан массив, возвращенная последовательность вернет все элементы массива, но не удается привести объект последовательности в массив.|
|reduce|O(N)|O(N)|O(N)|-|-|Применяет функцию к каждому элементу коллекции, передавая аргумента аккумулирования вычисления. Эта функция начинается путем применения функции, чтобы два элемента, передает этот результат в функцию, а также третий элемент и т. д. Эта функция возвращает результат.|
|reduceBack|O(N)|O(N)|-|-|-|Применяет функцию к каждому элементу коллекции, передавая аргумента аккумулирования вычисления. Если входная функция — f, а элементы — i0... iN, эта функция вычисляет f i0 (... (f в-1 в)).|
|remove|-|-|-|O (log N)|O (log N)|Удаляет элемент из домена сопоставления. Исключение не вызывается, если элемент отсутствует.|
|Реплицировать|-|O(N)|-|-|-|Создает список указанной длины с любым элементом, заданное значение.|
|версия|O(N)|O(N)|-|-|-|Возвращает новый список с элементами в обратном порядке.|
|сканирование|O(N)|O(N)|O(N)|-|-|Применяет функцию к каждому элементу коллекции, передавая аргумента аккумулирования вычисления. Эта операция применяет функцию ко второй аргумент и первый элемент списка. Операция затем передает этот результат в функцию вместе со вторым элементом и т. д. Наконец операция возвращает список промежуточных результатов и конечный результат.|
|scanBack|O(N)|O(N)|-|-|-|Напоминает foldBack операции, но возвращает промежуточные и окончательные результаты.|
|Одноэлементный|-|-|O(1)|-|O(1)|Возвращает последовательность, которая создает только один элемент.|
|set|O(1)|-|-|-|-|Задает элемент массива с указанным значением.|
|skip|-|-|O(N)|-|-|Возвращает последовательность, которая пропускает N элементы базовой последовательности, а затем выдает оставшиеся элементы последовательности.|
|skipWhile|-|-|O(N)|-|-|Возвращает последовательность, которая, итерация, пропускает элементы базовой последовательности, когда заданный предикат возвращает `true` и затем возвращает оставшиеся элементы последовательности.|
|sort|Среднее O (N записей N)<br /><br />Наихудший случай O(N^2)|O (N записей N)|O (N записей N)|-|-|Сортировка коллекции по значению элемента. Сравнение элементов с использованием [сравнения](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c).|
|sortBy|Среднее O (N записей N)<br /><br />Наихудший случай O(N^2)|O (N записей N)|O (N записей N)|-|-|Сортирует заданный список с помощью ключей, предоставляемые в данной проекции. Ключи сравниваются с помощью [сравнения](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c).|
|sortInPlace|Среднее O (N записей N)<br /><br />Наихудший случай O(N^2)|-|-|-|-|Сортирует элементы массива, изменяющее ее на месте и используя заданную функцию сравнения. С помощью сравнения элементов [сравнения](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c).|
|sortInPlaceBy|Среднее O (N записей N)<br /><br />Наихудший случай O(N^2)|-|-|-|-|Сортирует элементы массива путем изменения его на месте и используя заданную проекцию для ключей. С помощью сравнения элементов [сравнения](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c).|
|sortInPlaceWith|Среднее O (N записей N)<br /><br />Наихудший случай O(N^2)|-|-|-|-|Сортирует элементы массива путем изменения его на месте и используя заданную функцию сравнения по порядку.|
|sortWith|Среднее O (N записей N)<br /><br />Наихудший случай O(N^2)|O (N записей N)|-|-|-|Сортирует элементы коллекции, используя заданную функцию сравнения по порядку и возвращает новую коллекцию.|
|sub|O(N)|-|-|-|-|Создает массив, содержащий данного поддиапазон, который задается параметром начальный индекс и длину.|
|sum|O(N)|O(N)|O(N)|-|-|Возвращает сумму элементов в коллекции.|
|sumBy|O(N)|O(N)|O(N)|-|-|Возвращает сумму результатов, которые создаются путем применения функции к каждому элементу коллекции.|
|Резервная копия заключительного|-|O(1)|-|-|-|Возвращает список без ее первого элемента.|
|Take|-|-|O(N)|-|-|Возвращает элементы последовательности вплоть до указанного числа.|
|takeWhile|-|-|O(1)|-|-|Возвращает последовательность, которая, итерация, выдает элементы базовой последовательности когда заданный предикат возвращает `true` и затем возвращает элементов.|
|ToArray|-|O(N)|O(N)|O(N)|O(N)|Создает массив из заданной коллекции.|
|ToList|O(N)|-|O(N)|O(N)|O(N)|Создает список из заданной коллекции.|
|toSeq|O(1)|O(1)|-|O(1)|O(1)|Создает последовательность из заданной коллекции.|
|усечение|-|-|O(1)|-|-|Возвращает последовательность, которая, при перечислении возвращает не чаще, чем N элементов.|
|tryFind|O(N)|O(N)|O(N)|O (log N)|-|Выполняет поиск элемента, который удовлетворяет заданному предикату.|
|tryFindIndex|O(N)|O(N)|O(N)|-|-|Выполняет поиск первого элемента, который удовлетворяет заданному предикату и возвращает индекс элемента сопоставления или `None` Если такого элемента не существует.|
|tryFindKey|-|-|-|O (log N)|-|Возвращает ключ первого сопоставления в коллекции, которая удовлетворяет заданному предикату, или возвращает `None` Если такого элемента не существует.|
|tryPick|O(N)|O(N)|O(N)|O (log N)|-|Применяет заданную функцию для соседних элементов, возвращая первый результат, когда функция возвращает `Some` для некоторого значения. Если такого элемента не существует, операция возвращает `None`.|
|unfold|-|-|O(N)|-|-|Возвращает последовательность, которая содержит элементы, которые создает данного вычисления.|
|union|-|-|-|-|O (M &#42; log N)|Вычисляет объединение двух наборов.|
|unionMany|-|-|-|-|O (N1 &AMP;#42; N2...)|Вычисляет объединение последовательности наборов.|
|unzip|O(N)|O(N)|O(N)|-|-|Разделяет список пар на два списка.|
|unzip3|O(N)|O(N)|O(N)|-|-|Список тройки делится на три списка.|
|оконные|-|-|O(N)|-|-|Возвращает последовательность, выдающую перемещающиеся окна, содержащего элементы, которые выбираются из входной последовательности. Каждое окно возвращается как новый массив.|
|ZIP|O(N)|O(N)|O(N)|-|-|Объединяет две коллекции в список пар. Два списка должны иметь одинаковую длину.|
|zip3|O(N)|O(N)|O(N)|-|-|Объединяет три коллекции в список тройки. Списки должны иметь одинаковую длину.|

## <a name="see-also"></a>См. также
[Типы языка F#](fsharp-types.md)

[Справочник по языку F#](index.md)

