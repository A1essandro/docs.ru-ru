---
title: "Соображения безопасности XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
caps.latest.revision: "7"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.openlocfilehash: 59d0b835a0de3e84e2cb6e77ed368511bfe21b19
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="xaml-security-considerations"></a>Соображения безопасности XAML
В этом разделе приводятся рекомендации по безопасности приложений при использовании XAML и API служб XAML .NET Framework.  
  
## <a name="untrusted-xaml-in-applications"></a>Ненадежный код XAML в приложениях  
 В самом общем смысле ненадежный код XAML является любой источник XAML, приложение не было специально не включать или выпуска.  
  
 Код XAML, скомпилированный или хранятся в виде `resx`-тип ресурса в доверенной и подписанной сборки не является по своей природе без доверия. XAML можно доверять настолько, насколько можно доверять сборке в целом. В большинстве случаев являются только вопросы доверия свободного XAML — это источник XAML, который можно загрузить из потока или другие операции ввода-ВЫВОДА. Свободный XAML не является отдельным компонентом или функцией модели приложения с инфраструктурой развертывания и упаковки. Тем не менее сборка может реализовывать поведение, которое включает в себя загрузки свободного XAML.  
  
 Для ненадежного кода XAML необходимо рассматривать его обычно же, как если бы это был ненадежный код. Используйте "песочницу" или другие метафоры для предотвращения доступа доверенный код ненадежному коду XAML.  
  
 Природа возможностей XAML предоставляет коду XAML право создавать объекты и задавать их свойства. Эти возможности включают доступ к преобразователям типов, сопоставление и обращения к сборкам в домене приложения с использованием расширения разметки `x:Code` блоков и т. д.  
  
 Помимо возможности уровня языка XAML используется для определения пользовательского интерфейса во многих технологиях. Загрузка ненадежного кода XAML потенциально означает загрузку вредоносного поддельного пользовательского интерфейса.  
  
## <a name="sharing-context-between-readers-and-writers"></a>Совместное использование контекста средствами чтения и записи  
 Архитектура служб XAML .NET Framework для средств чтения и записи XAML часто требуется предоставление средства чтения XAML в средство записи XAML или общий контекст схемы XAML. Совместное использование объектов или контекстов может требоваться при написании логики цикла узлов XAML или предоставление пользовательского пути сохранения. Не следует совместно использовать экземпляры средства чтения XAML, контекст схемы XAML не по умолчанию или параметры для классов чтения и записи XAML между кодом недоверенных и доверенных.  
  
 Для большинства сценариев и операций, использующих запись объектов XAML для резервирования типов на основе CLR позволяет использовать контекст схемы XAML по умолчанию. Контекст схемы XAML по умолчанию явно не содержит параметров, который может нарушить полного доверия. Таким образом можно безопасно для совместного использования контекста недоверенных и доверенных компонентов чтения и записи XAML. Однако после этого она по-прежнему рекомендуется помещать такие модулей чтения и записи в отдельных <xref:System.AppDomain> областей с одного из них специально назначая/выделяя для частичного доверия.  
  
## <a name="xaml-namespaces-and-assembly-trust"></a>Пространства имен XAML и доверия сборки  
 Базовый синтаксис неполное и определение для интерпретация пользовательского сопоставления пространства имен XAML для сборки XAML не различает доверенные и недоверенные сборки, загруженные в домен приложения. Таким образом технически возможно, для ненадежной сборки подделать доверенной сборке предполагаемое сопоставление пространства имен XAML и зафиксировать объявленного объекта источника XAML и сведения о свойстве. Если требования к безопасности, чтобы избежать такой ситуации, предполагаемого сопоставлении пространства имен XAML следует выполнить, используя один из следующих способов:  
  
-   Используйте полное имя сборки со строгим именем в любой сопоставления пространства имен XAML, внесенных XAML приложения.  
  
-   Ограничьте сопоставление фиксированный набор ссылочных сборок, создавая конкретный сборки <xref:System.Xaml.XamlSchemaContext> для своих модулей чтения и записи объектов XAML. См. раздел <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.  
  
## <a name="xaml-type-mapping-and-type-system-access"></a>Сопоставление типов XAML и доступ к системе типов  
 XAML поддерживает свою собственную систему типов, которая во многом похожа на том, как среда CLR реализует базовую систему типов CLR. Однако для определенных аспектов распознавания типов, принимая решения о доверии о тип, основанный на сведения об этом типе, следует обратиться к информации о типах в резервных типах среды CLR. Это так, как некоторые из конкретных возможностями создания отчетов в системе типов XAML оставлены открытыми в качестве виртуальных методов и, таким образом, не полностью управляются исходными реализациями служб XAML .NET Framework. Эти точки расширения существуют, поскольку в системе типов XAML является расширяемой, чтобы соответствовать расширяемости самого языка XAML и его возможных альтернативных стратегий сопоставления типов и поддержкой CLR реализация по умолчанию и контекст схемы XAML по умолчанию. Дополнительные сведения см. примечания конкретных на нескольких свойств <xref:System.Xaml.XamlType> и <xref:System.Xaml.XamlMember>.  
  
## <a name="see-also"></a>См. также  
 <xref:System.Xaml.Permissions.XamlAccessLevel>
