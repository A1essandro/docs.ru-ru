---
title: "Службы XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- XAML [XAML Services], System.Xaml concepts
- XAML Services in WPF [XAML Services]
- System.Xaml [XAML Services], conceptual documentation
ms.assetid: 0e11f386-808c-4eae-9ba6-029ad7ba2211
caps.latest.revision: "13"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 458b4c94d26b7bc083c5d31fcbccf05b42bba52e
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="xaml-services"></a>Службы XAML
В этом разделе описываются возможности набора технологий, называются службами XAML платформы .NET Framework. Большинство служб и интерфейсов API, описанных находятся в сборке System.Xaml, которая представляет собой сборку предварен [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] набор основных сборок .NET. Службы включают в себя средства чтения и записи, классы схемы и поддержка схемы, фабрики, присвоение атрибутов классов, встроенной поддержки языка XAML и другие возможности языка XAML.  
  
## <a name="about-this-documentation"></a>О данной документации  
 Основная документация для служб XAML .NET Framework предполагает, что опыт разработки в язык XAML и его применения для конкретной платформы, например [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] или [!INCLUDE[TLA#tla_workflow](../../../includes/tlasharptla-workflow-md.md)], или определенной технологической области, функций для Пример возможностей настройки построения в <xref:Microsoft.Build.Framework.XamlTypes>. В этой документации не пытаться объяснить основы XAML как языка разметки, Терминология синтаксиса XAML и другие вводные сведения. Вместо этого в этой документации уделяется конкретному использованию служб XAML .NET Framework, для которых включено в библиотеке сборки System.Xaml. Большинство этих API-интерфейсов предназначено для сценариев интеграции языка XAML и расширяемость. Сюда относятся следующие:  
  
-   Расширение возможностей базовых средств чтения и записи XAML (непосредственная обработка потока узлов XAML производного чтения или записи XAML).  
  
-   Определение использования в XAML пользовательских типов, которые не зависят от конкретной платформы и присвоение атрибутов типам для передачи XAML введите характеристик системы служб XAML .NET Framework.  
  
-   Размещение средств чтения и записи XAML в качестве компонента приложения, такие как визуальный конструктор или интерактивный редактор для источников разметки XAML.  
  
-   Написание преобразователей значений XAML (расширения разметки, преобразователей типов для пользовательских типов).  
  
-   Определение пользовательского контекста схемы XAML (использование альтернативных методик загрузки сборок для источников резервных типов; использование методик поиска известных типов вместо постоянного отражения сборок; использование концепций загруженных сборок, которые не используют среду CLR `AppDomain` и модель безопасности связанных).  
  
-   Расширение базовой системы типов XAML.  
  
-   С помощью `Lookup` или `Invoker` введите методы, чтобы повлиять на XAML системы и способ оценки резервов типов.  
  
 Если вы ищете вводный материал на языке XAML, можно попробовать [Обзор XAML (WPF)](../../../docs/framework/wpf/advanced/xaml-overview-wpf.md). Этом разделе описывается XAML для аудитории, новые для обоих [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] и с использованием разметки XAML и возможностей языка XAML. Другим полезным документ является вводный материал в [спецификации языка XAML](http://go.microsoft.com/fwlink/?LinkId=114525).  
  
## <a name="net-framework-xaml-services-and-systemxaml-in-the-net-architecture"></a>Службы XAML .NET framework и System.Xaml в архитектуре .NET  
 В предыдущих версиях [!INCLUDE[TLA#tla_netframewk](../../../includes/tlasharptla-netframewk-md.md)], поддержка возможностей языка XAML была реализована с платформ на основе [!INCLUDE[TLA#tla_netframewk](../../../includes/tlasharptla-netframewk-md.md)] ([!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)], [!INCLUDE[TLA#tla_workflow](../../../includes/tlasharptla-workflow-md.md)] и [!INCLUDE[vsindigo](../../../includes/vsindigo-md.md)]) и поэтому менялись в его поведение и API, использующихся в зависимости от того, что конкретной платформы, которую вы использовали. Это включены XAML синтаксического анализа и объект graph механизм создания, встроенные функции языка XAML, поддержка сериализации и т. д.  
  
 В [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], объем необходимых для поддержки возможностей языка XAML для определения служб XAML .NET Framework и в сборке System.Xaml. Это включает базовые классы для чтения и записи XAML. Наиболее важные компонент, добавленный в службах XAML .NET Framework, который не был представлен в некоторых реализациях XAML для отдельных является представление системы типов для XAML. Представление системы типов XAML представляется в объектно ориентированным способом, где возможности XAML без учета зависимости от конкретных возможностей платформы.  
  
 В системе типов XAML не ограничивается разметки формы или во время выполнения особенности источника XAML; и не будет ограничена по любой системе типов, определенных резервного. В системе типов XAML содержит представления объектов для типов, членов, контекстов схемы XAML, понятий уровня XML и другие основные понятия языка XAML или встроенных функций XAML. Использование или расширение системы типов XAML делает возможным являются производными от классов, таких как средства чтения и записи XAML и расширять функциональные возможности представлений XAML конкретными функциями, включаемые платформу, технология или приложение, использующее или выдает XAML. Понятие контекста схемы XAML включает запись графов объектов из сочетание реализации средства записи объектов XAML, система резервных типов технологии как информацией о сборке в контексте и узлов XAML источник. Дополнительные сведения о концепции схемы XAML. в разделе [по умолчанию контекст схемы XAML и контекст схемы XAML WPF](../../../docs/framework/xaml-services/default-xaml-schema-context-and-wpf-xaml-schema-context.md).  
  
## <a name="xaml-node-streams-xaml-readers-and-xaml-writers"></a>Потоки узлов XAML, средства чтения XAML и средства записи XAML  
 Чтобы понять роль служб XAML .NET Framework во взаимосвязи языка XAML и конкретных технологий, использующих XAML в качестве языка, полезно понять концепцию потока узлов XAML и с влиянием этой концепции API и Терминология. Поток узлов XAML — это концептуальный посредник между представлением языка XAML и граф объектов, представляющий XAML, или определяет.  
  
-   Средство чтения XAML — это сущность, который обрабатывает XAML в определенной форме и создает поток узлов XAML. В API средство чтения XAML представляется базовым классом <xref:System.Xaml.XamlReader>.  
  
-   Средство записи XAML — это сущность, которое обрабатывает поток узлов XAML и формирует что-нибудь другое. В API средство записи XAML представляется базовым классом <xref:System.Xaml.XamlWriter>.  
  
 Два наиболее распространенных сценариев, включающие XAML Загрузка XAML для инициализации графа объектов и сохранение графа объектов из приложения или инструмента и созданием представления XAML (обычно в форме разметки, сохраняется как текстовый файл). Загрузка XAML и создание графа объектов часто называют в этой документации пути загрузки. Сохранение или сериализация графа объектов в XAML часто называют в этой документации сохранения пути.  
  
 Наиболее распространенный тип пути загрузки можно описать следующим образом:  
  
-   Запуск с представлением XAML, в формате XML с кодировкой UTF и сохранен как текстовый файл.  
  
-   Загрузить этот XAML в <xref:System.Xaml.XamlXmlReader>. <xref:System.Xaml.XamlXmlReader>— <xref:System.Xaml.XamlReader> подкласс.  
  
-   Результатом является поток узлов XAML. Можно получить доступ к отдельным узлам потока узлов XAML с помощью <xref:System.Xaml.XamlXmlReader>  /  <xref:System.Xaml.XamlReader> API. Наиболее типичной операцией является перебор потока узлов XAML, обработки каждого узла, используя «текущей записи» метафоры.  
  
-   Передать полученные узлы из потока узлов XAML для <xref:System.Xaml.XamlObjectWriter> API. <xref:System.Xaml.XamlObjectWriter>— <xref:System.Xaml.XamlWriter> подкласс.  
  
-   <xref:System.Xaml.XamlObjectWriter> Записывает граф объектов, один объект за раз в соответствии с ходом выполнения с помощью исходного потока узлов XAML. Это делается с помощью контекста схемы XAML и реализации, которая может получить доступ к сборок и типов система резервных типов и инфраструктуры.  
  
-   Вызовите <xref:System.Xaml.XamlObjectWriter.Result%2A> в конце потока узлов XAML, чтобы получить корневой объект графа объектов.  
  
 Наиболее распространенный тип пути сохранения можно описать следующим образом:  
  
-   Начните с графа объектов всего приложения во время выполнения, содержимого пользовательского интерфейса и состояния времени выполнения или меньшего сегмента объектного представления всего приложения во время выполнения.  
  
-   Из логического начала объекта, например корень приложения или корень документа, загрузить объекты в <xref:System.Xaml.XamlObjectReader>. <xref:System.Xaml.XamlObjectReader>— <xref:System.Xaml.XamlReader> подкласс.  
  
-   Результатом является поток узлов XAML. Можно получить доступ к отдельным узлам потока узлов XAML с помощью <xref:System.Xaml.XamlObjectReader> и <xref:System.Xaml.XamlReader> API. Наиболее типичной операцией является перебор потока узлов XAML, обработки каждого узла, используя «текущей записи» метафоры.  
  
-   Передать полученные узлы из потока узлов XAML для <xref:System.Xaml.XamlXmlWriter> API. <xref:System.Xaml.XamlXmlWriter>— <xref:System.Xaml.XamlWriter> подкласс.  
  
-   <xref:System.Xaml.XamlXmlWriter> Записывает XAML в XML UTF кодировки. Можно сохранить как текстовый файл, как поток или в других формах.  
  
-   Вызовите <xref:System.Xaml.XamlXmlWriter.Flush%2A> для получения конечного результата.  
  
 Дополнительные сведения о концепции потока узлов XAML см. в разделе [понятиях и структурах потока узлов XAML основные сведения о](../../../docs/framework/xaml-services/understanding-xaml-node-stream-structures-and-concepts.md).  
  
### <a name="the-xamlservices-class"></a>XamlServices-класс  
 Это не всегда необходимо обращаться с потоком узлов XAML. Если требуется базовый путь загрузки или базовый путь сохранения, можно использовать API-интерфейсы в <xref:System.Xaml.XamlServices> класса.  
  
-   Различные сигнатуры метода <xref:System.Xaml.XamlServices.Load%2A> реализуют путь загрузки. Можно загрузить файл или поток, либо можно загрузить <xref:System.Xml.XmlReader>, <xref:System.IO.TextReader> или <xref:System.Xaml.XamlReader> , обеспечивающее оболочку для входных данных XAML путем загрузки с интерфейсами API данного средства чтения.  
  
-   Различные сигнатуры метода <xref:System.Xaml.XamlServices.Save%2A> сохраняют граф объектов и выдают результат в виде потока, файла или <xref:System.Xml.XmlWriter> / <xref:System.IO.TextWriter> экземпляра.  
  
-   <xref:System.Xaml.XamlServices.Transform%2A>Преобразует XAML, связывая путь загрузки и сохранения пути в ходе одной операции. Другой контекст схемы или другая система резервных типов могут быть использованы для <xref:System.Xaml.XamlReader> и <xref:System.Xaml.XamlWriter>, что повлияет на преобразование полученного XAML-кода.  
  
 Дополнительные сведения об использовании <xref:System.Xaml.XamlServices>, в разделе [класс XAMLServices и Basic XAML чтения или записи с](../../../docs/framework/xaml-services/xamlservices-class-and-basic-xaml-reading-or-writing.md).  
  
## <a name="xaml-type-system"></a>Системе типов XAML  
 В системе типов XAML предоставляет интерфейсы API, которые требуются для работы с заданным отдельным узлом потока узлов XAML.  
  
 <xref:System.Xaml.XamlType>является представлением объекта — что обрабатывается между начальным и конечным узлами объекта.  
  
 <xref:System.Xaml.XamlMember>является представлением элемента объекта — что обрабатывается между начальным и конечным узлами члена.  
  
 API-интерфейсы, такие как <xref:System.Xaml.XamlType.GetAllMembers%2A> и <xref:System.Xaml.XamlType.GetMember%2A> и <xref:System.Xaml.XamlMember.DeclaringType%2A> передают связи между <xref:System.Xaml.XamlType> и <xref:System.Xaml.XamlMember>.  
  
 Поведение системы типов XAML, реализованное в службах XAML .NET Framework по умолчанию основан на среде (CLR) и статического анализа типов CLR в сборках с помощью отражения. Таким образом для определенного типа среды CLR, реализация по умолчанию в системе типов XAML можно представить схему XAML для этого типа и его членов и сообщить об этом с точки зрения системы типов XAML. В системе типов XAML по умолчанию понятие возможности назначения типов сопоставляется на наследование среды CLR, а понятия экземпляров, типов значений и т. д. также отображаются соответствующее поведение и возможности среды CLR.  
  
## <a name="reference-for-xaml-language-features"></a>Справочник по возможности языка XAML  
 Для поддержки XAML служб XAML .NET Framework предоставляет реализации концепции языка XAML, который определен для пространства имен XAML языка XAML. Все они описаны в виде отдельных страниц справочника. Возможности языка описываются с точки зрения поведения эти языковые возможности, когда они обрабатываются механизмом чтения или записи XAML, определенным службами XAML платформы .NET Framework. Для получения дополнительной информации см. [XAML Namespace (x:) Language Features](../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md).
