---
title: "XAML Namespaces for .NET Framework XAML Services | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-wpf"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: e4f15f13-c420-4c1e-aeab-9b6f50212047
caps.latest.revision: 3
author: "wadepickett"
ms.author: "wpickett"
manager: "wpickett"
caps.handback.revision: 3
---
# XAML Namespaces for .NET Framework XAML Services
Пространство имен XAML — это понятие, расширяющее определение пространства имен XML.  Подобно пространству имен XML, определить пространство имен XAML можно путем использования в разметке атрибута `xmlns`.  Пространства имен XAML также представлены в потоке узлов XAML и других API\-интерфейсах служб XAML.  В этом разделе поясняется понятие пространства имен XAML, рассматривается порядок определения пространств имен XAML, а также их использование контекстами схемы XAML и другими аспектами служб XAML платформы .NET Framework.  
  
## Пространство имен XML и пространство имен XAML  
 Пространство имен XAML представляет собой специализированное пространство имен XML — точно так же, как XAML представляет собой специализированный XML, и в качестве его разметки используется базовая форма XML.  В разметке пространство имен XAML и его сопоставление объявляются посредством атрибута `xmlns`, примененного к элементу.  Атрибут `xmlns` может быть объявлен применительно к тому же элементу, в котором объявляется пространство имен XAML.  Объявление пространства имен XAML, сделанное применительно к элементу, является действительным для этого элемента, всех атрибутов этого элемента и всех дочерних элементов этого элемента.  Для атрибутов могут использоваться пространства имен XAML, не совпадающие с пространством имен содержащего атрибут элемента, при условии, что само имя атрибута ссылается на префикс в составе имени атрибута в разметке.  
  
 Различие между пространством имен XAML и пространством имен XML состоит в том, что пространство имен XML может использоваться для ссылки на схему или просто для различения сущностей.  В случае же XAML типы и члены, используемые в XAML, должны в конечном итоге разрешаться в резервные типы, и концепции схемы XML не применимы в полной мере к этой возможности.  Пространство имен XAML содержит информацию, которая должна быть доступна контексту схемы XAML для выполнения такого сопоставления типов.  
  
## Компоненты пространства имен XAML  
 Определение пространства имен XAML состоит из двух компонентов: префикса и идентификатора.  Каждый из этих компонентов присутствует при объявлении пространства XAML в разметке или его определении в системе типов XAML.  
  
 Префикс может представлять собой любую строку, допустимую в соответствии со спецификацией [Namespaces in XML 1.0](http://go.microsoft.com/fwlink/?LinkID=161735) консорциума W3C.  По соглашению в качестве префиксов обычно используют очень короткие строки, поскольку в типичном файле разметки префикс повторяется многократно.  Для некоторых пространств имен XAML, предназначенных для использования в нескольких реализациях XAML, используются определенные традиционные префиксы.  Например, пространство имен XAML языка XAML обычно сопоставляется с использованием префикса `x`.  Можно определить пространство имен XAML по умолчанию, где префикс не указывается в определении, а при его определении или запросе API\-интерфейсом служб XAML платформы .NET Framework представляет собой пустую строку.  Как правило, пространство имен XAML по умолчанию намеренно выбирают для того, чтобы максимизировать объем разметки с опущенным префиксом, формируемой реализующей XAML технологией, ее сценариями и словарями.  
  
 Идентификатор может представлять собой любую строку, допустимую в соответствии со спецификацией [Namespaces in XML 1.0](http://go.microsoft.com/fwlink/?LinkID=161735) консорциума W3C.  По соглашению идентификаторы для пространств имен XML или для пространств имен XAML часто записывают в виде универсального кода ресурса \(URI\), обычно в виде абсолютного URI с квалификатором протокола.  Часто в составе строки пути подразумевается информация о версии, определяющая конкретный словарь XAML.  С пространствами имен XAML связано дополнительное соглашение об идентификаторах, помимо характерного для XML соглашения об использовании URI.  В случае пространств имен XAML идентификатор передает информацию, необходимую контексту схемы XAML для разрешения типов, указанных в качестве элементов в данном пространстве имен XAML, или для разрешения атрибутов в члены.  
  
 Для целей передачи информации контексту схемы XAML идентификатор пространства имен XAML может все также быть записан в виде URI.  В этом случае, однако, URI также объявляется как соответствующий идентификатор в определенной сборке или списке сборок.  В сборках это делается путем присвоения сборке атрибута <xref:System.Windows.Markup.XmlnsDefinitionAttribute>.  Этот метод идентификации пространства имен XAML и поддержка поведения разрешения типов на основе среды CLR в помеченной атрибутом сборке поддерживается контекстом схемы XAML по умолчанию в службах XAML платформы .NET Framework.  В более общем смысле это соглашение можно использовать в случаях, где контекст схемы XAML включает в себя среду CLR или основывается на контексте схемы XAML по умолчанию, что необходимо для считывания атрибутов среды CLR из сборок среды CLR.  
  
 Пространства имен XAML также можно идентифицировать по соглашению, которое предполагает передачу пространства имен среды CLR и сборки, определяющей тип.  Это соглашение используется в случаях, когда у содержащих типы сборок отсутствуют атрибуты <xref:System.Windows.Markup.XmlnsDefinitionAttribute>.  Это соглашение потенциально является более сложным, чем соглашение с использованием URI, а также не исключает неоднозначности и дублирования, поскольку существует несколько способов сослаться на сборку.  
  
 Самая простая форма идентификатора, основанного на соглашении с использованием пространств имен среды CLR и сборки, выглядит следующим образом:  
  
 `clr-namespace:` *ПространствоИменCLR* `; assembly=` *КраткоеИмяСборки*  
  
 `clr-namespace:` и `; assembly=` — литеральные компоненты синтаксиса.  
  
 *ПространствоИменCLR* — строковое имя, идентифицирующее пространство имен среды CLR.  Это строковое имя включает любые внутренние символы\-точки \(.\), которые обеспечивают указание на пространство имен среды CLR и его отношение к другим пространствам имен среды CLR.  
  
 *КраткоеИмяСборки* — это строковое имя сборки, которая определяет типы, имеющие применение в XAML.  Ожидается, что типы, доступ к которым должен осуществляться через объявленное пространство имен XAML, будут определены сборкой и будут объявлены именно внутри пространства имен среды CLR, заданного строкой *ПространствоИменCLR*.  Это строковое имя обычно соответствует информации, сообщаемой свойством <xref:System.Reflection.AssemblyName.Name%2A?displayProperty=fullName>.  
  
 Более полное определение соглашения с использованием пространств имен среды CLR и сборки выглядит следующим образом:  
  
 `clr-namespace:` *ПространствоИменCLR* `; assembly=` *ИмяСборки*  
  
 *ИмяСборки* представляет собой любую строку, допустимую в качестве входных данных для метода <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=fullName>.  Эта строка может включать в себя информацию о языке и региональных параметрах, открытом ключе или версии \(определения этих понятий приведены в справочном разделе, посвященном классу <xref:System.Reflection.Assembly>\).  Формат COFF и свидетельство \(используемые другими перегрузками метода <xref:System.Reflection.Assembly.Load%2A>\) для целей загрузки сборок XAML не актуальны; вся информация для загрузки должна быть представлена в виде строки.  
  
 Указание для сборки открытого ключа — полезный прием для обеспечения безопасности XAML или для устранения неоднозначности, возможной при загрузке сборок по простому имени или в случае, если они уже существуют в кэше или домене приложения.  Дополнительные сведения см. в разделе [XAML Security Considerations](../../../docs/framework/xaml-services/xaml-security-considerations.md).  
  
## Объявления пространств имен XAML в API\-интерфейсе служб XAML  
 В API\-интерфейсе служб XAML объявление пространства имен XAML представляется объектом <xref:System.Xaml.NamespaceDeclaration>.  При определении пространства имен XAML в коде вызывают конструктор <xref:System.Xaml.NamespaceDeclaration.%23ctor%28System.String%2CSystem.String%29>.  Параметры `ns` и `prefix` указываются в виде строк, а входные данные, предоставляемые для этих параметров, соответствуют определению идентификатора пространства имен XAML и префикса пространства имен XAML, приведенному выше в этом разделе.  
  
 Если рассматривать информацию о пространстве имен XAML как часть потока узлов XAML или исходя из другого способа доступа к системе типов XAML, свойство <xref:System.Xaml.NamespaceDeclaration.Namespace%2A?displayProperty=fullName> сообщает идентификатор пространства имен XAML, а свойство <xref:System.Xaml.NamespaceDeclaration.Prefix%2A?displayProperty=fullName> сообщает префикс пространства имен XAML.  
  
 В потоке узлов XAML информация о пространстве имен XAML может быть представлена в виде узла XAML, предшествующего сущности, к которой она относится.  Сюда входят случаи, в которых информация о пространстве имен XAML предшествует узлу `StartObject` корневого элемента XAML.  Дополнительные сведения см. в разделе [Understanding XAML Node Stream Structures and Concepts](../../../docs/framework/xaml-services/understanding-xaml-node-stream-structures-and-concepts.md).  
  
 Во многих сценариях, в которых используется API\-интерфейс служб XAML платформы .NET Framework, ожидается наличие хотя бы одного объявления пространства имен XAML, причем это объявление должно либо содержать информацию, необходимую контексту схемы XAML, либо ссылаться на эту информацию.  Пространства имен XAML должны либо указывать сборки, которые должны быть загружены, либо способствовать разрешению конкретных типов внутри пространств имен и сборок, которые уже загружены или известны контексту схемы XAML.  
  
 Для формирования потока узлов XAML должна быть доступна информация о типах XAML — через контекст схемы XAML.  Информация о типах XAML не может быть определена без предварительного определения соответствующего пространства имен XAML для каждого создаваемого узла.  На этом этапе экземпляры типов еще не созданы, однако контексту схемы XAML может потребоваться получить информацию из определяющей сборки и резервного типа.  Например, для обработки разметки `<Party><PartyFavor/></Party>` контекст схемы XAML должен быть способен определить имя и тип атрибута `ContentProperty` элемента `Party` и, следовательно, должен располагать информацией о пространстве имен XAML для `Party` и `PartyFavor`.  В случае контекста схемы XAML по умолчанию статическое отражение сообщает значительную часть информации о системе типов XAML, необходимой для формирования узлов типов XAML в потоке узлов.  
  
 Для формирования из потока узлов XAML графа объектов должны существовать объявления пространств имен XAML для каждого префикса XAML, используемого в исходной разметке и записываемого в поток узлов XAML.  На этом этапе создаются экземпляры и происходит истинное сопоставление типов.  
  
 Если требуется создать предварительную информацию о пространстве имен XAML в случаях, когда пространство имен XAML, которое будет использоваться контекстом схемы XAML, не определено в разметке, один из возможных приемов — объявить объявления пространств имен XML в объекте <xref:System.Xml.XmlParserContext> для объекта <xref:System.Xml.XmlReader>.  Затем этот объект <xref:System.Xml.XmlReader> необходимо использовать в качестве входных данных для конструктора средства чтения XAML или метода <xref:System.Xaml.XamlServices.Load%28System.Xml.XmlReader%29?displayProperty=fullName>.  
  
 Другие два API\-интерфейса, имеющие отношение к работе с пространствами имен XAML в службах XAML платформы .NET Framework, — это атрибуты <xref:System.Windows.Markup.XmlnsDefinitionAttribute> и <xref:System.Windows.Markup.XmlnsPrefixAttribute>.  Эти атрибуты применяются к сборкам.  Атрибут <xref:System.Windows.Markup.XmlnsDefinitionAttribute> используется контекстом схемы XAML для интерпретации любого объявления пространства имен XAML, включающего в себя URI.  Атрибут <xref:System.Windows.Markup.XmlnsPrefixAttribute> используется средствами, выдающими XAML, чтобы конкретное пространство имен XAML можно было сериализовать с предсказуемым префиксом.  Дополнительные сведения см. в разделе [XAML\-Related CLR Attributes for Custom Types and Libraries](../../../docs/framework/xaml-services/xaml-related-clr-attributes-for-custom-types-and-libraries.md).  
  
## См. также  
 [Understanding XAML Node Stream Structures and Concepts](../../../docs/framework/xaml-services/understanding-xaml-node-stream-structures-and-concepts.md)