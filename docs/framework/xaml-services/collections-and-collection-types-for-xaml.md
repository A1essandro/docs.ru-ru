---
title: Коллекции и типы коллекций для XAML
ms.date: 03/30/2017
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
ms.openlocfilehash: 5605c97b13503e18e2f698f2a19f715663052b08
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="collections-and-collection-types-for-xaml"></a>Коллекции и типы коллекций для XAML
В этом разделе описывается определение свойства типов, которые предназначены для поддержки коллекции, которые поддерживают синтаксис XAML для создания экземпляров элементов коллекции как дочерние элементы родительского элемента объекта или свойства элемента.  
  
## <a name="xaml-collection-concepts"></a>Концепции коллекции XAML  
 По существу, ни одной связи, в языке XAML, где имеется несколько дочерних элементов в пределах области элемента объекта XAML или элемента свойства XAML должен быть реализован в виде коллекции. Этой коллекции должна быть связана с определенным свойством XAML типа XAML, которая является родительской в этой связи. Свойства должен быть коллекцией, поскольку обработчик XAML ожидает назначить каждый элемент в разметке для вновь добавленного элемента свойства коллекции резервное копирование.  
  
 На уровне языка XAML точные требования поддержка коллекций определены не полностью. Концепции, что коллекция может быть либо списка или словаря (но не оба) определяется на уровне языка XAML, но какие резервные типы представляют либо списки или словари не определен в языке XAML.  
  
 В службах XAML .NET Framework понятие поддержка коллекций XAML более четко определяется на основе резервных типов .NET Framework. В частности поддержка коллекций XAML основан на несколько понятий платформы .NET Framework и API-интерфейсы, которые используются для списков и словарей в общие вопросы программирования в .NET Framework.  
  
1.  <xref:System.Collections.IList> Интерфейс указывает коллекцию списков.  
  
2.  <xref:System.Collections.IDictionary> Интерфейс указывает dicionary коллекции.  
  
3.  <xref:System.Array> представляет массив и массив поддерживает <xref:System.Collections.IList> методы.  
  
 В каждом из этих концепций коллекции, обработчик XAML служб XAML .NET Framework ожидает вызова `Add` метода в определенном экземпляре типа свойства коллекции. Или, в сценарии сериализации, обработчик XAML создает дискретных экземпляры типа XAML для каждого элемента в списке, словаря или массива, основанного на каждой коллекции узкое понятие «Элементов». Ниже приведены: <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; явных <xref:System.Array.System%23Collections%23IList%23Item%2A> для <xref:System.Array>.  
  
## <a name="generic-collections"></a>Универсальные коллекции  
 Универсальные коллекции может быть полезна для общего программирования платформы .NET Framework и может также использоваться для свойств коллекции XAML. Однако универсальные интерфейсы <xref:System.Collections.Generic.IList%601> и <xref:System.Collections.Generic.IDictionary%602> не идентифицировано процессоры XAML служб XAML .NET Framework как эквивалент неуниверсальные <xref:System.Collections.IList> или <xref:System.Collections.IDictionary>. Вместо того чтобы реализовывать интерфейсы, рекомендуемым подходом для свойств типов универсальных коллекций является являются производными от классов <xref:System.Collections.Generic.List%601> или <xref:System.Collections.Generic.Dictionary%602>. Эти классы реализуют неуниверсальный интерфейсы и таким образом включать ожидаемый поддержка коллекций XAML в базовой реализации.  
  
## <a name="read-only-collections-and-initialization-logic"></a>Коллекции только для чтения и логику инициализации  
 Программирования платформы .NET Framework при шаблоном разработки, чтобы сделать любое свойство, которое хранит значение коллекции в виде коллекции только для чтения. Этот шаблон позволяет использовать экземпляр, которому принадлежит свойство коллекции для более эффективного управления, что происходит в коллекцию... В частности шаблон предотвращает случайное замены существующего всей коллекции, присвоив свойству. В этом шаблоне любой доступ к коллекции, вызывающие объекты должны вноситься вместо этого путем вызова методов и свойств, такие как поддерживаемой тип коллекций или интерфейсов соответствующей коллекции <xref:System.Collections.IList>.  
  
 С помощью этого шаблона подразумевает любой класс, который предоставляет свойство только для чтения коллекцию необходимо вначале инициализировать это свойство для хранения пустую коллекцию. Как правило, инициализация выполняется в рамках поведение конструктора для класса. Чтобы быть полезным для XAML, очень важно, такую логику всегда ссылается конструктора по умолчанию, поскольку XAML обычно вызывает конструктор по умолчанию до обработки свойств (свойства коллекции или иным способом).  
  
## <a name="xaml-type-system-support-and-collections"></a>Поддержка системы типов XAML и коллекций  
 Помимо основной механизм синтаксического анализа XAML и заполнении или сериализации свойств коллекции в системе типов XAML, реализованное в службах XAML .NET Framework включает несколько функций разработки, которые относятся к коллекциям в XAML.  
  
1.  <xref:System.Xaml.XamlType.IsCollection%2A> Возвращает значение true, если тип XAML, поддерживаемый тип, который обеспечивает поддержку коллекции XAML.  
  
2.  <xref:System.Xaml.XamlType.IsDictionary%2A> и <xref:System.Xaml.XamlType.IsArray%2A> затем можно определить, какой тип XAML поддерживает режим сбора. Для пользовательских XAML система типов процессоров, основанных на службах XAML .NET Framework и XAML, но не на основе существующего <xref:System.Xaml.XamlWriter> реализации, знать, какой режим сбора используется может быть необходимо, чтобы знать, какой метод, вызываемый для Обработка коллекций.  
  
3.  Каждый из предыдущих значений свойств потенциально влиянию переопределения <xref:System.Xaml.XamlType.LookupCollectionKind%2A> типа XAML.
