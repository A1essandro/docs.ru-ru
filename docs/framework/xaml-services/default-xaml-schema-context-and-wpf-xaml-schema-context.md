---
title: Контекст схемы языка XAML по умолчанию и контекст схемы языка XAML WPF
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-wpf
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 04e06a15-09b3-4210-9bdf-9a64c2eccb83
caps.latest.revision: 7
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: ec5e29ae9022470f8b583dc1b673a0b93040c862
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
# <a name="default-xaml-schema-context-and-wpf-xaml-schema-context"></a><span data-ttu-id="cfad4-102">Контекст схемы языка XAML по умолчанию и контекст схемы языка XAML WPF</span><span class="sxs-lookup"><span data-stu-id="cfad4-102">Default XAML Schema Context and WPF XAML Schema Context</span></span>
<span data-ttu-id="cfad4-103">Контекст схемы XAML представляет собой концептуальную сущность, который определяет, каким образом рабочей среды XAML, который использует определенный словарь XAML взаимодействует с поведением записи объектов, включая порядок разрешения сопоставлений типов, как сборки загружаются, как определенные средства чтения и записи параметры интерпретируются.</span><span class="sxs-lookup"><span data-stu-id="cfad4-103">A XAML schema context is a conceptual entity that qualifies how a XAML production that uses a particular XAML vocabulary interacts with the object writing behavior, including how type mapping resolves, how assemblies are loaded, how certain reader and writer settings are interpreted.</span></span> <span data-ttu-id="cfad4-104">В этом разделе описываются функции служб XAML .NET Framework и контекст схемы XAML по умолчанию, которая основана на системе типов среды CLR.</span><span class="sxs-lookup"><span data-stu-id="cfad4-104">This topic describes the features of the .NET Framework XAML Services and the associated default XAML schema context, which is based on the CLR type system.</span></span> <span data-ttu-id="cfad4-105">Кроме того, в этом разделе описывается контекст схемы XAML, который используется для WPF.</span><span class="sxs-lookup"><span data-stu-id="cfad4-105">This topic also describes the XAML schema context that is used for WPF.</span></span>  
  
## <a name="default-xaml-schema-context"></a><span data-ttu-id="cfad4-106">Контекст схемы XAML по умолчанию</span><span class="sxs-lookup"><span data-stu-id="cfad4-106">Default XAML Schema Context</span></span>  
 <span data-ttu-id="cfad4-107">Службы XAML .NET framework реализует и использует контекст схемы XAML по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cfad4-107">.NET Framework XAML Services both implements and uses a default XAML schema context.</span></span> <span data-ttu-id="cfad4-108">Поведение контекста схемы XAML по умолчанию не всегда полностью отображены в API-Интерфейс <xref:System.Xaml.XamlSchemaContext> класса.</span><span class="sxs-lookup"><span data-stu-id="cfad4-108">The default XAML schema context behavior is not always fully visible in the API of the <xref:System.Xaml.XamlSchemaContext> class.</span></span> <span data-ttu-id="cfad4-109">Однако во многих случаях поведение, которое влияет контекст схемы XAML по умолчанию, можно наблюдать через общий API в системе типов XAML, такие как члены <xref:System.Xaml.XamlMember> или <xref:System.Xaml.XamlType>, или через API-интерфейсы, предоставляемые средствами чтения и записи XAML, которые используют контекст схемы XAML по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cfad4-109">However, in many cases the behavior that the default XAML schema context influences is observable through common API of the XAML type system, such as members of <xref:System.Xaml.XamlMember> or <xref:System.Xaml.XamlType>, or through APIs exposed on XAML readers and XAML writers that are using the default XAML schema context.</span></span>  
  
 <span data-ttu-id="cfad4-110">Можно создать <xref:System.Xaml.XamlSchemaContext> , инкапсулирующий поведение по умолчанию путем вызова <xref:System.Xaml.XamlSchemaContext> конструктор.</span><span class="sxs-lookup"><span data-stu-id="cfad4-110">You can create a <xref:System.Xaml.XamlSchemaContext> that encapsulates the default behavior by calling the <xref:System.Xaml.XamlSchemaContext> constructor.</span></span> <span data-ttu-id="cfad4-111">При этом явно создается контекст схемы XAML по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cfad4-111">This explicitly creates the default XAML schema context.</span></span> <span data-ttu-id="cfad4-112">Этот же контекст схемы XAML по умолчанию создается неявно, если инициализировать средство чтения XAML и средство записи XAML, с помощью API-интерфейсы, не принимающие явным образом <xref:System.Xaml.XamlSchemaContext> входного параметра.</span><span class="sxs-lookup"><span data-stu-id="cfad4-112">The same default XAML schema context is created implicitly, if you initialize a XAML reader or XAML writer using APIs that do not explicitly take a <xref:System.Xaml.XamlSchemaContext> input parameter.</span></span>  
  
 <span data-ttu-id="cfad4-113">Контекст схемы XAML по умолчанию основывается на отражении поведение сопоставления типов среды CLR.</span><span class="sxs-lookup"><span data-stu-id="cfad4-113">The default XAML schema context relies on CLR reflection for its type mapping behavior.</span></span> <span data-ttu-id="cfad4-114">Сюда входит рассмотрение определение CLR <xref:System.Type>, а также связанные <xref:System.Reflection.PropertyInfo> или <xref:System.Reflection.MethodInfo>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-114">This includes examining the defining CLR <xref:System.Type>, and related <xref:System.Reflection.PropertyInfo> or <xref:System.Reflection.MethodInfo>.</span></span> <span data-ttu-id="cfad4-115">Кроме того атрибуты среды CLR на типы или члены используются для заполнения в особенности для типа XAML или элементов XAML, использующий среду CLR резервного типа.</span><span class="sxs-lookup"><span data-stu-id="cfad4-115">Also, CLR attribution on types or members is used in order to fill in the specifics for XAML type or XAML member information that uses the CLR backing type.</span></span> <span data-ttu-id="cfad4-116">Контекст схемы XAML по умолчанию не требует методик расширения системы типов, таких как `Invoker` шаблон, поскольку необходимую информацию можно получить из системы типов среды CLR.</span><span class="sxs-lookup"><span data-stu-id="cfad4-116">The default XAML schema context does not require type system extension techniques such as the `Invoker` pattern, because the necessary information is available from the CLR type system.</span></span>  
  
 <span data-ttu-id="cfad4-117">Логики загрузки сборок контекст схемы XAML по умолчанию полагается главным образом на значения сборок в сопоставления пространства имен XAML.</span><span class="sxs-lookup"><span data-stu-id="cfad4-117">For assembly loading logic, the default XAML schema context relies mainly on any assembly values provided in XAML namespace mappings.</span></span> <span data-ttu-id="cfad4-118">Кроме того <xref:System.Xaml.XamlReaderSettings.LocalAssembly%2A> можно указание сборки для загрузки для сценариев, таких как загрузка внутренних типов.</span><span class="sxs-lookup"><span data-stu-id="cfad4-118">Also, <xref:System.Xaml.XamlReaderSettings.LocalAssembly%2A> can hint an assembly to load, for scenarios such as loading internal types.</span></span>  
  
## <a name="wpf-xaml-schema-context"></a><span data-ttu-id="cfad4-119">Контекст схемы XAML WPF</span><span class="sxs-lookup"><span data-stu-id="cfad4-119">WPF XAML Schema Context</span></span>  
 <span data-ttu-id="cfad4-120">Контекст схемы WPF XAML описан в данном разделе, так как реализация WPF приведена иллюстрация интересных возможностей, которые можно получить путем реализации контекста схемы XAML не по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cfad4-120">The WPF XAML schema context is described in this topic because the WPF implementation provides an interesting illustration of the kinds of features that can be introduced by implementing a non-default XAML schema context.</span></span> <span data-ttu-id="cfad4-121">Кроме того концепции контекста схемы XAML не рассматривается сильно в документации по WPF, который обращается WPF XAML; поведение, которое обеспечивает контекст схемы XAML может быть только полного понимания описание того, как работает контекст схемы XAML по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cfad4-121">Also, the XAML schema context concept is not discussed very much in the WPF documentation that addresses WPF XAML; the behavior that the XAML schema context enables might only be fully understandable if integrated with a discussion of how the default XAML schema context works.</span></span> <span data-ttu-id="cfad4-122">Контекст схемы XAML в WPF реализует следующее поведение.</span><span class="sxs-lookup"><span data-stu-id="cfad4-122">The WPF XAML schema context implements the following behavior.</span></span>  
  
 <span data-ttu-id="cfad4-123">**Переопределяет уточняющего запроса:** WPF имеется несколько моделей содержимого для XAML там, где имеются свойства содержимого XAML, работающие без, <xref:System.Windows.Markup.ContentPropertyAttribute> атрибутами.</span><span class="sxs-lookup"><span data-stu-id="cfad4-123">**Lookup overrides:** WPF has a few content  models for XAML where there are XAML content properties that function without being <xref:System.Windows.Markup.ContentPropertyAttribute> attributed.</span></span> <span data-ttu-id="cfad4-124"><xref:System.Xaml.XamlType.LookupContentProperty%2A> переопределения для WPF реализации этого поведения.</span><span class="sxs-lookup"><span data-stu-id="cfad4-124"><xref:System.Xaml.XamlType.LookupContentProperty%2A> overrides for WPF implement this behavior.</span></span>  
  
 <span data-ttu-id="cfad4-125">**Задержка для выражений WPF:** WPF функции несколько классов выражение, значение отложить, пока не станет доступен контекст среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="cfad4-125">**Deferral for WPF expressions:** WPF features several expression classes that defer a value until a runtime context is available.</span></span> <span data-ttu-id="cfad4-126">Кроме того расширение шаблона — поведение во время выполнения, который основывается на методиках отсрочки.</span><span class="sxs-lookup"><span data-stu-id="cfad4-126">Also, template expansion is a runtime behavior that relies on deferral techniques.</span></span>  
  
 <span data-ttu-id="cfad4-127">**Введите Оптимизация поиска в системе:** WPF располагает широко XAML терминологию и объект модели, включая определения членов базовых классов, наследуемых буквально сотни классов, определенных в WPF.</span><span class="sxs-lookup"><span data-stu-id="cfad4-127">**Type system lookup optimizations:** WPF has an extensive XAML vocabulary and object model, including base class member definitions that inherit to literally hundreds of WPF-defined classes.</span></span> <span data-ttu-id="cfad4-128">Кроме того сам WPF распределены между несколькими сборками.</span><span class="sxs-lookup"><span data-stu-id="cfad4-128">Also, WPF itself is spread across several assemblies.</span></span> <span data-ttu-id="cfad4-129">WPF оптимизирует поиск типов использованию таблиц подстановки и других способов.</span><span class="sxs-lookup"><span data-stu-id="cfad4-129">WPF optimizes its type lookup using lookup tables and other techniques.</span></span> <span data-ttu-id="cfad4-130">Это обеспечивает повышение производительности через контекст схемы XAML по умолчанию и поиск типов, основанных на среде CLR.</span><span class="sxs-lookup"><span data-stu-id="cfad4-130">This provides performance improvements over the default XAML schema context and its CLR-based type lookup.</span></span> <span data-ttu-id="cfad4-131">В случаях, где типы не существуют в таблице подстановки в поведении используются методики контекста схемы XAML, которые похожи на контекст схемы XAML по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="cfad4-131">In cases where types do not exist in a lookup table, the behavior uses XAML schema context techniques that are similar to the default XAML schema context.</span></span>  
  
 <span data-ttu-id="cfad4-132">**Расширение XamlType и XamlMember:** WPF расширяет понятия свойств со свойствами зависимости и основные понятия событий с помощью перенаправленных событий.</span><span class="sxs-lookup"><span data-stu-id="cfad4-132">**XamlType and XamlMember extension:** WPF extends property concepts with dependency properties, and event concepts with routed events.</span></span> <span data-ttu-id="cfad4-133">Чтобы предоставить больше видимость этих концепций для операций обработки XAML, WPF расширяет <xref:System.Xaml.XamlType> и <xref:System.Xaml.XamlMember>и добавляет внутренние свойства, свойство зависимостей отчета и перенаправленные события характеристики.</span><span class="sxs-lookup"><span data-stu-id="cfad4-133">To give these concepts greater visibility for XAML processing operations, WPF extends <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>, and adds internal properties that report dependency property and routed event characteristics.</span></span>  
  
### <a name="accessing-the-wpf-xaml-schema-context"></a><span data-ttu-id="cfad4-134">Доступ к контексту схемы XAML в WPF</span><span class="sxs-lookup"><span data-stu-id="cfad4-134">Accessing the WPF XAML Schema Context</span></span>  
 <span data-ttu-id="cfad4-135">Если вы используете методы XAML, которые основаны на WPF <xref:System.Windows.Markup.XamlReader?displayProperty=nameWithType> или <xref:System.Windows.Markup.XamlWriter?displayProperty=nameWithType>, контекста схемы WPF XAML уже используется на эти средства чтения XAML и реализациях средств записи XAML.</span><span class="sxs-lookup"><span data-stu-id="cfad4-135">If you are using XAML techniques that are based on the WPF <xref:System.Windows.Markup.XamlReader?displayProperty=nameWithType> or <xref:System.Windows.Markup.XamlWriter?displayProperty=nameWithType>, the WPF XAML schema context is already in use on those XAML reader and XAML writer implementations.</span></span>  
  
 <span data-ttu-id="cfad4-136">Если вы используете другие средства чтения XAML и реализациях средств записи XAML, которые не инициализируются с контекстом схемы XAML в WPF, можно получить работающий WPF XAML, контекст схемы из <xref:System.Windows.Markup.XamlReader.GetWpfSchemaContext%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-136">If you are using other XAML reader or XAML writer implementations that do not initialize with the WPF XAML schema context, you may be able to get a working WPF XAML schema context from <xref:System.Windows.Markup.XamlReader.GetWpfSchemaContext%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cfad4-137">Это значение можно затем использовать для других API, использовать инициализации <xref:System.Xaml.XamlSchemaContext>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-137">You can then use this value as initialization for other API that use a <xref:System.Xaml.XamlSchemaContext>.</span></span> <span data-ttu-id="cfad4-138">Например, можно назвать <xref:System.Xaml.XamlXmlReader.%23ctor%2A> для инициализации и передать контекст схемы XAML в WPF.</span><span class="sxs-lookup"><span data-stu-id="cfad4-138">For example, you could call <xref:System.Xaml.XamlXmlReader.%23ctor%2A> for initialization and pass the WPF XAML schema context.</span></span> <span data-ttu-id="cfad4-139">Или можно использовать контекст схемы XAML в WPF для операций с системой типов XAML.</span><span class="sxs-lookup"><span data-stu-id="cfad4-139">Or you could use the WPF XAML schema context for XAML type system operations.</span></span> <span data-ttu-id="cfad4-140">Это может включать инициализацию конструктором <xref:System.Xaml.XamlType> или <xref:System.Xaml.XamlMember>, или вызов <xref:System.Xaml.XamlSchemaContext.GetXamlType%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-140">This might include construction initialization of a <xref:System.Xaml.XamlType> or <xref:System.Xaml.XamlMember>, or calling <xref:System.Xaml.XamlSchemaContext.GetXamlType%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="cfad4-141">Обратите внимание, что при обращении к некоторые аспекты WPF XAML чисто зрения потока узлов XAML некоторые возможности платформы WPF может не еще не задействованы.</span><span class="sxs-lookup"><span data-stu-id="cfad4-141">Note that if you access certain aspects of WPF XAML from a pure XAML node stream perspectives, some of the WPF framework capabilities may not have acted yet.</span></span> <span data-ttu-id="cfad4-142">Например шаблоны WPF для элементов управления еще не применены.</span><span class="sxs-lookup"><span data-stu-id="cfad4-142">For example, WPF templates for controls are not yet applied.</span></span> <span data-ttu-id="cfad4-143">Таким образом при доступе к свойство, которое может быть заполнен полной визуального дерева во время выполнения, могут видеть только значение свойства, ссылающееся на шаблон.</span><span class="sxs-lookup"><span data-stu-id="cfad4-143">Thus if you access a property that at run time might be populated with a full visual tree, you might only see a property value that references a template.</span></span> <span data-ttu-id="cfad4-144">Контекст службы, предоставляемый для расширений разметки WPF может быть не точным, если он предоставляется не во время выполнения и могут привести к исключениям при попытке записи графа объектов.</span><span class="sxs-lookup"><span data-stu-id="cfad4-144">The service context provided for WPF markup extensions might also not be accurate if provided from a non-runtime situation, and can result in exceptions when attempting to write an object graph.</span></span>  
  
## <a name="xaml-and-assembly-loading"></a><span data-ttu-id="cfad4-145">XAML и загрузка сборок</span><span class="sxs-lookup"><span data-stu-id="cfad4-145">XAML and Assembly Loading</span></span>  
 <span data-ttu-id="cfad4-146">Загрузка сборок для XAML и служб XAML .NET Framework интегрируется с понятием определенные CLR <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-146">Assembly loading for XAML and .NET Framework XAML Services integrates with the CLR-defined concept of <xref:System.AppDomain>.</span></span> <span data-ttu-id="cfad4-147">Контекст схемы XAML интерпретирует порядок загрузки сборок, либо поиска типов во время выполнения или во время разработки, основываясь на использование <xref:System.AppDomain> и других факторов.</span><span class="sxs-lookup"><span data-stu-id="cfad4-147">A XAML schema context interprets how to either load assemblies or find types at run time or design time, based on the use of <xref:System.AppDomain> and other factors.</span></span> <span data-ttu-id="cfad4-148">Логика немного отличается в зависимости от того, является ли XAML Свободный XAML для средства чтения XAML, будет скомпилирован в библиотеку DLL с помощью XAML `XamlBuildTask`, или BAML создаваемые WPF `PresentationBuildTask`.</span><span class="sxs-lookup"><span data-stu-id="cfad4-148">The logic is slightly different depending on whether the XAML is loose XAML for a XAML reader, is XAML compiled into a DLL by `XamlBuildTask`, or is BAML generated by WPF's `PresentationBuildTask`.</span></span>  
  
 <span data-ttu-id="cfad4-149">Контекст схемы XAML для WPF интегрируется с моделью приложения WPF, которая в свою очередь использует <xref:System.AppDomain> а также других факторов, которые являются подробностями реализации WPF.</span><span class="sxs-lookup"><span data-stu-id="cfad4-149">The XAML schema context for WPF integrates with the WPF application model, which in turn uses <xref:System.AppDomain> as well as other factors that are WPF implementation details.</span></span>  
  
#### <a name="xaml-reader-input-loose-xaml"></a><span data-ttu-id="cfad4-150">Входные данные средства чтения XAML (Свободный XAML)</span><span class="sxs-lookup"><span data-stu-id="cfad4-150">XAML reader input (loose XAML)</span></span>  
  
1.  <span data-ttu-id="cfad4-151">Контекст схемы XAML проходит по <xref:System.AppDomain> приложения с целью поиска сборки уже загружена, соответствующей всем аспектам имени, начиная с наиболее недавно загруженной сборки.</span><span class="sxs-lookup"><span data-stu-id="cfad4-151">The XAML schema context iterates through the <xref:System.AppDomain> of the application, looking for an already-loaded assembly that matches all aspects of the name, starting from the most recently loaded assembly.</span></span> <span data-ttu-id="cfad4-152">Если найдено совпадение, найденная сборка используется для разрешения.</span><span class="sxs-lookup"><span data-stu-id="cfad4-152">If a match is found, that assembly is used for resolution.</span></span>  
  
2.  <span data-ttu-id="cfad4-153">В противном случае — один из следующих методов на основе CLR <xref:System.Reflection.Assembly> API используются для загрузки сборки:</span><span class="sxs-lookup"><span data-stu-id="cfad4-153">Otherwise, one of the following techniques based on CLR <xref:System.Reflection.Assembly> API are used to load an assembly:</span></span>  
  
    -   <span data-ttu-id="cfad4-154">Если имя определено в сопоставлении, вызовите <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> на полное имя.</span><span class="sxs-lookup"><span data-stu-id="cfad4-154">If the name is qualified in the mapping, call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> on the qualified name.</span></span>  
  
    -   <span data-ttu-id="cfad4-155">Если ранее не удается, используйте короткое имя (и токен открытого ключа при его наличии) для вызова <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-155">If the previous step fails, use the short name (and public key token if present) to call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span></span>  
  
    -   <span data-ttu-id="cfad4-156">Если имя не определено в сопоставлении, вызовите <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-156">If the name is unqualified in the mapping, call <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType>.</span></span>  
  
#### <a name="xamlbuildtask"></a><span data-ttu-id="cfad4-157">XamlBuildTask</span><span class="sxs-lookup"><span data-stu-id="cfad4-157">XamlBuildTask</span></span>  
 <span data-ttu-id="cfad4-158">`XamlBuildTask` используется для [!INCLUDE[vsindigo](../../../includes/vsindigo-md.md)] и Windows Workflow Foundation.</span><span class="sxs-lookup"><span data-stu-id="cfad4-158">`XamlBuildTask` is used for [!INCLUDE[vsindigo](../../../includes/vsindigo-md.md)] and Windows Workflow Foundation.</span></span>  
  
 <span data-ttu-id="cfad4-159">Обратите внимание, что в ссылки на сборку `XamlBuildTask` всегда являются полными.</span><span class="sxs-lookup"><span data-stu-id="cfad4-159">Note that assembly references through `XamlBuildTask` are always fully qualified.</span></span>  
  
1.  <span data-ttu-id="cfad4-160">Вызов <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> на полное имя.</span><span class="sxs-lookup"><span data-stu-id="cfad4-160">Call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> on the qualified name.</span></span>  
  
2.  <span data-ttu-id="cfad4-161">Если ранее не удается, используйте короткое имя (и токен открытого ключа при его наличии) для вызова <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-161">If the previous step fails, use the short name (and public key token if present) to call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span></span>  
  
#### <a name="baml-presentationbuildtask"></a><span data-ttu-id="cfad4-162">BAML (PresentationBuildTask)</span><span class="sxs-lookup"><span data-stu-id="cfad4-162">BAML (PresentationBuildTask)</span></span>  
 <span data-ttu-id="cfad4-163">Существует два аспекта загрузки сборок для BAML: загрузка первоначальной сборки, содержащей BAML как компонент и загрузка сборок резервирования типов для всех типов ссылается производство BAML.</span><span class="sxs-lookup"><span data-stu-id="cfad4-163">There are two aspects to assembly-loading for BAML: loading the initial assembly that contains the BAML as a component, and loading the type-backing assemblies for any types referenced by the BAML production.</span></span>  
  
##### <a name="assembly-load-for-initial-markup"></a><span data-ttu-id="cfad4-164">Загрузка сборок для первоначальной разметки:</span><span class="sxs-lookup"><span data-stu-id="cfad4-164">Assembly load for initial markup:</span></span>  
 <span data-ttu-id="cfad4-165">Ссылку на сборку, подлежащую загрузке разметка из всегда является неполным.</span><span class="sxs-lookup"><span data-stu-id="cfad4-165">The reference to the assembly to load the markup from is always unqualified.</span></span>  
  
1.  <span data-ttu-id="cfad4-166">Контекст схемы WPF XAML перебор <xref:System.AppDomain> приложения WPF с целью поиска сборки уже загружена, соответствующей всем аспектам имени, начиная с наиболее недавно загруженной сборки.</span><span class="sxs-lookup"><span data-stu-id="cfad4-166">The WPF XAML schema context iterates through the <xref:System.AppDomain> of the WPF application, looking for an already-loaded assembly that matches all aspects of the name, starting from the most recently loaded assembly.</span></span> <span data-ttu-id="cfad4-167">Если найдено совпадение, найденная сборка используется для разрешения.</span><span class="sxs-lookup"><span data-stu-id="cfad4-167">If a match is found, that assembly is used for resolution.</span></span>  
  
2.  <span data-ttu-id="cfad4-168">Если ранее не удается, используйте короткое имя (и токен открытого ключа при его наличии) для вызова <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-168">If the previous step fails, use the short name (and public key token if present) to call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span></span>  
  
##### <a name="assembly-references-by-baml-types"></a><span data-ttu-id="cfad4-169">Ссылки на сборки BAML типами:</span><span class="sxs-lookup"><span data-stu-id="cfad4-169">Assembly references by BAML types:</span></span>  
 <span data-ttu-id="cfad4-170">Ссылки на сборки для типов, используемых в производстве BAML, всегда полностью определены, как выходные данные задачи построения.</span><span class="sxs-lookup"><span data-stu-id="cfad4-170">Assembly references for types used in the BAML production are always fully qualified, as an output of the build task.</span></span>  
  
1.  <span data-ttu-id="cfad4-171">Контекст схемы WPF XAML перебор <xref:System.AppDomain> приложения WPF с целью поиска сборки уже загружена, соответствующей всем аспектам имени, начиная с наиболее недавно загруженной сборки.</span><span class="sxs-lookup"><span data-stu-id="cfad4-171">The WPF XAML schema context iterates through the <xref:System.AppDomain> of the WPF application, looking for an already-loaded assembly that matches all aspects of the name, starting from the most recently loaded assembly.</span></span> <span data-ttu-id="cfad4-172">Если найдено совпадение, найденная сборка используется для разрешения.</span><span class="sxs-lookup"><span data-stu-id="cfad4-172">If a match is found, that assembly is used for resolution.</span></span>  
  
2.  <span data-ttu-id="cfad4-173">В противном случае — одно из следующих способов используется для загрузки сборки:</span><span class="sxs-lookup"><span data-stu-id="cfad4-173">Otherwise, one of the following techniques is used to load an assembly:</span></span>  
  
    -   <span data-ttu-id="cfad4-174">Вызов <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> на полное имя.</span><span class="sxs-lookup"><span data-stu-id="cfad4-174">Call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType> on the qualified name.</span></span>  
  
    -   <span data-ttu-id="cfad4-175">Если короткое имя + открытый маркера сочетание клавиш соответствуют сборки, загруженные из BAML, используйте эту сборку.</span><span class="sxs-lookup"><span data-stu-id="cfad4-175">If a short name + public key token combination match the assembly that the BAML was loaded from, use that assembly.</span></span>  
  
    -   <span data-ttu-id="cfad4-176">Используйте короткое имя + токен открытого ключа для вызова <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cfad4-176">Use short name + public key token to call <xref:System.Reflection.Assembly.Load%28System.String%29?displayProperty=nameWithType>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cfad4-177">См. также</span><span class="sxs-lookup"><span data-stu-id="cfad4-177">See Also</span></span>  
 [<span data-ttu-id="cfad4-178">Общее представление о понятиях и структурах потока узлов XAML</span><span class="sxs-lookup"><span data-stu-id="cfad4-178">Understanding XAML Node Stream Structures and Concepts</span></span>](../../../docs/framework/xaml-services/understanding-xaml-node-stream-structures-and-concepts.md)
