---
title: "Переадресация типов в общеязыковой среде CLR | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-bcl"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "сборки [платформа .NET Framework], перенаправление типов"
  - "перенаправление типов"
ms.assetid: 51f8ffa3-c253-4201-a3d3-c4fad85ae097
caps.latest.revision: 7
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 7
---
# Переадресация типов в общеязыковой среде CLR
Переадресация типа позволяет переместить тип в другую сборку без перекомпиляции приложений, использующих исходную сборку.  
  
 Предположим, например, что приложение использует класс `Example` в сборке с именем `Utility.dll`.  Разработчики `Utility.dll` могут решить провести оптимизацию сборки, и в этом процессе они могут переместить класс `Example` в другую сборку.  Если старая версия `Utility.dll` заменяется новой версией `Utility.dll` и ее сопутствующей сборкой, то приложение, использующее класс `Example` получает отказ, поскольку оно не может найти класс `Example` в новой версии `Utility.dll`.  
  
 Разработчики `Utility.dll` могут избежать этого с помощью пересылки запросов для класса `Example`, используя атрибут <xref:System.Runtime.CompilerServices.TypeForwardedToAttribute>.  Если атрибут применяется к новой версии `Utility.dll`, то запросы к классу `Example` направляются на сборку, которая теперь содержит этот класс.  Существующее приложение продолжает функционировать нормально без перекомпиляции.  
  
> [!NOTE]
>  В платформе .NET Framework версии 2.0 типы из сборок, написанных на Visual Basic, не могут быть перенаправлены.  Однако приложение, написанное на Visual Basic, может использовать перенаправленные типы.  А именно, если приложение использует сборку, написанную на C\# или C\+\+, и тип из этой сборки перенаправляется в другую сборку, то Visual Basic приложение может использовать этот перенаправленный тип.  
  
## Пересылка типов  
 Для пересылки типа нужно выполнить четыре шага:  
  
1.  Переместите исходный код для типа из исходной сборки в целевую сборку.  
  
2.  В сборке, в которой раньше находился тип, добавьте <xref:System.Runtime.CompilerServices.TypeForwardedToAttribute> для типа, который был перемещен.  В следующем коде показан атрибут для типа с именем `Example`, который был перемещен.  
  
    ```csharp  
    [assembly:TypeForwardedToAttribute(typeof(Example))]  
    ```  
  
    ```cpp#  
    [assembly:TypeForwardedToAttribute(Example::typeid)]  
    ```  
  
3.  Скомпилируйте сборку, которая сейчас содержит тип.  
  
4.  Перекомпилируйте сборку, в которой раньше находился тип, со ссылкой на сборку, содержащую тип сейчас.  Например, при компиляции файла C\# из командной строки, используйте параметр [\/reference \(Import Metadata\)](../Topic/-reference%20\(C%23%20Compiler%20Options\).md), чтобы указать сборку, содержащую тип.  В C\+\+, используйте директиву [\#using](../Topic/%23using%20Directive%20\(C++\).md) в исходном файле, чтобы указать сборку, содержащую тип.  
  
## См. также  
 <xref:System.Runtime.CompilerServices.TypeForwardedToAttribute>   
 [Перенаправление типов \(C\+\+\/CLI\)](../Topic/Type%20Forwarding%20\(C++-CLI\).md)   
 [Директива \#using](../Topic/%23using%20Directive%20\(C++\).md)