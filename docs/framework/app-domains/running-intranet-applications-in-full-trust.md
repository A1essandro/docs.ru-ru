---
title: Выполнение приложений интранета с полным доверием
ms.date: 03/30/2017
helpviewer_keywords:
- full trust, running intranet applications in
- intranet applications, running in full trust
- running intranet applications in full trust
ms.assetid: ee13c0a8-ab02-49f7-b8fb-9eab16c6c4f0
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: dca1ddd1c7f13dd1ed00d06c30aa7e91acfc43ef
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54554534"
---
# <a name="running-intranet-applications-in-full-trust"></a><span data-ttu-id="acafc-102">Выполнение приложений интранета с полным доверием</span><span class="sxs-lookup"><span data-stu-id="acafc-102">Running Intranet Applications in Full Trust</span></span>
<span data-ttu-id="acafc-103">Начиная с платформы .NET Framework версии 3.5 с пакетом обновления 1 (SP1) приложения и их сборки библиотек можно запускать как сборки с полным доверием из сетевой папки.</span><span class="sxs-lookup"><span data-stu-id="acafc-103">Starting with the .NET Framework version 3.5 Service Pack 1 (SP1), applications and their library assemblies can be run as full-trust assemblies from a network share.</span></span> <span data-ttu-id="acafc-104">В сборки, загружаемые из папки в интрасети, автоматически добавляется свидетельство зоны <xref:System.Security.SecurityZone.MyComputer>.</span><span class="sxs-lookup"><span data-stu-id="acafc-104"><xref:System.Security.SecurityZone.MyComputer> zone evidence is automatically added to assemblies that are loaded from a share on the intranet.</span></span> <span data-ttu-id="acafc-105">Это свидетельство дает таким сборкам тот же набор разрешений (обычно это полное доверие), которым обладают сборки, расположенные на компьютере.</span><span class="sxs-lookup"><span data-stu-id="acafc-105">This evidence gives those assemblies the same grant set (which is typically full trust) as the assemblies that reside on the computer.</span></span> <span data-ttu-id="acafc-106">Эта функция не относится к приложениям ClickOnce и к приложениям, предназначенным для запуска на узле.</span><span class="sxs-lookup"><span data-stu-id="acafc-106">This functionality does not apply to ClickOnce applications or to applications that are designed to run on a host.</span></span>  
  
## <a name="rules-for-library-assemblies"></a><span data-ttu-id="acafc-107">Правила для сборок библиотек</span><span class="sxs-lookup"><span data-stu-id="acafc-107">Rules for Library Assemblies</span></span>  
 <span data-ttu-id="acafc-108">Указанные ниже правила применяются к сборкам, которые загружаются исполняемым файлом в сетевой папке.</span><span class="sxs-lookup"><span data-stu-id="acafc-108">The following rules apply to assemblies that are loaded by an executable on a network share:</span></span>  
  
-   <span data-ttu-id="acafc-109">Сборки библиотек должны располагаться в той же папке, что и исполняемая сборка.</span><span class="sxs-lookup"><span data-stu-id="acafc-109">Library assemblies must reside in the same folder as the executable assembly.</span></span> <span data-ttu-id="acafc-110">Сборки, расположенные во вложенной папке или в другой папке, не получают полного доверия.</span><span class="sxs-lookup"><span data-stu-id="acafc-110">Assemblies that reside in a subfolder or are referenced on a different path are not given the full-trust grant set.</span></span>  
  
-   <span data-ttu-id="acafc-111">Если исполняемый файл загружает сборку с задержкой, то должен использоваться путь, с помощью которого запускался исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="acafc-111">If the executable delay-loads an assembly, it must use the same path that was used to start the executable.</span></span> <span data-ttu-id="acafc-112">Например, если папка \\\\*сетевой_компьютер*\\*папка* сопоставлена с буквой диска и исполняемый файл был запущен по этому пути, сборки, загружаемые исполняемым файлом с использованием сетевого пути, не получат полного доверия.</span><span class="sxs-lookup"><span data-stu-id="acafc-112">For example, if the share \\\\*network-computer*\\*share* is mapped to a drive letter and the executable is run from that path, assemblies that are loaded by the executable by using the network path will not be granted full trust.</span></span> <span data-ttu-id="acafc-113">Для загрузки сборки с задержкой в зоне <xref:System.Security.SecurityZone.MyComputer> исполняемый файл должен использовать путь с буквой диска.</span><span class="sxs-lookup"><span data-stu-id="acafc-113">To delay-load an assembly in the <xref:System.Security.SecurityZone.MyComputer> zone, the executable must use the drive letter path.</span></span>  
  
## <a name="restoring-the-former-intranet-policy"></a><span data-ttu-id="acafc-114">Восстановление старой политики интрасети</span><span class="sxs-lookup"><span data-stu-id="acafc-114">Restoring the Former Intranet Policy</span></span>  
 <span data-ttu-id="acafc-115">В более ранних версиях .NET Framework общие сборки получали свидетельство зоны <xref:System.Security.SecurityZone.Intranet>.</span><span class="sxs-lookup"><span data-stu-id="acafc-115">In earlier versions of the .NET Framework, shared assemblies were granted <xref:System.Security.SecurityZone.Intranet> zone evidence.</span></span> <span data-ttu-id="acafc-116">Для предоставления сборке из сетевой папки полного доверия нужно было указывать политику управления доступом для кода.</span><span class="sxs-lookup"><span data-stu-id="acafc-116">You had to specify code access security policy to grant full trust to an assembly on a share.</span></span>  
  
 <span data-ttu-id="acafc-117">Новый режим по умолчанию применяется к сборкам из интрасети.</span><span class="sxs-lookup"><span data-stu-id="acafc-117">This new behavior is the default for intranet assemblies.</span></span> <span data-ttu-id="acafc-118">Чтобы восстановить старый режим выдачи свидетельства <xref:System.Security.SecurityZone.Intranet>, необходимо задать параметр реестра, который относится ко всем приложениям на компьютере.</span><span class="sxs-lookup"><span data-stu-id="acafc-118">You can return to the earlier behavior of providing <xref:System.Security.SecurityZone.Intranet> evidence by setting a registry key that applies to all applications on the computer.</span></span> <span data-ttu-id="acafc-119">Эта процедура различается для 32- и 64-разрядных компьютеров.</span><span class="sxs-lookup"><span data-stu-id="acafc-119">This process is different for 32-bit and 64-bit computers:</span></span>  
  
-   <span data-ttu-id="acafc-120">На 32-разрядных компьютерах создайте подраздел в разделе HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework системного реестра.</span><span class="sxs-lookup"><span data-stu-id="acafc-120">On 32-bit computers, create a subkey under the HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework key in the system registry.</span></span> <span data-ttu-id="acafc-121">Используйте имя параметра LegacyMyComputerZone и значение 1 типа DWORD.</span><span class="sxs-lookup"><span data-stu-id="acafc-121">Use the key name LegacyMyComputerZone with a DWORD value of 1.</span></span>  
  
-   <span data-ttu-id="acafc-122">На 64-разрядных компьютерах создайте подраздел в разделе HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework системного реестра.</span><span class="sxs-lookup"><span data-stu-id="acafc-122">On 64-bit computers, create a subkey under the HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework key in the system registry.</span></span> <span data-ttu-id="acafc-123">Используйте имя параметра LegacyMyComputerZone и значение 1 типа DWORD.</span><span class="sxs-lookup"><span data-stu-id="acafc-123">Use the key name LegacyMyComputerZone with a DWORD value of 1.</span></span> <span data-ttu-id="acafc-124">Создайте аналогичный подраздел в разделе HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\\.NETFramework.</span><span class="sxs-lookup"><span data-stu-id="acafc-124">Create the same subkey under the HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\\.NETFramework key.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="acafc-125">См. также</span><span class="sxs-lookup"><span data-stu-id="acafc-125">See also</span></span>
- [<span data-ttu-id="acafc-126">Программирование с использованием сборок</span><span class="sxs-lookup"><span data-stu-id="acafc-126">Programming with Assemblies</span></span>](../../../docs/framework/app-domains/programming-with-assemblies.md)
