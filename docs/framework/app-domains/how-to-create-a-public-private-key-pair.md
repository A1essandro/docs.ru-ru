---
title: "Практическое руководство. Создание пары открытого и закрытого ключей | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-bcl"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "пары ключей для сборок со строгими именами"
  - "подписывание сборок"
  - "сборки [платформа .NET Framework], подписывание"
  - "пары криптографических ключей"
  - "snk - файлы (файлы пар ключей)"
  - "пара с открытым и закрытым ключами"
  - "SNK-файлы"
  - "сборки со строгими именами, пары ключей"
ms.assetid: 05026813-f3bd-4d7c-9e0b-fc588eb3d114
caps.latest.revision: 16
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 14
---
# Практическое руководство. Создание пары открытого и закрытого ключей
Для подписи сборки строгим именем необходимо иметь пару ключей — открытый и закрытый.  Эта пара открытого и закрытого ключей шифрования используется в процессе компиляции для создания сборки со строгим именем.  Пару ключей можно создать с использованием [средства для работы со строгими именами \(Sn.exe\)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).  Файлы пары ключей обычно имеют расширение SNK.  
  
> [!NOTE]
>  В [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] страницы свойств проектов на C\# и Visual Basic содержат вкладку **Подпись**, где можно выбрать существующие файлы ключей или создать новые файлы ключей, не используя программу Sn.exe.  В Visual C\+\+ можно указать расположение уже существующего файла ключа на странице свойств **Дополнительно** подраздела **Компоновщик** в разделе **Свойства конфигурации** окна **Страницы свойств**.  Использование атрибута <xref:System.Reflection.AssemblyKeyFileAttribute> для идентификации файлов пары ключей, начиная с [!INCLUDE[vsprvslong](../../../includes/vsprvslong-md.md)], было признано устаревшим.  
  
### Создание пары ключей  
  
1.  В командной строке введите следующую команду:  
  
     **sn –k** \<*имя файла*\>  
  
     В этой команде *имя файла* — имя выходного файла, содержащего пару ключей.  
  
 В следующем примере создается пара ключей с именем `sgKey.snk`.  
  
```  
sn -k sgKey.snk  
```  
  
 Если необходима отложенная подпись сборки и имеется контроль над всей парой ключей \(а это вероятно только в сценариях проверки\), для создания пары ключей и получения из нее открытого ключа для записи его в отдельный файл можно использовать следующие команды.  Сначала создается пара ключей:  
  
```  
sn -k keypair.snk  
```  
  
-   Затем выполняется извлечение открытого ключа из пары и копирование его в отдельный файл:  
  
```  
sn -p keypair.snk public.snk  
```  
  
-   После создания пары ключей необходимо поместить файл туда, где его смогут найти средства подписи строгого имени.  
  
 При подписи сборки строгим именем, [компоновщик сборок \(Al.exe\)](../../../docs/framework/tools/al-exe-assembly-linker.md) выполняет поиск файла ключа относительно текущей и выходной папки.  При использовании компиляторов, работающих в режиме командной строки, достаточно просто скопировать ключ в текущий каталог, содержащий модули кода.  
  
 При использовании более ранней версии [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], в свойствах проекта которой нет вкладки **Подпись**, рекомендуемым расположением файла ключа является каталог проекта с атрибутом файла, заданным следующим образом:  
  
 [!code-cpp[AssemblyName_KeyPair#21](../../../samples/snippets/cpp/VS_Snippets_CLR/AssemblyName_KeyPair/CPP/keyfileattrib.cpp#21)]
 [!code-csharp[AssemblyName_KeyPair#21](../../../samples/snippets/csharp/VS_Snippets_CLR/AssemblyName_KeyPair/CS/keyfileattrib.cs#21)]
 [!code-vb[AssemblyName_KeyPair#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AssemblyName_KeyPair/VB/keyfileattrib.vb#21)]  
  
## См. также  
 [Создание и использование сборок со строгими именами](../../../docs/framework/app-domains/create-and-use-strong-named-assemblies.md)