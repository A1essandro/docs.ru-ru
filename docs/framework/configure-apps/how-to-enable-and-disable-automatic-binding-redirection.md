---
title: Практическое руководство. Включение и отключение автоматического перенаправления привязки
ms.date: 09/12/2018
helpviewer_keywords:
- side-by-side execution, assembly binding redirection
- assemblies [.NET Framework], binding redirection
ms.assetid: 5fca42f3-bdce-4b81-a704-61e42c89d3ba
author: mcleblanc
ms.author: markl
manager: markl
ms.openlocfilehash: cf38bd753127e40c61512411c7aa2ebbbd7687db
ms.sourcegitcommit: 5bbfe34a9a14e4ccb22367e57b57585c208cf757
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/17/2018
ms.locfileid: "45746931"
---
# <a name="how-to-enable-and-disable-automatic-binding-redirection"></a>Практическое руководство. Включение и отключение автоматического перенаправления привязки

При компиляции приложения в Visual Studio, предназначенных [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] и более поздних версиях перенаправление привязки могут быть автоматически добавлены в файл конфигурации приложения для переопределения унификации сборок. Переадресации привязок добавляются, если приложение или его компоненты ссылаются на несколько версий одной сборки, даже если вручную указать переадресации привязок в файле конфигурации приложения. Возможность автоматической переадресации привязки затрагивает Классические приложения и веб-приложения, предназначенные [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] или более поздней версии, несмотря на то, что поведение несколько отличается для веб-приложения. Автоматическую переадресацию привязки можно включить при наличии существующих приложений, нацеленных на предыдущие версии .NET Framework; также можно отключить эту возможность, если требуется сохранить созданные вручную переадресации привязок.

## <a name="disable-automatic-binding-redirects-in-desktop-apps"></a>Отключить автоматические переадресации привязок в классических приложениях

Автоматические переадресации привязки включены по умолчанию для классических приложений, нацеленных на [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] и более позних версий. Переадресации привязок добавляются в выходной файл конфигурации (app.config), когда приложение компилируется и переопределяет унификацию сборок, которая может произойти в противном случае. Исходный файл app.config не изменяется. Для отключения этой возможности необходимо внести изменения в файл проекта для приложения.

1. Откройте файл проекта для редактирования с помощью одного из следующих методов:

   - В Visual Studio выберите проект в **обозревателе решений**, а затем выберите **открыть папку в проводнике** в контекстном меню. В проводнике найдите файл проекта (CSPROJ или VBPROJ) и откройте его в блокноте.
   - В Visual Studio в **обозревателе решений**, щелкните правой кнопкой мыши проект и выберите пункт **выгрузить проект**. Щелкните правой кнопкой мыши выгруженного проекта, а затем выберите **изменить [projectname.csproj]**.

2. Найдите в файле проекта следующую запись свойства:

   ```xml
   <AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>
   ```

3. Измените `true` на `false`:

   ```xml
   <AutoGenerateBindingRedirects>false</AutoGenerateBindingRedirects>
   ```

## <a name="enable-automatic-binding-redirects-manually"></a>Вручную включить автоматические переадресации привязок

Вы можете включить автоматические переадресации привязок в существующих приложениях, целевой объект более старые версии платформы .NET Framework, а также в случаях, где вам будет предложено автоматически Добавление переадресации. Если целевой платформой является более новой версии платформы, но не получаю автоматически запрос на добавление переадресации, скорее всего появится выходные данные сборки, пересопоставить сборки.

1. Откройте файл проекта для редактирования с помощью одного из следующих методов:

   - В Visual Studio выберите проект в **обозревателе решений**, а затем выберите **открыть папку в проводнике** в контекстном меню. В проводнике найдите файл проекта (CSPROJ или VBPROJ) и откройте его в блокноте.
   - В Visual Studio в **обозревателе решений**, щелкните правой кнопкой мыши проект и выберите пункт **выгрузить проект**. Щелкните правой кнопкой мыши выгруженного проекта, а затем выберите **изменить [projectname.csproj]**.

2. Добавьте следующий элемент в первую группу свойств конфигурации (в разделе \<PropertyGroup > тег):

   ```xml
   <AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>
   ```

   Ниже показан пример файла проекта со вставленным элементом:

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
     <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
       <PropertyGroup>
         <Configuration Condition=" '$(Configuration)' == ''     ">Debug</Configuration>
         <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
         <ProjectGuid>{123334}</ProjectGuid>
         ...
         <AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>
       </PropertyGroup>
     ...
   </Project>
   ```

3. Скомпилируйте приложение.

## <a name="enable-automatic-binding-redirects-in-web-apps"></a>Включить автоматические переадресации привязок в веб-приложениях

Для веб-приложений автоматические переадресации привязок реализованы иным образом. Поскольку в исходный файл конфигурации (web.config) для веб-приложений должны вноситься изменения, переадресации привязки не добавляются в файл конфигурации автоматически. Однако Visual Studio уведомляет вас о конфликтах привязки, и вы можете добавлять переадресации привязок для разрешения конфликтов. Так как всегда, будет предложено добавить переадресации привязок, не нужно явно отключить эту функцию для веб-приложения.

Добавление переадресаций привязок в файл web.config:

1. В Visual Studio скомпилируйте приложение и проверьте его на наличие предупреждений сборки.

   ![Предупреждение сборки для конфликтов ссылок сборок](../../../docs/framework/configure-apps/media/clr-assemblyrefwarning.png "CLR_AssemblyRefWarning")

2. При наличии конфликтов привязки сборок выводится предупреждение. Дважды щелкните предупреждение, или выберите предупреждение и нажмите клавишу **ввод**.

   Откроется диалоговое окно, которое позволяет автоматически добавить необходимые переадресации привязки в исходный файл web.config.

   ![Диалоговое окно разрешений для перенаправления привязки](../../../docs/framework/configure-apps/media/clr-addbindingredirect.png "CLR_AddBindingRedirect")

## <a name="see-also"></a>См. также

- [\<bindingRedirect > элемент](../../../docs/framework/configure-apps/file-schema/runtime/bindingredirect-element.md)
- [Перенаправление версий сборки](../../../docs/framework/configure-apps/redirect-assembly-versions.md)
