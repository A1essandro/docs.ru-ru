---
title: "&lt;useLegacyJit&gt; элемент"
ms.custom: 
ms.date: 04/26/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-bcl
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c2cf97f0-9262-4f1f-a754-5568b51110ad
caps.latest.revision: "4"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 9d2a71e44db2d6e85ae730f4603bf191f54525c2
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="ltuselegacyjitgt-element"></a>&lt;useLegacyJit&gt; элемент

Определяет, использует ли среда CLR устаревший 64-разрядный JIT-компилятор для JIT-компиляции.  
  
\<configuration>  
\<Среда выполнения >  
\<useLegacyJit >
  
## <a name="syntax"></a>Синтаксис  
  
```xml
<useLegacyJit enabled=0|1 />
```

Имя элемента `useLegacyJit` учитывается регистр.
  
## <a name="attributes-and-elements"></a>Элементы и атрибуты

В следующих разделах описаны атрибуты, дочерние и родительские элементы.  
  
### <a name="attributes"></a>Атрибуты  
  
| Атрибут | Описание                                                                                   |  
| --------- | --------------------------------------------------------------------------------------------- |  
| `enabled` | Обязательный атрибут.<br><br>Указывает, использует ли среда выполнения устаревших 64-разрядный компилятор JIT. |  
  
### <a name="enabled-attribute"></a>атрибут Enabled  
  
| Значение | Описание                                                                                                         |  
| ----- | ------------------------------------------------------------------------------------------------------------------- |  
| 0     | Общеязыковая среда выполнения использует новый 64-разрядных JIT-компилятор, включенные в .NET Framework 4.6 и более поздних версиях. |  
| 1     | Общеязыковая среда выполнения использует старую 64-разрядный компилятор JIT.                                                     |  
  
### <a name="child-elements"></a>Дочерние элементы

Нет
  
### <a name="parent-elements"></a>Родительские элементы  
  
| Элемент         | Описание                                                                                                       |  
| --------------- | ----------------------------------------------------------------------------------------------------------------- |  
| `configuration` | Корневой элемент в любом файле конфигурации, используемом средой CLR и приложениями .NET Framework. |  
| `runtime`       | Содержит сведения о параметрах инициализации среды выполнения.                                                        |  
  
## <a name="remarks"></a>Примечания  

Начиная с .NET Framework 4.6, общеязыковая среда выполнения использует новый 64-разрядный компилятор JIT – JIT-компиляции по умолчанию. В некоторых случаях это может привести различие в поведении из кода приложения, который был скомпилирован JIT предыдущей версии 64-разрядный компилятор JIT. Установив `enabled` атрибут `<useLegacyJit>` элемент `1`, можно отключить новый 64-разрядный компилятор JIT и вместо этого компиляции приложения с помощью прежних версий 64-разрядный компилятор JIT.  
  
> [!NOTE]
> `<useLegacyJit>` Элемента влияет на 64-разрядного JIT-компиляции. Компиляция с 32-разрядный компилятор JIT не влияет.  
  
Вместо того чтобы использовать параметр файла конфигурации, можно включить устаревший 64-разрядный компилятор JIT двумя способами:  
  
- Задание переменной среды

  Задать `COMPLUS_useLegacyJit` переменной среды, либо `0` (используйте новый 64-разрядный компилятор JIT) или `1` (использовать старые 64-разрядный компилятор JIT):
  
  ```  
  COMPLUS_useLegacyJit=0|1  
  ```  
  
  Переменная среды содержит *глобальной области*, что означает, что он влияет на все приложения выполняются на компьютере. Если задано, оно может быть переопределено параметр файла конфигурации приложения. Имя переменной среды не учитывает регистр.
  
- Добавление раздела реестра

  Прежних версий 64-разрядный компилятор JIT можно включить, добавив `REG_DWORD` значение либо `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework` или `HKEY_CURRENT_USER\SOFTWARE\Microsoft\.NETFramework` ключа в реестре. Значение называется `useLegacyJit`. Если значение равно 0, используется новый компилятор. Если значение равно 1, устаревших 64-разрядный компилятор JIT включен. Имя значения реестра не учитывает регистр.
  
  Добавление значения в `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework` ключ затрагивает все приложения, запущенного на компьютере. Добавление значения в `HKEY_CURRENT_USER\SOFTWARE\Microsoft\.NETFramework` ключ затрагивает все приложения, выполнить от текущего пользователя. Если компьютер настроен с несколькими учетными записями, затрагиваются только приложений, выполните для текущего пользователя, если только значение добавляется к разделам реестра для других пользователей, а также. Добавление `<useLegacyJit>` в файле конфигурации переопределяет параметры реестра, если они присутствуют.  
  
## <a name="example"></a>Пример  

В следующем файле конфигурации отключает компиляцию с помощью нового 64-разрядный компилятор JIT и вместо этого использует устаревших 64-разрядный компилятор JIT.  
  
```xml  
<?xml version ="1.0"?>  
<configuration>  
  <runtime>  
    <useLegacyJit enabled="1" />  
  </runtime>  
</configuration>  
```  
  
## <a name="see-also"></a>См. также

[\<Среда выполнения > элемент](../../../../../docs/framework/configure-apps/file-schema/runtime/runtime-element.md)   
[\<Конфигурация > элемент](../../../../../docs/framework/configure-apps/file-schema/configuration-element.md)   
[Устранение рисков. Новый 64-разрядный JIT-компилятор](../../../../../docs/framework/migration-guide/mitigation-new-64-bit-jit-compiler.md)
