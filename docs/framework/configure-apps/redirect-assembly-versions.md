---
title: Перенаправление версий сборки
ms.date: 03/30/2017
helpviewer_keywords:
- assembly binding, redirection
- redirecting assembly binding to earlier version
- configuration [.NET Framework], applications
- application configuration [.NET Framework]
- assemblies [.NET Framework], binding redirection
ms.assetid: 88fb1a17-6ac9-4b57-8028-193aec1f727c
author: mcleblanc
ms.author: markl
manager: markl
ms.openlocfilehash: aad369b35837089d05f5d7517e023671f0178011
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2018
ms.locfileid: "43507808"
---
# <a name="redirecting-assembly-versions"></a><span data-ttu-id="690f7-102">Перенаправление версий сборки</span><span class="sxs-lookup"><span data-stu-id="690f7-102">Redirecting Assembly Versions</span></span>
<span data-ttu-id="690f7-103">Вы можете перенаправлять привязанные во время компиляции ссылки на сборки .NET Framework, сторонние сборки или сборки вашего собственного приложения.</span><span class="sxs-lookup"><span data-stu-id="690f7-103">You can redirect compile-time binding references to .NET Framework assemblies, third-party assemblies, or your own app's assemblies.</span></span> <span data-ttu-id="690f7-104">Вы можете перенаправлять свое приложение, чтобы оно использовало другую версию сборки, несколькими способами: через политику издателя, с помощью файла конфигурации приложения или с помощью файла конфигурации компьютера.</span><span class="sxs-lookup"><span data-stu-id="690f7-104">You can redirect your app to use a different version of an assembly in a number of ways: through publisher policy, through an app configuration file; or through the machine configuration file.</span></span> <span data-ttu-id="690f7-105">В этой статье показывается, как привязка сборок работает в .NET Framework и как ее можно настроить.</span><span class="sxs-lookup"><span data-stu-id="690f7-105">This article discusses how assembly binding works in the .NET Framework and how it can be configured.</span></span>  
  
<a name="BKMK_Assemblyunificationanddefaultbinding"></a>   
## <a name="assembly-unification-and-default-binding"></a><span data-ttu-id="690f7-106">Унификация сборок и привязка по умолчанию</span><span class="sxs-lookup"><span data-stu-id="690f7-106">Assembly unification and default binding</span></span>  
 <span data-ttu-id="690f7-107">Привязки к сборкам .NET Framework иногда перенаправляются в ходе процесса, называемого *унификацией сборок*.</span><span class="sxs-lookup"><span data-stu-id="690f7-107">Bindings to .NET Framework assemblies are sometimes redirected through a process called *assembly unification*.</span></span> <span data-ttu-id="690f7-108">.NET Framework включает версию среды CLR и около двадцати сборок .NET Framework, входящих в состав библиотеки типов.</span><span class="sxs-lookup"><span data-stu-id="690f7-108">The .NET Framework consists of a version of the common language runtime and about two dozen .NET Framework assemblies that make up the type library.</span></span> <span data-ttu-id="690f7-109">Эти сборки .NET Framework рассматриваются средой выполнения как единый блок.</span><span class="sxs-lookup"><span data-stu-id="690f7-109">These .NET Framework assemblies are treated by the runtime as a single unit.</span></span> <span data-ttu-id="690f7-110">По умолчанию при запуске приложения все ссылки на типы в коде, выполняемом средой выполнения, направляются в сборки .NET Framework, которые имеют тот же номер версии, что и среда выполнения, которая загружается в процессе.</span><span class="sxs-lookup"><span data-stu-id="690f7-110">By default, when an app is launched, all references to types in code run by the runtime are directed to .NET Framework assemblies that have the same version number as the runtime that is loaded in a process.</span></span> <span data-ttu-id="690f7-111">Перенаправления, которые реализуются в этой модели, — это поведение по умолчанию для среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="690f7-111">The redirections that occur with this model are the default behavior for the runtime.</span></span>  
  
 <span data-ttu-id="690f7-112">Например, если ваше приложение ссылается на типы в пространстве имен System.XML и было собрано с помощью [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], то оно содержит статические ссылки на сборку System.XML, которая поставляется вместе со средой выполнения версии 4.5.</span><span class="sxs-lookup"><span data-stu-id="690f7-112">For example, if your app references types in the System.XML namespace and was built by using the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], it contains static references to the System.XML assembly that ships with runtime version 4.5.</span></span> <span data-ttu-id="690f7-113">Если вы хотите перенаправить привязанную ссылку, чтобы она указывала на сборку System.XML, поставляемую вместе с .NET Framework 4, можно поместить сведения о перенаправлении в файл конфигурации приложения.</span><span class="sxs-lookup"><span data-stu-id="690f7-113">If you want to redirect the binding reference to point to the System.XML assembly that ship with the .NET Framework 4, you can put redirect information in the app configuration file.</span></span> <span data-ttu-id="690f7-114">Перенаправление привязки в файле конфигурации для унифицированной сборки .NET Framework отменяет унификацию для этой сборки.</span><span class="sxs-lookup"><span data-stu-id="690f7-114">A binding redirection in a configuration file for a unified .NET Framework assembly cancels the unification for that assembly.</span></span>  
  
 <span data-ttu-id="690f7-115">Кроме того, может потребоваться вручную перенаправить привязку для сборок сторонних производителей, если имеется несколько доступных версий.</span><span class="sxs-lookup"><span data-stu-id="690f7-115">In addition, you may want to manually redirect assembly binding for third-party assemblies if there are multiple versions available.</span></span>  
  
<a name="BKMK_Redirectingassemblyversionsbyusingpublisherpolicy"></a>   
## <a name="redirecting-assembly-versions-by-using-publisher-policy"></a><span data-ttu-id="690f7-116">Перенаправление версий сборок с помощью политики издателя</span><span class="sxs-lookup"><span data-stu-id="690f7-116">Redirecting assembly versions by using publisher policy</span></span>  
 <span data-ttu-id="690f7-117">Поставщики сборок могут направлять приложения в более новую версию сборки, включая файл политики издателя с новой сборкой.</span><span class="sxs-lookup"><span data-stu-id="690f7-117">Vendors of assemblies can direct apps to a newer version of an assembly by including a publisher policy file with the new assembly.</span></span> <span data-ttu-id="690f7-118">Файл политики издателя, который находится в глобальном кэше сборок, содержит параметры перенаправления сборок.</span><span class="sxs-lookup"><span data-stu-id="690f7-118">The publisher policy file, which is located in the global assembly cache, contains assembly redirection settings.</span></span>  
  
 <span data-ttu-id="690f7-119">Каждая версия *основной_номер*.*дополнительный_номер* сборки имеет свой собственный файл политики издателя.</span><span class="sxs-lookup"><span data-stu-id="690f7-119">Each *major*.*minor* version of an assembly has its own publisher policy file.</span></span> <span data-ttu-id="690f7-120">Например, перенаправления от версии 2.0.2.222 к версии 2.0.3.000 и от версии 2.0.2.321 к версии 2.0.3.000 приводят к тому же файлу, поскольку они связаны с версией 2.0.</span><span class="sxs-lookup"><span data-stu-id="690f7-120">For example, redirections from version 2.0.2.222 to 2.0.3.000 and from version 2.0.2.321 to version 2.0.3.000 both go into the same file, because they are associated with version 2.0.</span></span> <span data-ttu-id="690f7-121">Однако перенаправление от версии 3.0.0.999 к версии 4.0.0.000 приводит к файлу для версии 3.0.999.</span><span class="sxs-lookup"><span data-stu-id="690f7-121">However, a redirection from version 3.0.0.999 to version 4.0.0.000 goes into the file for version 3.0.999.</span></span> <span data-ttu-id="690f7-122">Каждая основная версия сборки .NET Framework имеет свой собственный файл политики издателя.</span><span class="sxs-lookup"><span data-stu-id="690f7-122">Each major version of the .NET Framework has its own publisher policy file.</span></span>  
  
 <span data-ttu-id="690f7-123">Если для сборки существует файл политики издателя, среда выполнения проверяет этот файл после проверки файла конфигурации приложения и манифеста сборки.</span><span class="sxs-lookup"><span data-stu-id="690f7-123">If a publisher policy file exists for an assembly, the runtime checks this file after checking the assembly's manifest and app configuration file.</span></span> <span data-ttu-id="690f7-124">Поставщики должны использовать файлы политики издателя только в том случае, если новая сборка имеет обратную совместимость с перенаправляемой сборкой.</span><span class="sxs-lookup"><span data-stu-id="690f7-124">Vendors should use publisher policy files only when the new assembly is backward compatible with the assembly being redirected.</span></span>  
  
 <span data-ttu-id="690f7-125">Вы можете обойти политику издателя для своего приложения, задав параметры в файле конфигурации приложения, как описано в разделе [Обход политики издателя](#bypass_PP).</span><span class="sxs-lookup"><span data-stu-id="690f7-125">You can bypass publisher policy for your app by specifying settings in the app configuration file, as discussed in the [Bypassing publisher policy section](#bypass_PP).</span></span>  
  
<a name="BKMK_Redirectingassemblyversionsattheapplevel"></a>   
## <a name="redirecting-assembly-versions-at-the-app-level"></a><span data-ttu-id="690f7-126">Перенаправление версий сборки на уровне приложения</span><span class="sxs-lookup"><span data-stu-id="690f7-126">Redirecting assembly versions at the app level</span></span>  
 <span data-ttu-id="690f7-127">Существует несколько разных методов изменения поведения привязки для вашего приложения с помощью файла конфигурации приложения: можно вручную изменить этот файл, или положиться на автоматическое перенаправление привязки, или указать поведение привязки путем обхода политики издателя.</span><span class="sxs-lookup"><span data-stu-id="690f7-127">There are a few different techniques for changing the binding behavior for your app through the app configuration file: you can manually edit the file, you can rely on automatic binding redirection, or you can specify binding behavior by bypassing publisher policy.</span></span>  
  
### <a name="manually-editing-the-app-config-file"></a><span data-ttu-id="690f7-128">Изменение файла конфигурации приложения вручную</span><span class="sxs-lookup"><span data-stu-id="690f7-128">Manually editing the app config file</span></span>  
 <span data-ttu-id="690f7-129">Вы можете вручную изменить файл конфигурации приложения для решения проблем со сборкой.</span><span class="sxs-lookup"><span data-stu-id="690f7-129">You can manually edit the app configuration file to resolve assembly issues.</span></span> <span data-ttu-id="690f7-130">Например, если поставщик выпускает более новую версию сборки, которую ваше приложение использует без указания политики издателя, так как он не гарантирует обратной совместимости, можно направить приложение на использование новой версии сборки, поместив сведения о привязке сборки в файл конфигурации приложения следующим образом.</span><span class="sxs-lookup"><span data-stu-id="690f7-130">For example, if a vendor might release a newer version of an assembly that your app uses without supplying a publisher policy, because they do not guarantee backward compatibility, you can direct your app to use the newer version of the assembly by putting assembly binding information in your app's configuration file as follows.</span></span>  
  
```xml  
<dependentAssembly>  
  <assemblyIdentity name="someAssembly"  
    publicKeyToken="32ab4ba45e0a69a1"  
    culture="en-us" />  
  <bindingRedirect oldVersion="7.0.0.0" newVersion="8.0.0.0" />  
</dependentAssembly>  
```  
  
### <a name="relying-on-automatic-binding-redirection"></a><span data-ttu-id="690f7-131">Автоматическое перенаправление привязки</span><span class="sxs-lookup"><span data-stu-id="690f7-131">Relying on automatic binding redirection</span></span>  
 <span data-ttu-id="690f7-132">Начиная с [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)]новые классические приложения, предназначенные для [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] , используют автоматическое перенаправление привязки.</span><span class="sxs-lookup"><span data-stu-id="690f7-132">Starting with [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)], new desktop apps that target the [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] use automatic binding redirection.</span></span> <span data-ttu-id="690f7-133">Это означает, что если два компонента ссылаются на разные версии одной сборки со строгим именем, среда выполнения автоматически добавляет в выходной файл конфигурации приложения (app.config) перенаправление привязки в новую версию сборки.</span><span class="sxs-lookup"><span data-stu-id="690f7-133">This means that if two components reference different versions of the same strong-named assembly, the runtime automatically adds a binding redirection to the newer version of the assembly in the output app configuration (app.config) file.</span></span> <span data-ttu-id="690f7-134">Это перенаправление переопределяет унификацию сборок, которая может происходить в противном случае.</span><span class="sxs-lookup"><span data-stu-id="690f7-134">This redirection overrides the assembly unification that might otherwise take place.</span></span> <span data-ttu-id="690f7-135">Исходный файл app.config не изменяется.</span><span class="sxs-lookup"><span data-stu-id="690f7-135">The source app.config file is not modified.</span></span> <span data-ttu-id="690f7-136">Например, предположим, что приложение непосредственно ссылается на компонент .NET Framework вне потока, но использует стороннюю библиотеку, которая нацелена на более старую версию того же компонента.</span><span class="sxs-lookup"><span data-stu-id="690f7-136">For example, let's say that your app directly references an out-of-band .NET Framework component but uses a third-party library that targets an older version of the same component.</span></span> <span data-ttu-id="690f7-137">При компиляции приложения выходной файл конфигурации приложения изменяется, и в него включается перенаправление привязки в новую версию компонента.</span><span class="sxs-lookup"><span data-stu-id="690f7-137">When you compile the app, the output app configuration file is modified to contain a binding redirection to the newer version of the component.</span></span> <span data-ttu-id="690f7-138">Если вы создаете веб-приложение, то получите предупреждение о конфликте привязки, которое в свою очередь дает вам возможность добавить необходимое перенаправление привязки в исходный файл веб-конфигурации.</span><span class="sxs-lookup"><span data-stu-id="690f7-138">If you create a web app, you receive a build warning regarding the binding conflict, which in turn, gives you the option to add the necessary binding redirect to the source web configuration file.</span></span>  
  
 <span data-ttu-id="690f7-139">Если вручную добавить перенаправления привязки в исходный файл app.config, во время компиляции [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)] пытается унифицировать сборки на основе добавленных перенаправлений привязок.</span><span class="sxs-lookup"><span data-stu-id="690f7-139">If you  manually add binding redirects to the source app.config file, at compile time, [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)] tries to unify the assemblies based on the binding redirects you added.</span></span> <span data-ttu-id="690f7-140">Например, предположим, что вы вставили следующее перенаправление привязки для сборки:</span><span class="sxs-lookup"><span data-stu-id="690f7-140">For example, let's say you insert the following binding redirect for an assembly:</span></span>  
  
 `<bindingRedirect oldVersion="3.0.0.0" newVersion="2.0.0.0" />`  
  
 <span data-ttu-id="690f7-141">Если другой проект в вашем приложении ссылается на версию 1.0.0.0 той же сборки, автоматическое перенаправление привязки добавляет в выходной файл app.config следующую запись, чтобы приложение было унифицировано с версией 2.0.0.0 этой сборки:</span><span class="sxs-lookup"><span data-stu-id="690f7-141">If another project in your app references version 1.0.0.0 of the same assembly, automatic binding redirection adds the following entry to the output app.config file so that the app is unified on version 2.0.0.0 of this assembly:</span></span>  
  
 `<bindingRedirect oldVersion="1.0.0.0" newVersion="2.0.0.0" />`  
  
 <span data-ttu-id="690f7-142">Вы можете включить автоматическое перенаправление привязки, если приложение предназначено для более старых версий .NET Framework в [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)].</span><span class="sxs-lookup"><span data-stu-id="690f7-142">You can enable automatic binding redirection if your app targets older versions of the .NET Framework in [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)].</span></span> <span data-ttu-id="690f7-143">Это поведение по умолчанию можно переопределить, предоставив сведения о перенаправлении привязки в файле app.config для какой-либо сборки или отключив функцию перенаправления привязки.</span><span class="sxs-lookup"><span data-stu-id="690f7-143">You can override this default behavior by providing binding redirection information in the app.config file for any assembly, or turn off the binding redirection feature.</span></span> <span data-ttu-id="690f7-144">Сведения о том, как включить эту функцию, или отключить, см. в разделе [как: Включение и отключение автоматического перенаправления привязки](../../../docs/framework/configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="690f7-144">For information about how to turn this feature on or off, see [How to: Enable and Disable Automatic Binding Redirection](../../../docs/framework/configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span></span>  
  
<a name="bypass_PP"></a>   
### <a name="bypassing-publisher-policy"></a><span data-ttu-id="690f7-145">Обход политики издателя</span><span class="sxs-lookup"><span data-stu-id="690f7-145">Bypassing publisher policy</span></span>  
 <span data-ttu-id="690f7-146">При необходимости вы можете переопределить политику издателя в файле конфигурации приложения.</span><span class="sxs-lookup"><span data-stu-id="690f7-146">You can override publisher policy in the app configuration file if necessary.</span></span> <span data-ttu-id="690f7-147">Например, новые версии сборок, которые объявлены как поддерживающие обратную совместимость, могут все-таки нарушать работу приложения.</span><span class="sxs-lookup"><span data-stu-id="690f7-147">For example, new versions of assemblies that claim to be backward compatible can still break an app.</span></span> <span data-ttu-id="690f7-148">Если вы хотите обойти политику издателя, добавьте [ \<publisherPolicy >](../../../docs/framework/configure-apps/file-schema/runtime/publisherpolicy-element.md) элемент [ \<dependentAssembly >](../../../docs/framework/configure-apps/file-schema/runtime/dependentassembly-element.md) элемент в файл конфигурации приложения и задаются **применить** атрибут **не**, что переопределит все предыдущие **Да** параметры.</span><span class="sxs-lookup"><span data-stu-id="690f7-148">If you want to bypass publisher policy, add a [\<publisherPolicy>](../../../docs/framework/configure-apps/file-schema/runtime/publisherpolicy-element.md) element to the [\<dependentAssembly>](../../../docs/framework/configure-apps/file-schema/runtime/dependentassembly-element.md) element in the app configuration file, and set the **apply** attribute to **no**, which overrides any previous **yes** settings.</span></span>  
  
 `<publisherPolicy apply="no" />`  
  
 <span data-ttu-id="690f7-149">Обходите политику издателя, чтобы сохранить работоспособность приложения для пользователей, но обязательно сообщите о проблеме поставщику сборки.</span><span class="sxs-lookup"><span data-stu-id="690f7-149">Bypass publisher policy to keep your app running for your users, but make sure you report the problem to the assembly vendor.</span></span> <span data-ttu-id="690f7-150">Если сборка имеет файл политики издателя, поставщик должен убедиться, что сборка имеет обратную совместимость и клиенты могут использовать новую версию в максимальной степени.</span><span class="sxs-lookup"><span data-stu-id="690f7-150">If an assembly has a publisher policy file, the vendor should make sure that the assembly is backward compatible and that clients can use the new version as much as possible.</span></span>  
  
<a name="BKMK_Redirectingassemblyversionsatthemachinelevel"></a>   
## <a name="redirecting-assembly-versions-at-the-machine-level"></a><span data-ttu-id="690f7-151">Перенаправление версий сборки на уровне компьютера</span><span class="sxs-lookup"><span data-stu-id="690f7-151">Redirecting assembly versions at the machine level</span></span>  
 <span data-ttu-id="690f7-152">Иногда администратор компьютера хочет, чтобы все приложения на компьютере использовали определенную версию сборки.</span><span class="sxs-lookup"><span data-stu-id="690f7-152">There might be rare cases when a machine administrator wants all apps on a computer to use a specific version of an assembly.</span></span> <span data-ttu-id="690f7-153">Например, администратор может захотеть, чтобы каждое приложение использовало определенную версию сборки, так как эта версия устраняет брешь в системе безопасности.</span><span class="sxs-lookup"><span data-stu-id="690f7-153">For example, the administrator might want every app to use a particular assembly version, because that version fixes a security hole.</span></span> <span data-ttu-id="690f7-154">Если сборка перенаправляется в файле конфигурации компьютера, все приложения на этом компьютере, использующие старую версию, будут перенаправлены на использование новой версии.</span><span class="sxs-lookup"><span data-stu-id="690f7-154">If an assembly is redirected in the machine's configuration file, all apps on that machine that use the old version will be directed to use the new version.</span></span> <span data-ttu-id="690f7-155">Файл конфигурации компьютера переопределяет файл конфигурации приложения и файл политики издателя.</span><span class="sxs-lookup"><span data-stu-id="690f7-155">The machine configuration file overrides the app configuration file and the publisher policy file.</span></span> <span data-ttu-id="690f7-156">Этот файл находится в каталоге %*путь установки среды выполнения*%\Config.</span><span class="sxs-lookup"><span data-stu-id="690f7-156">This file is located in the %*runtime install path*%\Config directory.</span></span> <span data-ttu-id="690f7-157">Как правило, .NET Framework устанавливается в каталог %drive%\Windows\Microsoft.NET\Framework.</span><span class="sxs-lookup"><span data-stu-id="690f7-157">Typically, the .NET Framework is installed in the %drive%\Windows\Microsoft.NET\Framework directory.</span></span>  
  
<a name="BKMK_Specifyingassemblybindinginconfigurationfiles"></a>   
## <a name="specifying-assembly-binding-in-configuration-files"></a><span data-ttu-id="690f7-158">Указание привязки сборки в файлах конфигурации</span><span class="sxs-lookup"><span data-stu-id="690f7-158">Specifying assembly binding in configuration files</span></span>  
 <span data-ttu-id="690f7-159">Один и тот же формат XML позволяет указать перенаправления привязок в файле конфигурации приложения, в файле конфигурации компьютера и в файле политики издателя.</span><span class="sxs-lookup"><span data-stu-id="690f7-159">You use the same XML format to specify binding redirects whether it’s in the app configuration file, the machine configuration file, or the publisher policy file.</span></span> <span data-ttu-id="690f7-160">Для перенаправления одной версии сборки на другую, используйте [ \<bindingRedirect >](../../../docs/framework/configure-apps/file-schema/runtime/bindingredirect-element.md) элемент.</span><span class="sxs-lookup"><span data-stu-id="690f7-160">To redirect one assembly version to another, use the [\<bindingRedirect>](../../../docs/framework/configure-apps/file-schema/runtime/bindingredirect-element.md) element.</span></span> <span data-ttu-id="690f7-161">В атрибуте **OldVersion** можно указать одну версию сборки или диапазон версий.</span><span class="sxs-lookup"><span data-stu-id="690f7-161">The **oldVersion** attribute can specify a single assembly version or a range of versions.</span></span> <span data-ttu-id="690f7-162">В атрибуте `newVersion` должна быть указана одна версия.</span><span class="sxs-lookup"><span data-stu-id="690f7-162">The `newVersion` attribute should specify a single version.</span></span>  <span data-ttu-id="690f7-163">Например, `<bindingRedirect oldVersion="1.1.0.0-1.2.0.0" newVersion="2.0.0.0"/>` указывает, что среда выполнения должна использовать версию 2.0.0.0 вместо версий сборки от 1.1.0.0 до 1.2.0.0.</span><span class="sxs-lookup"><span data-stu-id="690f7-163">For example, `<bindingRedirect oldVersion="1.1.0.0-1.2.0.0" newVersion="2.0.0.0"/>` specifies that the runtime should use version 2.0.0.0 instead of the assembly versions between 1.1.0.0 and 1.2.0.0.</span></span>  
  
 <span data-ttu-id="690f7-164">Следующий пример кода демонстрирует различные сценарии перенаправления привязки.</span><span class="sxs-lookup"><span data-stu-id="690f7-164">The following code example demonstrates a variety of binding redirect scenarios.</span></span> <span data-ttu-id="690f7-165">В примере указывается перенаправление для диапазона версий `myAssembly`и одно перенаправление привязки для `mySecondAssembly`.</span><span class="sxs-lookup"><span data-stu-id="690f7-165">The example specifies a redirect for a range of versions for `myAssembly`, and a single binding redirect for `mySecondAssembly`.</span></span> <span data-ttu-id="690f7-166">В примере также указывается, что файл политики издателя не будет переопределять перенаправления привязок для `myThirdAssembly`.</span><span class="sxs-lookup"><span data-stu-id="690f7-166">The example also specifies that publisher policy file will not override the binding redirects for `myThirdAssembly`.</span></span>  
  
 <span data-ttu-id="690f7-167">Чтобы привязать сборку, необходимо указать строку «urn: schemas-microsoft-com:asm.v1» с **xmlns** атрибут в [ \<assemblyBinding >](../../../docs/framework/configure-apps/file-schema/runtime/assemblybinding-element-for-runtime.md) тега.</span><span class="sxs-lookup"><span data-stu-id="690f7-167">To bind an assembly, you must specify the string "urn:schemas-microsoft-com:asm.v1" with the **xmlns** attribute in the [\<assemblyBinding>](../../../docs/framework/configure-apps/file-schema/runtime/assemblybinding-element-for-runtime.md) tag.</span></span>  
  
```xml  
<configuration>  
  <runtime>  
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">  
      <dependentAssembly>  
        <assemblyIdentity name="myAssembly"  
          publicKeyToken="32ab4ba45e0a69a1"  
          culture="en-us" />  
        <!-- Assembly versions can be redirected in app,   
          publisher policy, or machine configuration files. -->  
        <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="3.0.0.0" />  
      </dependentAssembly>  
  <dependentAssembly>  
        <assemblyIdentity name="mySecondAssembly"  
          publicKeyToken="32ab4ba45e0a69a1"  
          culture="en-us" />  
             <bindingRedirect oldVersion="1.0.0.0" newVersion="2.0.0.0" />  
      </dependentAssembly>  
      <dependentAssembly>  
      <assemblyIdentity name="myThirdAssembly"  
        publicKeyToken="32ab4ba45e0a69a1"  
        culture="en-us" />  
        <!-- Publisher policy can be set only in the app   
          configuration file. -->  
        <publisherPolicy apply="no" />  
      </dependentAssembly>  
    </assemblyBinding>  
  </runtime>  
</configuration>  
```  
  
### <a name="limiting-assembly--bindings-to-a-specific-version"></a><span data-ttu-id="690f7-168">Ограничения привязок сборок определенной версией</span><span class="sxs-lookup"><span data-stu-id="690f7-168">Limiting assembly  bindings to a specific version</span></span>  
 <span data-ttu-id="690f7-169">Можно использовать **appliesTo** атрибут [ \<assemblyBinding >](../../../docs/framework/configure-apps/file-schema/runtime/assemblybinding-element-for-runtime.md) элемент в файле конфигурации приложения, чтобы перенаправить ссылки привязки сборок на определенную версию .NET Версия .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="690f7-169">You can use the **appliesTo** attribute on the [\<assemblyBinding>](../../../docs/framework/configure-apps/file-schema/runtime/assemblybinding-element-for-runtime.md) element in an app configuration file to redirect assembly binding references to a specific version of the .NET Framework.</span></span> <span data-ttu-id="690f7-170">Этот необязательный атрибут содержит номер версии .NET Framework, к которой применяется перенаправление.</span><span class="sxs-lookup"><span data-stu-id="690f7-170">This optional attribute uses a .NET Framework version number to indicate what version it applies to.</span></span> <span data-ttu-id="690f7-171">Если атрибут **appliesTo** не указан, элемент [\<assemblyBinding>](../../../docs/framework/configure-apps/file-schema/runtime/assemblybinding-element-for-runtime.md) применяется ко всем версиям платформы .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="690f7-171">If no **appliesTo** attribute is specified, the [\<assemblyBinding>](../../../docs/framework/configure-apps/file-schema/runtime/assemblybinding-element-for-runtime.md) element applies to all versions of the .NET Framework.</span></span>  
  
 <span data-ttu-id="690f7-172">Например, чтобы перенаправить привязку сборки для .NET Framework версии 3.5, следует включить в файл конфигурации приложения приведенный ниже код XML.</span><span class="sxs-lookup"><span data-stu-id="690f7-172">For example, to redirect assembly binding for a .NET Framework 3.5 assembly, you would include the following XML code in your app configuration file.</span></span>  
  
```xml  
<runtime>  
  <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1"   
    appliesTo="v3.5">  
    <dependentAssembly>   
      <!-- assembly information goes here -->  
    </dependentAssembly>  
  </assemblyBinding>  
</runtime>  
```  
  
 <span data-ttu-id="690f7-173">Вы должны указывать сведения о перенаправлении в порядке версий.</span><span class="sxs-lookup"><span data-stu-id="690f7-173">You should enter redirection information in version order.</span></span> <span data-ttu-id="690f7-174">Например, следует указывать сведения о перенаправлении привязок сборок для сборок .NET Framework 3.5, а затем для сборок .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="690f7-174">For example, enter assembly binding redirection information for .NET Framework 3.5 assemblies followed by .NET Framework 4.5 assemblies.</span></span> <span data-ttu-id="690f7-175">И только после этого вводятся сведения о перенаправлении привязок для любых перенаправлений сборок .NET Framework, которые не используют атрибут **appliesTo** и поэтому применимы ко всем версиям .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="690f7-175">Finally, enter assembly binding redirection information for any .NET Framework assembly redirection that does not use the **appliesTo** attribute and therefore applies to all versions of the .NET Framework.</span></span> <span data-ttu-id="690f7-176">В случае конфликта перенаправления используется первый подходящий оператор перенаправления в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="690f7-176">If there is a conflict in redirection, the first matching redirection statement in the configuration file is used.</span></span>  
  
 <span data-ttu-id="690f7-177">Например, чтобы перенаправить одну ссылку на сборку .NET Framework 3.5, а другую ссылку — на сборку .NET Framework 4, можно использовать шаблон, показанный в следующем псевдокоде.</span><span class="sxs-lookup"><span data-stu-id="690f7-177">For example, to redirect one reference to a .NET Framework 3.5 assembly and another reference to a .NET Framework 4 assembly, use the pattern shown in the following pseudocode.</span></span>  
  
```xml  
<assemblyBinding xmlns="..." appliesTo="v3.5 ">   
  <!—.NET Framework version 3.5 redirects here -->   
</assemblyBinding>   
  
<assemblyBinding xmlns="..." appliesTo="v4.0.30319">   
  <!—.NET Framework version 4.0 redirects here -->   
</assemblyBinding>   
  
<assemblyBinding xmlns="...">   
  <!-- redirects meant for all versions of the runtime -->   
</assemblyBinding>  
```  
  
## <a name="see-also"></a><span data-ttu-id="690f7-178">См. также</span><span class="sxs-lookup"><span data-stu-id="690f7-178">See Also</span></span>  
 [<span data-ttu-id="690f7-179">Практическое руководство. Включение и отключение автоматического перенаправления привязки</span><span class="sxs-lookup"><span data-stu-id="690f7-179">How to: Enable and Disable Automatic Binding Redirection</span></span>](../../../docs/framework/configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md)  
 [<span data-ttu-id="690f7-180">\<bindingRedirect > элемент</span><span class="sxs-lookup"><span data-stu-id="690f7-180">\<bindingRedirect> Element</span></span>](../../../docs/framework/configure-apps/file-schema/runtime/bindingredirect-element.md)  
 [<span data-ttu-id="690f7-181">Разрешение безопасности перенаправления привязки сборок</span><span class="sxs-lookup"><span data-stu-id="690f7-181">Assembly Binding Redirection Security Permission</span></span>](../../../docs/framework/configure-apps/assembly-binding-redirection-security-permission.md)  
 [<span data-ttu-id="690f7-182">Сборки в среде CLR</span><span class="sxs-lookup"><span data-stu-id="690f7-182">Assemblies in the Common Language Runtime</span></span>](../../../docs/framework/app-domains/assemblies-in-the-common-language-runtime.md)  
 [<span data-ttu-id="690f7-183">Программирование с использованием сборок</span><span class="sxs-lookup"><span data-stu-id="690f7-183">Programming with Assemblies</span></span>](../../../docs/framework/app-domains/programming-with-assemblies.md)  
 [<span data-ttu-id="690f7-184">Обнаружение сборок в среде выполнения</span><span class="sxs-lookup"><span data-stu-id="690f7-184">How the Runtime Locates Assemblies</span></span>](../../../docs/framework/deployment/how-the-runtime-locates-assemblies.md)  
 [<span data-ttu-id="690f7-185">Настройка приложений</span><span class="sxs-lookup"><span data-stu-id="690f7-185">Configuring Apps</span></span>](../../../docs/framework/configure-apps/index.md)  
 [<span data-ttu-id="690f7-186">Настройка приложений .NET Framework</span><span class="sxs-lookup"><span data-stu-id="690f7-186">Configuring .NET Framework Apps</span></span>](https://msdn.microsoft.com/library/d789b592-fcb5-4e3d-8ac9-e0299adaaa42)  
 [<span data-ttu-id="690f7-187">Схема параметров среды выполнения</span><span class="sxs-lookup"><span data-stu-id="690f7-187">Runtime Settings Schema</span></span>](../../../docs/framework/configure-apps/file-schema/runtime/index.md)  
 [<span data-ttu-id="690f7-188">Схема файла конфигурации</span><span class="sxs-lookup"><span data-stu-id="690f7-188">Configuration File Schema</span></span>](../../../docs/framework/configure-apps/file-schema/index.md)  
 [<span data-ttu-id="690f7-189">Практическое руководство. Создание политики издателя</span><span class="sxs-lookup"><span data-stu-id="690f7-189">How to: Create a Publisher Policy</span></span>](../../../docs/framework/configure-apps/how-to-create-a-publisher-policy.md)
