---
title: "Настройка приложений с использованием файлов конфигурации | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "AutoGeneratedOrientationPage"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "конфигурация приложений .NET Framework, файлы конфигурации"
  - "элемент <runtime>"
  - "файлы конфигурации приложений"
  - "файлы конфигурации приложений, сведения"
  - "файлы конфигурации приложений, format"
  - "файлы конфигурации приложений, компьютер"
  - "файлы конфигурации приложений, безопасность"
  - "приложения [платформа .NET Framework], файлы конфигурации"
  - "ASP.NET, настройка"
  - "файлы конфигурации [платформа .NET Framework]"
  - "файлы конфигурации [платформа .NET Framework], приложение"
  - "файлы конфигурации [платформа .NET Framework], format"
  - "файлы конфигурации [платформа .NET Framework], компьютер"
  - "файлы конфигурации [платформа .NET Framework], безопасность"
  - "закрывающие теги"
  - "хосты, приложение"
  - "файлы конфигурации компьютера"
  - "файлы конфигурации безопасности"
  - "открывающие теги"
ms.assetid: 86bd26d3-737e-4484-9782-19b17f34cd1f
caps.latest.revision: 28
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 28
---
# Настройка приложений с использованием файлов конфигурации
Среда .NET Framework предоставляет разработчикам и администраторам возможность управления и гибкой настройки способа выполнения приложений с помощью файлов конфигурации.  Файлы конфигурации имеют формат XML, и при необходимости их можно изменять.  Администратор может контролировать, к каким из защищенных ресурсов может осуществлять доступ приложение, какие оно будет использовать версии сборок и где расположены удаленные объекты и приложения.  Разработчики могут задавать параметры в файлах конфигурации, устраняя необходимость в перекомпиляции приложения при каждом изменении той или иной установки.  В этом разделе рассказывается, какие параметры могут быть настроены и для чего может потребоваться настройка приложения.  
  
> [!NOTE]
>  С помощью классов из пространства имен <xref:System.Configuration> управляемый код может считывать установки из конфигурационных файлов, но не записывать их в эти файлы.  
  
 В этом разделе описан синтаксис файлов конфигурации и приведены сведения о трех типах таких файлов: конфигурации компьютера, приложения и безопасности.  
  
## Формат файлов конфигурации  
 Файлы конфигурации состоят из элементов, которые являются логическими структурами данных, задающими сведения о конфигурации.  Начало и конец каждого элемента в файле конфигурации отмечены специальными тегами.  Например, элемент `<runtime>` состоит из `<runtime>`*дочерних элементов*`</runtime>`.  Пустой элемент будет записан как `<runtime/>` или `<runtime>``</runtime>`.  
  
 Как и во всех XML\-файлах, в файлах конфигурации учитывается регистр.  
  
 Параметры конфигурации задаются с помощью предварительно определенных атрибутов \(пар имя\-значение\) в открывающем теге элемента.  В следующем примере заданы два атрибута \(`version` и `href`\) элемента `<codeBase>`, определяющие для среды выполнения расположение сборок \(дополнительные сведения см. в разделе [Указание расположения сборки](../../../docs/framework/configure-apps/specify-assembly-location.md)\).  
  
```  
<codeBase version="2.0.0.0"  
          href="http://www.litwareinc.com/myAssembly.dll"/>  
```  
  
## Файлы конфигурации компьютеров  
 В файле конфигурации компьютера, Machine.config, задаются параметры, влияющие на работу компьютера в целом.  Этот файл находится в каталоге %*путь установки среды выполнения*%\\Config.  В файле Machine.config задаются параметры конфигурации для привязки сборок компьютера, встроенных [каналов удаленного взаимодействия](http://msdn.microsoft.com/ru-ru/6e9b60e0-9bc0-47b4-a8ef-3b78585f9a18) и ASP.NET.  
  
 Поиск [элемента appSettings](http://msdn.microsoft.com/ru-ru/0d65a3f1-c522-423d-89b6-44921b6daebb) и других разделов конфигурации, определяемых разработчиками, производится системой конфигурации в первую очередь в файле конфигурации компьютера.  Затем поиск выполняется в файле конфигурации приложения.  Для облегчения управления файлом конфигурации компьютера рекомендуется переместить эти параметры в файл конфигурации приложения.  Однако размещение параметров в файле конфигурации компьютера упрощает управление системой.  Например, при наличии компонентов сторонних производителей, используемых сервером и клиентами, рекомендуется разместить параметры этих компонентов в одном файле.  В этом случае следует задавать параметры в файле конфигурации компьютера, чтобы не дублировать параметры в разных файлах.  
  
> [!NOTE]
>  При развертывании приложения с помощью команды XCOPY файл конфигурации компьютера не копируется.  
  
 Дополнительные сведения об использовании файла конфигурации компьютера общеязыковой средой выполнения для привязки сборок см. в разделе [Как среда выполнения находит сборки](../../../docs/framework/deployment/how-the-runtime-locates-assemblies.md).  
  
## Файлы конфигурации приложений  
 В файле конфигурации приложения находятся параметры приложения.  В этом файле содержатся параметры конфигурации, считываемые средой CLR \(например, политика привязки сборок, удаленные объекты и т. д.\) и приложением.  
  
 Имя и расположение файла конфигурации приложения зависят от места размещения приложения, которым может быть одно из указанных ниже.  
  
-   Приложение, размещенное в исполняемом файле.  
  
     Такие приложения имеют два файла конфигурации: исходный файл конфигурации, который изменяется разработчиком во время разработки, и выходной файл, распространяемый с приложением.  
  
     При разработке в Visual Studio разместите исходный файл конфигурации приложения в каталоге проекта и установите для его свойства **Копировать в выходной каталог** значение **Всегда копировать** или **Копировать, если новее**.  Имя файла конфигурации — это имя приложения с расширением CONFIG.  Например, исходный файл конфигурации приложения myApp.exe должен называться myApp.exe.config.  
  
     Visual Studio автоматически копирует исходный файл конфигурации в каталог, где находится скомпилированная сборка, чтобы создать выходной файл конфигурации, развертываемый вместе с приложением.  В некоторых случаях Visual Studio может изменить выходной файл конфигурации; дополнительные сведения см. в разделе [Перенаправление версий сборки на уровне приложения](../../../docs/framework/configure-apps/redirect-assembly-versions.md#BKMK_Redirectingassemblyversionsattheapplevel) статьи [Перенаправление версий сборки](../../../docs/framework/configure-apps/redirect-assembly-versions.md).  
  
-   Приложение, размещенное в ASP.NET.  
  
     Дополнительные сведения о файлах конфигурации ASP.NET см. в разделе [Параметры конфигурации ASP.NET](http://msdn.microsoft.com/ru-ru/116608f3-c03d-4413-9fc7-978703e18b0f)  
  
-   Приложение, размещенное в Internet Explorer.  
  
     Если для приложения, размещенного в Internet Explorer, определен файл конфигурации, его расположение задается в теге `<link>` следующим образом:  
  
     \<link rel\="*ConfigurationFileName*" href\="*location*"\>  
  
     В этом теге `location` — это URL\-адрес файла конфигурации.  Таким образом задается базовая папка приложения.  Файл конфигурации должен находиться на том же веб\-сайте, что и приложение.  
  
## Файлы конфигурации безопасности  
 В файлах конфигурации безопасности содержатся сведения об иерархии групп кода и наборах разрешений, связанных с уровнем политики.  Для изменения политики безопасности настоятельно рекомендуется использовать [средство политики безопасности доступа кода \(Caspol.exe\)](../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md), что гарантирует целостность файлов конфигурации безопасности.  
  
> [!NOTE]
>  Начиная с [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], файлы конфигурации безопасности присутствуют только в том случае, если политика безопасности была изменена.  
  
 Ниже приведено расположение файлов конфигурации безопасности.  
  
-   Файл конфигурации политики предприятия: %*путь\-установки\-среды\-выполнения*%\\Config\\Enterprisesec.config  
  
-   Файл конфигурации политики компьютера: %*путь\-установки\-среды\-выполнения*%\\Config\\Security.config  
  
-   Файл конфигурации политики пользователя: %USERPROFILE%\\Application data\\Microsoft\\CLR security config\\v*xx.xx*\\Security.config  
  
## Содержание  
 [Практическое руководство. Поиск сборок с помощью DEVPATH](../../../docs/framework/configure-apps/how-to-locate-assemblies-by-using-devpath.md)  
 Описание процесса настройки среды выполнения для использования переменной среды DEVPATH при поиске сборок.  
  
 [Перенаправление версий сборки](../../../docs/framework/configure-apps/redirect-assembly-versions.md)  
 Инструкции по указанию местоположения и версии сборки, которая должна использоваться приложением.  
  
 [Указание расположения сборки](../../../docs/framework/configure-apps/specify-assembly-location.md)  
 Сведения о том, как указать среде выполнения, где она должна осуществлять поиск сборки.  
  
 [Настройка криптографических классов](../../../docs/framework/configure-apps/configure-cryptography-classes.md)  
 Описание процесса сопоставления имени алгоритма криптографическому классу и идентификатора объекта в криптографическому алгоритму.  
  
 [Практическое руководство. Создание политики издателя](../../../docs/framework/configure-apps/how-to-create-a-publisher-policy.md)  
 Сведения о том, куда и каким образом нужно добавить файл политики издателя, чтобы задать перенаправление сборки и параметры базового каталога кода.  
  
 [Схема файла конфигурации](../../../docs/framework/configure-apps/file-schema/index.md)  
 Описывается иерархия схемы для запуска, среды выполнения, сети и других типов параметров конфигурации.  
  
## См. также  
 [Схема файла конфигурации](../../../docs/framework/configure-apps/file-schema/index.md)   
 [Указание расположения сборки](../../../docs/framework/configure-apps/specify-assembly-location.md)   
 [Перенаправление версий сборки](../../../docs/framework/configure-apps/redirect-assembly-versions.md)   
 [Регистрация удаленных объектов с использованием файлов конфигурации](http://msdn.microsoft.com/ru-ru/bc503ee1-c811-4f82-9525-470343326adc)   
 [ASP.NET Web Site Administration](../Topic/ASP.NET%20Web%20Site%20Administration.md)   
 [NIB: Security Policy Management](http://msdn.microsoft.com/ru-ru/d754e05d-29dc-4d3a-a2c2-95eaaf1b82b9)   
 [Caspol.exe \(Code Access Security Policy Tool\)](../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md)   
 [Сборки в среде CLR](../../../docs/framework/app-domains/assemblies-in-the-common-language-runtime.md)   
 [Удаленные объекты](http://msdn.microsoft.com/ru-ru/515686e6-0a8d-42f7-8188-73abede57c58)