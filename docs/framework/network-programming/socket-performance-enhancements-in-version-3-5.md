---
title: "Улучшения производительности сокетов в версии 3.5 | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 225aa5f9-c54b-4620-ab64-5cd100cfd54c
caps.latest.revision: 9
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 9
---
# Улучшения производительности сокетов в версии 3.5
Класс <xref:System.Net.Sockets.Socket?displayProperty=fullName> увеличен в версии 3.5 для использования приложениями, которые используют асинхронный ВВОД\-ВЫВОД сети для достижения высокого класса производительности.  Ряд новых классов был добавлен как часть набора улучшений в класс <xref:System.Net.Sockets.Socket>, обеспечивающий альтернативную асинхронную модель, которая может быть использована специализированных приложений высокой производительности сокетов.  Эти улучшения специально разработанные для приложений сервера сети, требующих высокой производительности.  Приложение может использовать асинхронную модель улучшенного исключительно или только в целевых активном областях свои приложения \(при получении больших объемов данных, например\).  
  
## Усовершенствования класса  
 Основной особенностью этих расширений является исключение повторных размещений и синхронизация объектов во время выполнения на сокете асинхронных операций ввода\-вывода большого объема.  Шаблон разработки\/элемент в данный момент реализованный классом <xref:System.Net.Sockets.Socket> для асинхронного ВВОДА\-ВЫВОДА сокета требуется объект был <xref:System.IAsyncResult?displayProperty=fullName> выбрать для каждой асинхронной операции сокета.  
  
 В новых улучшениях класса <xref:System.Net.Sockets.Socket> асинхронные операции сокета, описаны многоразовым классом <xref:System.Net.Sockets.SocketAsyncEventArgs?displayProperty=fullName> объект выбранный и поддерживается приложением.  Для высокопроизводительных приложений сокетов известно множество перекрывающихся операций сокетов, которые необходимо поддерживать.  Приложение способно создавать столько объектов <xref:System.Net.Sockets.SocketAsyncEventArgs>, сколько требуется.  Например, если серверному приложению необходимо иметь сокет 15 принять все время операции необработанных для поддержки входящие версии клиентских соединений, он может выбрать 15 многоразовых объектов <xref:System.Net.Sockets.SocketAsyncEventArgs> заранее для этой цели.  
  
 Шаблон для выполнения асинхронной операции сокета с помощью этого класса состоит из следующих этапов:  
  
1.  Выделите новый объект контекста <xref:System.Net.Sockets.SocketAsyncEventArgs> или получите его готовым из пула приложения.  
  
2.  Задайте свойства объекта контекста операции, которую необходимо выполнить " \(буфер метода и делегата обратного вызова, например\).  
  
3.  Чтобы начать асинхронную операцию, вызовите соответствующий метод сокета \(xxxAsync\).  
  
4.  Если асинхронного метода сокета \(xxxAsync\) возвращает значение true в обратном вызове, запросите контекстные свойства для состояния завершения.  
  
5.  Если асинхронного метода сокета \(xxxAsync\) возвращает значение false в обратном вызове, то операция, выполненная одновременно.  Для получения результата операции можно запросить свойства контекста.  
  
6.  Повторно используйте контекст для другой операции, поместите его обратно в пул и отмените его.  
  
 Время существования асинхронной операции сокета нового объекта контекста указано в коде приложения и асинхронных ссылках ВВОДА\-ВЫВОДА.  Для приложения не требуется сохранять ссылку на объект контекста асинхронной операции сокета после его отправки в качестве параметра в один из методов асинхронной операции сокета.  Ссылка будет существовать, пока не будет возвращен обратный вызов завершения.  Однако выгодно для приложения сохранять ссылку на объект контекста, так что его можно повторно использовать для будущих асинхронной операции сокета.  
  
## См. также  
 <xref:System.Net.Sockets.Socket?displayProperty=fullName>   
 <xref:System.Net.Sockets.SendPacketsElement?displayProperty=fullName>   
 <xref:System.Net.Sockets.SocketAsyncEventArgs?displayProperty=fullName>   
 <xref:System.Net.Sockets.SocketAsyncOperation?displayProperty=fullName>   
 [Примеры сетевого программирования](../../../docs/framework/network-programming/network-programming-samples.md)   
 [Образец технологии производительности сокетов](http://go.microsoft.com/fwlink/?LinkID=179570)