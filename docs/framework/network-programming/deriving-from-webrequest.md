---
title: "Наследование от WebResponse | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "класс WebRequest, подключаемые протоколы"
  - "обработчик запросов определенного протокола"
  - "отправка данных, подключаемые протоколы"
  - "подключаемые протоколы, условия классов"
  - "Интернет, подключаемые протоколы"
  - "получение данных, подключаемые протоколы"
  - "протоколы, подключаемые"
ms.assetid: 9810c177-973e-43d7-823c-14960bd625ea
caps.latest.revision: 9
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 7
---
# Наследование от WebResponse
Класс <xref:System.Net.WebRequest> абстрактный базовый класс, который предоставляет основные методы и свойства для создания обработчика запросов протокол\- в соответствии с конкретным, модель платформы .NET Framework подключаемый протокол.  Приложения, использующие класс **WebRequest** могут запросить данные, используя любой поддерживаемый протоколом без определения, используемый протокол.  
  
 2 Условия должны быть выполнены для определенного класса протокол\-, используемое как подключаемый протокол. Класс должен реализовывать интерфейс <xref:System.Net.IWebRequestCreate>, и он должен зарегистрировать с помощью метода <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=fullName>.  Класс должен переопределять все абстрактные методы и свойства **WebRequest** для предоставления подключаемый интерфейс.  
  
 Экземпляры **WebRequest** предназначены для однократной использования; если требуется сделать другой запрос, создайте новый **WebRequest**.  **WebRequest** поддерживает интерфейс <xref:System.Runtime.Serialization.ISerializable>, чтобы позволить разработчикам сериализовать шаблон **WebRequest**, а затем восстановить шаблон для дополнительных запросов.  
  
## IWebRequest создает метод  
 Метод отвечает за <xref:System.Net.IWebRequestCreate.Create%2A> инициализировать новый экземпляр класса протокол\- в XML\-структуру.  Если новое **WebRequest** создано, метод <xref:System.Net.WebRequest.Create%2A?displayProperty=fullName> соответствует универсальному коду ресурса \(uri\) с префиксы запрошенный универсальный код ресурса \(uri\), зарегистрированные с методом **RegisterPrefix**.  Метод **Создать** правильного потомков протокол\- должен возвращать инициализированный экземпляр конкретного потомка совместимого с выполнять стандартные транзакцию запроса\/ответа для протокола без все измененные поля протокол\- в XML\-структуру.  
  
## Свойство ConnectionGroupName  
 Свойство <xref:System.Net.WebRequest.ConnectionGroupName%2A> используется для именования группу в составе подключения к ресурсу, что несколько запросов можно выполнить над одним соединением.  Для реализации подключение\- опубликовать, необходимо использовать метод протокол\- для регулирования и соединения присвоения.  Например, заданное соединение инструментов класса <xref:System.Net.ServicePointManager> совместно с помощью класса <xref:System.Net.HttpWebRequest>.  Класс **ServicePointManager** создает <xref:System.Net.ServicePoint>, который содержит соединения с определенным сервером для каждой группы соединений.  
  
## Свойство ContentLength  
 Свойство <xref:System.Net.WebRequest.ContentLength%2A> указывает число байтов данных, которые будут отправлены к серверу передачи данных.  
  
 Обычно <xref:System.Net.WebRequest.Method%2A> необходимо задать свойство для указания того, что передача выполняется, когда свойство **ContentLength** будет установлено значение больше нуля.  
  
## Свойство ContentType  
 Любое специальное свойство <xref:System.Net.WebRequest.ContentType%2A> предоставляет сведения, что протокол требует, чтобы отправлять на сервер для указания типа содержимого, отправляются.  Обычно это тип содержимого MIME всех передаваемых данных.  
  
## Свойства учетных данных  
 Свойство <xref:System.Net.WebRequest.Credentials%2A> содержит сведения, необходимые для проверки подлинности запроса с сервером.  Необходимо предоставить информацию процесса проверки подлинности для протокола.  Класс отвечает <xref:System.Net.AuthenticationManager> для проверки подлинности запросов и защита маркер проверки подлинности.  Класс, который предоставляет учетные данные, используемые используемым протоколом должен реализовать интерфейс <xref:System.Net.ICredentials>.  
  
## Свойство заголовков  
 Свойство <xref:System.Net.WebRequest.Headers%2A> содержащего произвольную коллекцию пар имя\/значение метаданных, связанных с запросом.  Все метаданные, необходимые протоколом, можно выразить в виде пар "имя\-значение" можно включить в свойстве **Заголовки**.  Обычно эти сведения необходимо задать до вызова методов <xref:System.Net.WebRequest.GetRequestStream%2A> или <xref:System.Net.WebRequest.GetResponse%2A>; запрос был выполнен только метаданные считаются только для чтения.  
  
 Не требуется использовать свойство **Заголовки** для использования метаданных заголовка.  Метаданные для конкретного Протокол\- предоставляемых как свойства; например, свойство <xref:System.Net.HttpWebRequest.UserAgent%2A?displayProperty=fullName> предоставляет заголовок HTTP **User\-Agent** .  Если метаданные заголовка которому предоставляется как свойство, не следует разрешать одно и то же свойство, которое нужно задать, используя свойство **Заголовки**.  
  
## Свойство метода  
 Свойство <xref:System.Net.WebRequest.Method%2A> содержит команду или действие, что запрос запрашивает сервер.  Значение по умолчанию для свойства **Метод** должно содержать стандартные запроса\/ответа действие не требуя все свойства, определенные протокол\- были установлены.  Например, метод [HttpWebResponse](frlrfSystemNetHttpWebResponseClassMethodTopic) имеет значение по умолчанию для получения, запрашивающего ресурс с веб\-сервера и получает ответ.  
  
 Обычно свойство **ContentLength** необходимо задать значение больше нуля, если свойство установлено **Метод** в команде или действии, которая указывает, что передача выполняется.  
  
## Свойство предварительную проверку подлинности  
 Приложения <xref:System.Net.WebRequest.PreAuthenticate%2A> устанавливают свойство для указания того, что данные проверки подлинности должны быть отправлены с исходным запросом, а не ожидая запрос проверки подлинности.  Свойство **Предварительная проверка подлинности** может применяться только если протокол поддерживает учетные данные проверки подлинности, отправленные с исходным запросом.  
  
## Свойства учетной записи\-посредника  
 Свойство <xref:System.Net.WebRequest.Proxy%2A> содержит интерфейс <xref:System.Net.IWebProxy>, который используется для доступа к ресурсу.  Свойство **Прокси** может применяться только если протокол поддерживает proxied запросов.  Необходимо указать по умолчанию учетную запись\-посредник, если только одно необходимые протоколом.  
  
 В некоторых средах, например, корпоративный брандмауэр, этот протокол может потребоваться использование прокси.  В этом случае необходимо реализовать интерфейс **IWebProxy**, чтобы создать класс\-посредник, который будет работать для протокола.  
  
## Свойство RequestUri  
 Свойство <xref:System.Net.WebRequest.RequestUri%2A> содержит универсальный код ресурса \(uri\), которое было передано методу **WebRequest.Create**.  Он доступен только для чтения и не может совпадать с **WebRequest** как только было создано.  Если протокол поддерживает перенаправление, то ответ может исходить из ресурса, указанного в другой универсальный код ресурса \(uri\).  Если необходимо предоставить доступ к uri, ответа, необходимо обеспечить дополнительное свойство, то универсальный код ресурса \(uri\).  
  
## Свойство времени ожидания  
 Свойство <xref:System.Net.WebRequest.Timeout%2A> содержит продолжительность времени в миллисекундах для ожидания перед запросом истекает, и создает исключение.  **Время ожидания** применяется только к синхронным запросам, внесенных с методом <xref:System.Net.WebRequest.GetResponse%2A>; асинхронные запросы должны использовать метод <xref:System.Net.WebRequest.Abort%2A> для отмены незавершенный запрос.  
  
 Установив свойство **Время ожидания** может применяться только в случае, если класс реализует процесс протокол\- определенного времени ожидания.  
  
## Метод abort  
 Метод <xref:System.Net.WebRequest.Abort%2A> отменяет отложенный асинхронный запрос к серверу.  После того как запрос будет отменена, вызывающий **GetResponse**, **BeginGetResponse**, **EndGetResponse**, **GetRequestStream**, **BeginGetRequestStream** или **EndGetRequestStream** будут вызывать <xref:System.Net.WebException> со свойством <xref:System.Net.WebException.Status%2A> к [RequestCanceled](frlrfSystemNetWebExceptionStatusClassTopic).  
  
## Методы BeginGetRequestStream и EndGetRequestStream  
 Метод <xref:System.Net.WebRequest.BeginGetRequestStream%2A> начинает асинхронный запрос для потока, используемый для передачи данных на сервер.  Метод <xref:System.Net.WebRequest.EndGetRequestStream%2A> завершает асинхронный запрос и возвращает поток.  Эти методы реализуют метод **GetRequestStream** , используя стандартную асинхронную модель платформы .NET Framework.  
  
## Методы BeginGetResponse и EndGetResponse  
 Метод <xref:System.Net.WebRequest.BeginGetResponse%2A> начинает асинхронный запрос к серверу.  Метод <xref:System.Net.WebRequest.EndGetResponse%2A> завершает асинхронный запрос и возвращает ответ.  Эти методы реализуют метод **GetResponse** , используя стандартную асинхронную модель платформы .NET Framework.  
  
## Метод GetRequestStream  
 Метод <xref:System.Net.WebRequest.GetRequestStream%2A> получает поток, используемый для записи данных на сервер.  Возвращенный поток должен быть доступный только на запись потоком, который не искает; предназначено как односторонний поток данных, записаны к серверу.  Поток возвращает значение false для свойства <xref:System.IO.Stream.CanRead%2A> и <xref:System.IO.Stream.CanSeek%2A> и значение true свойства <xref:System.IO.Stream.CanWrite%2A>.  
  
 Метод **GetRequestStream** обычно открывает соединение с сервером и перед возвращением поток отправляет данные заголовка, который указывает на то, что данные переданы на сервер.  Поскольку **GetRequestStream** инициирует запрос, устанавливать все свойства **Заголовок** или свойство **ContentLength** обычно не позволить после вызова **GetRequestStream**.  
  
## Метод GetResponse  
 Метод <xref:System.Net.WebRequest.GetResponse%2A> возвращает потомков протокол\- определенного класса <xref:System.Net.WebResponse>, который представляет ответ от сервера.  Если запрос уже не будет разработан методом **GetRequestStream**, метод **GetResponse** создает подключение к ресурсу определенному **RequestUri**, отправляет данные заголовка, указывающий тип, деланным запроса, а затем получает ответ от ресурса.  
  
 После вызова метода **GetResponse** все свойства должны рассматриваться только для чтения.  Экземпляры **WebRequest** предназначены для однократной использования; если требуется сделать другой запрос, необходимо создать новое **WebRequest**.  
  
 Метод **GetResponse** отвечает за создание соответствующего потомок **WebResponse** для входящего ответа.  
  
## См. также  
 <xref:System.Net.WebRequest>   
 <xref:System.Net.HttpWebRequest>   
 <xref:System.Net.FileWebRequest>   
 [Программирование подключаемых протоколов](../../../docs/framework/network-programming/programming-pluggable-protocols.md)   
 [Наследование от класса WebResponse](../../../docs/framework/network-programming/deriving-from-webresponse.md)