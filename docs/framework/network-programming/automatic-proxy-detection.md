---
title: "Автоматическое обнаружение прокси-сервера | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "автоматическое обнаружение прокси-сервера"
  - "Автообнаружение веб-прокси"
  - "Веб-прокси"
  - "обнаружение прокси-серверов автоматически"
  - "класс WebProxy, автоматическое обнаружение прокси-сервера"
  - "прокси-серверы, автоматическое обнаружение"
  - "сеть"
  - "WPAD (автообнаружение веб-прокси)"
ms.assetid: fcd9c3bd-93de-4c92-8ff3-837327ad18de
caps.latest.revision: 18
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 18
---
# Автоматическое обнаружение прокси-сервера
Автоматическое обнаружение прокси это процесс, с помощью которого прокси\-сервер интернет определяется системой и общий отправлять запросы от имени клиента.  Эта функциональная возможность также известна как автоматическое обнаружение веб\-прокси \(WPAD\).  При автоматическом обнаружении прокси\-сервера включено, система пытается найти скрипт конфигурации, который отвечает за возвращение набора учетных записей\-посредников, которые можно использовать в запросе.  Если скрипт конфигурации найти скрипт, компилированный загрузить и выполнить на локальном компьютере, когда данные учетной записи\-посредника, поток запроса или ответа, принимаются для запроса, который использует экземпляр <xref:System.Net.WebProxy>.  
  
 Автоматического обнаружения прокси\-сервера выполняется классом <xref:System.Net.WebProxy> и может использовать параметры запрос\- уровня параметры в файлах конфигурации и параметры, задаваемые с помощью диалогового окна **Локальная сеть \(LAN\)** Internet Explorer.  
  
> [!NOTE]
>  Можно отобразить диалоговое окно **Настройка параметров локальной сети** Internet Explorer, выбрав в меню **Сервис** Internet Explorer, в основном, а затем выберите **Свойства браузера**.  Следующий перейдите на вкладку **Подключения** и нажмите кнопку **Настройка сети**.  
  
 При включении автоматического обнаружения прокси\-сервера <xref:System.Net.WebProxy> класс пытается найти скрипт конфигурации следующим образом:  
  
1.  Функция `InternetQueryOption` WinInet используется для поиска скрипт конфигурации последним, выявленный Internet Explorer.  
  
2.  Если скрипт не найден, то класс <xref:System.Net.WebProxy> использует протокол DHCP \(DHCP\), чтобы найти скрипт.  DHCP\-сервер может ответить или с расположением скрипта именем узла или полным url\-адресом для скрипта.  
  
3.  Если DHCP не определяет узел WPAD, то DNS запрашивать узла с WPAD как его имя или псевдоним.  
  
4.  Если основное приложение не указан и местоположение скрипта конфигурации определяется параметрами локальной сети Internet Explorer или в файле конфигурации, то это расположение используется.  
  
> [!NOTE]
>  Приложения, выполняющиеся как служба NT или как часть ASP.NET используются параметры прокси\-сервера Internet Explorer \(если доступно\) вызывающего пользователя.  Эти параметры не могут быть доступны для всех служб.  
  
 Учетные записи\-посредники настроитьы на а в connectoid \- main.  Connectoid элемент в диалоговом окне сетевого подключения и может быть физическим устройством сети \(модем или карта Ethernet\) или виртуальный интерфейсом \(как соединение сети VPN, работающий через устройство\).  При изменении connectoid \(например, беспроводная ссылку изменяет точку доступа или VPN\) включен алгоритм обнаружения прокси\-сервера выполнить попытку.  
  
 По умолчанию параметры прокси\-сервера Internet Explorer используется для обнаружения прокси\-сервера.  Если приложение выполняется под учетной записью неинтерактивной \(не имеет удобного способа настройки параметров прокси\-сервера IE\) или если необходимо использовать различные параметры прокси\-сервера, чем параметры IE, можно настроить пользовательский прокси\-объект, создав файл конфигурации с указанными элементами [Элемент \<defaultProxy\> \(параметры сети\)](../../../docs/framework/configure-apps/file-schema/network/defaultproxy-element-network-settings.md) и [Элемент \<proxy\> \(параметры сети\)](../../../docs/framework/configure-apps/file-schema/network/proxy-element-network-settings.md).  
  
 Для запросов, которые создаются, можно отключить автоматическое обнаружение прокси\-сервера по запросу уровень, с помощью пустого <xref:System.Net.WebRequest.Proxy%2A> с запросом, как показано в следующем примере кода.  
  
```csharp  
public static void DisableForMyRequest (Uri resource)  
{  
    WebRequest request = WebRequest.Create (resource);  
    request.Proxy = null;  
    WebResponse response = request.GetResponse ();  
}  
```  
  
```vb  
Public Shared Sub DisableForMyRequest(ByVal resource As Uri)  
    Dim request As WebRequest = WebRequest.Create(resource)  
    request.Proxy = Nothing  
    Dim response As WebResponse = request.GetResponse()  
    End Sub   
```  
  
 Запросы, которые не имеют учетной записи\-посредника домена приложений прокси\-сервера использование вашего по умолчанию, который доступен в свойстве <xref:System.Net.WebRequest.DefaultWebProxy%2A>.  
  
## См. также  
 <xref:System.Net.WebProxy>   
 <xref:System.Net.WebRequest>   
 [Элемент \<system.Net\> \(параметры сети\)](../../../docs/framework/configure-apps/file-schema/network/system-net-element-network-settings.md)