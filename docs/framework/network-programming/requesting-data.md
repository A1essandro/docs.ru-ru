---
title: "Запрос данных | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "отправка данных"
  - "класс WebRequest, отправка и получение данных"
  - "запрос данных из Интернета, сведения о запросе данных"
  - "класс WebClient, отправка и получение данных"
  - "сеть, запрос данных"
  - "получение данных"
  - "отправка данных, сведения об отправке данных"
  - "ответ на интернет-запрос, сведения об ответах на интернет-запросы"
  - "запросы данных"
  - "получение данных, сведения о получении данных"
  - "Интернет, запрос данных"
ms.assetid: df6f1e1d-6f2a-45dd-8141-4a85c3dafe1d
caps.latest.revision: 11
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 11
---
# Запрос данных
Разработка приложений, которые выполняются в распределенной среде сегодняшнего для эффективного операционной Интернета, что при использовании метода для получения данных из ресурсов всех типов.  Подключаемые протоколы позволяют разрабатывать приложения, которые используют один интерфейс для получения данных из нескольких протоколов Интернета.  
  
## Передача и загрузка данные с сервера через интернет  
 Для простых транзакций запроса и ответа, класс <xref:System.Net.WebClient> предоставляет простейший способ передачи данных или загрузить данные с сервера через интернет.  **Веб\-клиент** предоставляет методы для передачи и загрузить файлы, отправлять и получать потоки, а также буфер данных на сервер и получение ответа.  **Веб\-клиент** использует классы <xref:System.Net.WebRequest> и <xref:System.Net.WebResponse> чтобы установить действительные ссылки к интернет\-ресурсу, поэтому любой зарегистрированный подключаемый протокол доступен для использования.  
  
 Клиентские приложения, которым требуется сделать более сложные транзакции запрашивают данные из серверов с помощью класса **WebRequest** и его потомков.  **WebRequest** инкапсулирует сведения для подключения к серверу, отправить запрос и получение ответа.  **WebRequest** абстрактный класс, который определяет набор свойств и методов, которые доступны все приложения, использующие pluggable protocols.  Потомки **WebRequest**, как <xref:System.Net.HttpWebRequest>, реализующие методы и свойства, определенные **WebRequest**, согласованным с основным протоколом.  
  
 Класс **WebRequest**  создает экземпляры определенных протокол\- потомков **WebRequest**, используя значение универсального кода ресурса \(uri\), передаваемого в метод <xref:System.Net.WebRequest.Create%2A>, чтобы определить конкретный экземпляр производного класса, для которого необходимо создать.  Приложения указывают, который является потомком **WebRequest** должен использоваться для обработки запроса путем регистрации конструктор потомка с методом <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=fullName>.  
  
 Запрос выполняется к интернет\-ресурсу путем вызова метода <xref:System.Net.WebRequest.GetResponse%2A> на **WebRequest**.  Метод **GetResponse** создает запрос протокол\- определенной из свойств **WebRequest**, устанавливает соединение протокол TCP или UDP\-сокет к серверу и отправляет запрос.  Для запросов, которые отправляют данные на сервер, такие как запросы **Put** HTTP или FTP **Отправить** метод <xref:System.Net.WebRequest.GetRequestStream%2A?displayProperty=fullName> предоставляет сетевой поток, в котором отправлять данные.  
  
 Метод **GetResponse** возвращает протокол\- специфичные **WebResponse**, соответствующий **WebRequest.**  
  
 Класс **WebResponse** также является абстрактным классом, который определяет свойства и методы, которые доступны для всех приложений, использующих pluggable protocols.  Потомки **WebResponse** реализуют эти методы и свойства для основного протокола.  Класс <xref:System.Net.HttpWebResponse>, например, реализующий класс **WebResponse** для протокола HTTP.  
  
 Данные, возвращаемые сервером в приложение в потоке, возвращенного методом <xref:System.Net.WebResponse.GetResponseStream%2A?displayProperty=fullName>.  Можно использовать этот поток как любое другое, как показано в следующем примере.  
  
```csharp  
StreamReader sr =  
   new StreamReader(resp.GetResponseStream(), Encoding.ASCII);  
  
```  
  
```vb  
Dim sr As StreamReader  
sr = New StreamReader(resp.GetResponseStream(), Encoding.ASCII)  
```  
  
## См. также  
 [Сетевое программирование в .NET Framework](../../../docs/framework/network-programming/index.md)   
 [Практическое руководство. Запрос веб\-страницы и получение результатов в виде потока](../../../docs/framework/network-programming/how-to-request-a-web-page-and-retrieve-the-results-as-a-stream.md)   
 [Практическое руководство. Получение объекта WebResponse, соответствующего объекту WebRequest, для определенного протокола](../../../docs/framework/network-programming/how-to-retrieve-a-protocol-specific-webresponse-that-matches-a-webrequest.md)