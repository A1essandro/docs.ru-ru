---
title: "Кэши PNRP | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
caps.latest.revision: 4
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 4
---
# Кэши PNRP
Кэши протокол PNRP локальные коллекции алгоритмически выбранных конечных точек однорангового узла, обслуживаемые на одноранговом узле.  
  
## Инициализация кэша по протоколу PNRP  
 Для инициализации кэша PNRP или коллекция имен одноранговых узелов запись, при запуске одноранговый узел, узел может использовать следующие методы:  
  
-   Постоянные записей кэша, которые присутствовали если узел был отключен загружаются из памяти, жесткого диска.  
  
-   Если приложение использует инфраструктуру взаимодействия P2P, то данные об уровневом доступны в диспетчере контактов для этого узла.  
  
## Разрешение имени однорангового узла масштабирования с многоуровневым кэшем  
 Чтобы изменить размеры кэшей PNRP небольшим, одноранговые узлы используется многоуровневый кэш, в котором каждый уровень содержит максимальное количество записей.  Каждый уровень в кэше представляющий 0,1 меньших часть места идентификаторы PNRP \(2\)<sup>256</sup>.  Самый нижний уровень в кэше содержатся локально зарегистрированное идентификатор PNRP и другие числовые идентификаторы PNRP, ближайшее к нему.  Так как уровень кэша заполнен с максимальным значением 20 записей, чтобы создать новый более низком уровне.  Максимальное количество уровней в кэше в порядке журнала 10\(общее количество идентификаторов в облаке PNRP\).  Например, для глобального облаков с 100 миллионов идентификаторы PNRP, там не более 8 \(\=log 10\(100.000.000\)\) уровни в кэше и же числа прыжков, чтобы разрешить идентификатор PNRP во время разрешения имен.  Этот механизм позволяет распределянного хэш\-таблицы, для которого произвольное идентификатор PNRP может быть разрешено, переадресованы сообщения запроса PNRP на следующ\- ближайший узел до тех пор, пока не найти узел с соответствующими CPA.  
  
 Чтобы обеспечить разрешение может завершиться, каждый раз, когда узел добавляет запись с использованием низкоуровневому своего кэша, он затопляет копию записи на все узлы в последний уровень кэша.  
  
 Записи кэша обновлены со временем.  Записи кэша, устарели удалены из кэша.  В результате распределенного хэш\-таблицы идентификаторы PNRP на основе активных конечных точках, в отличие от DNS, в которых адресные записи и протокол DNS не предоставляет никакой гарантии, узел, связанный с адресом является активным в сети.  
  
## Другие кэши PNRP  
 Другое постоянное хранилище данных локальный кэш.  В дополнение к другим объектам, необходимые для действия PNRP, он может включать записи, связанные с сеансом или облаках совместной работы по протоколу PNRP, который может безопасно публиковать и синхронизировать между всеми участниками облака.  Этот реплицированный хранилище представляет представление данных о группе, которые должны быть одинаковыми для всех членов группы.  Технически эти объекты не является записью в стандартный se, а приложение, присутствие и данные объекта для локального кэша.  Использование облака PNRP гарантирует, что распространитьы объекты на все узлы в сеансе взаимодействия или облака PNRP.  Запишите репликацию между SSL польз элементов облака, чтобы обеспечить шифрование и целостность данных.  
  
 Если одноранговый узел соединения облаков, они автоматически не получают данные из локального кэша однорангового узла, к которому они вложат; они должны подписываться на узел узла, чтобы получить обновления в приложении присутствии и данные объекта.  После первоначальной синхронизации в одноранговые периодически повторно синхронизировать их реплицированные магазины, чтобы предоставить возможность всем членам группы последовательно имеют одно и то же представление.  Сеанс или приложения взаимодействия в сеансе взаимодействия могут также выполнять одну и ту же функцию.  
  
 После начала сеанса взаимодействия для приложения могут зарегистрировать облака одноранговых и разрабатывать публиковать их безопасность указанную информацию с помощью области облака.  Если одноранговый узел соединения облаков, механизмы безопасности, облака применены к узлу, присваивая ему область, в которой участвовать.  Ее записи могут затем публиковаться безопасно в области облака.  Обратите внимание, что область облака не может быть таким же, как и области определения приложения взаимодействия.  
  
 Одноранговые могут зарегистрировать процент при получении объекты из других узлов.  Когда объект обновления приложения взаимодействия уведомлено и новый объект передается на все подписчики приложения.  Например, одноранговый узел в приложении диалогов группы может зарегистрировать процент при получении данные приложений, которые отправляют они все записи диалога, как данные приложения.  Это позволяет ему активности монитора в облаке диалога.  
  
## См. также  
 <xref:System.Net.PeerToPeer>