---
title: Как выполнить Автор элементы управления для форм Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- controls [Windows Forms], creating
- UserControl class [Windows Forms], Windows Forms
- custom controls [Windows Forms], creating
ms.assetid: 7570e982-545b-4c3a-a7c7-55581d313400
ms.openlocfilehash: a6ea57dda8f034684e8590ce4c3b6d37ab01230e
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54579528"
---
# <a name="how-to-author-controls-for-windows-forms"></a><span data-ttu-id="4d3bc-102">Как выполнить Автор элементы управления для форм Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4d3bc-102">How to: Author Controls for Windows Forms</span></span>
<span data-ttu-id="4d3bc-103">Элемент управления выполняет роль визуальной связи между пользователем и программой.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-103">A control represents a graphical link between the user and the program.</span></span> <span data-ttu-id="4d3bc-104">Он может предоставлять или обрабатывать данные, принимать входные данные пользователя, реагировать на события или выполнять любые другие функции, устанавливающие связь между пользователем и приложением.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-104">A control can provide or process data, accept user input, respond to events, or perform any number of other functions that connect the user and the application.</span></span> <span data-ttu-id="4d3bc-105">Поскольку элемент управления — это по сути компонент с графическим интерфейсом, он может выполнять любую функцию компонента и в то же время обеспечивать взаимодействие с пользователем.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-105">Because a control is essentially a component with a graphical interface, it can serve any function that a component does, as well as provide user interaction.</span></span> <span data-ttu-id="4d3bc-106">Элементы управления создаются для конкретных целей, и процесс их создания входит в процесс программирования.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-106">Controls are created to serve specific purposes, and authoring controls is just another programming task.</span></span> <span data-ttu-id="4d3bc-107">Ниже описан процесс создания элемента управления с учетом всего вышесказанного.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-107">With that in mind, the following steps represent an overview of the control authoring process.</span></span> <span data-ttu-id="4d3bc-108">Ссылки указывают на дополнительные сведения об отдельных этапах.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-108">Links provide additional information on the individual steps.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4d3bc-109">Если вам необходимо создать пользовательский элемент управления для использования в Web Forms, см. раздел [Разработка пользовательских серверных элементов управления ASP.NET](https://msdn.microsoft.com/library/fbe26c16-cff4-4089-b3dd-877411f0c0ef).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-109">If you want to author a custom control to use on Web Forms, see [Developing Custom ASP.NET Server Controls](https://msdn.microsoft.com/library/fbe26c16-cff4-4089-b3dd-877411f0c0ef).</span></span>  
>   
>  <span data-ttu-id="4d3bc-110">Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих параметров или выпуска.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-110">The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.</span></span> <span data-ttu-id="4d3bc-111">Чтобы изменить параметры, выберите в меню **Сервис** пункт **Импорт и экспорт параметров** .</span><span class="sxs-lookup"><span data-stu-id="4d3bc-111">To change your settings, choose **Import and Export Settings** on the **Tools** menu.</span></span> <span data-ttu-id="4d3bc-112">Дополнительные сведения см. в разделе [Персонализация интегрированной среды разработки Visual Studio](/visualstudio/ide/personalizing-the-visual-studio-ide).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-112">For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).</span></span>  
  
### <a name="to-author-a-control"></a><span data-ttu-id="4d3bc-113">Создание элемента управления</span><span class="sxs-lookup"><span data-stu-id="4d3bc-113">To author a control</span></span>  
  
1.  <span data-ttu-id="4d3bc-114">Определите, какую функцию или роль ваш элемент управления должен выполнять в приложении.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-114">Determine what you want your control to accomplish, or what part it will play in your application.</span></span> <span data-ttu-id="4d3bc-115">При этом необходимо учитывать следующие факторы.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-115">Factors to consider are:</span></span>  
  
    -   <span data-ttu-id="4d3bc-116">Какого рода графический интерфейс вам требуется?</span><span class="sxs-lookup"><span data-stu-id="4d3bc-116">What kind of graphical interface do you need?</span></span>  
  
    -   <span data-ttu-id="4d3bc-117">Какие взаимодействия с пользователем будет обрабатывать этот элемент управления?</span><span class="sxs-lookup"><span data-stu-id="4d3bc-117">What specific user interactions will this control handle?</span></span>  
  
    -   <span data-ttu-id="4d3bc-118">Обладают ли необходимыми функциональными возможностями какие-либо из существующих элементов управления?</span><span class="sxs-lookup"><span data-stu-id="4d3bc-118">Is the functionality you need provided by any existing controls?</span></span>  
  
    -   <span data-ttu-id="4d3bc-119">Можно ли получить необходимую функциональную возможность, объединив несколько элементов управления Windows Forms?</span><span class="sxs-lookup"><span data-stu-id="4d3bc-119">Can you get the functionality you need by combining several Windows Forms controls?</span></span>  
  
2.  <span data-ttu-id="4d3bc-120">Если для элемента управления требуется объектная модель, определите, каким образом функциональные возможности будут распределяться по объектной модели, и разделите их между элементом управления и подчиненными объектами.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-120">If you need an object model for your control, determine how functionality will be distributed throughout the object model, and divide up functionality between the control and any subobjects.</span></span> <span data-ttu-id="4d3bc-121">Объектная модель может пригодиться при планировании сложного элемента управления, а также в случае, если вам требуется внедрить сразу несколько функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-121">An object model may be useful if you are planning a complex control, or want to incorporate several functionalities.</span></span>  
  
3.  <span data-ttu-id="4d3bc-122">Определите необходимый тип элемента управления (например, пользовательский элемент управления, настраиваемый элемент управления, наследуемый элемент управления Windows Forms).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-122">Determine the type of control (for example, user control, custom control, inherited Windows Forms control) you need.</span></span> <span data-ttu-id="4d3bc-123">Дополнительные сведения см. в разделах [Рекомендации относительно типов элементов управления](../../../../docs/framework/winforms/controls/control-type-recommendations.md) и [Разновидности пользовательских элементов управления](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-123">For details, see [Control Type Recommendations](../../../../docs/framework/winforms/controls/control-type-recommendations.md) and [Varieties of Custom Controls](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md).</span></span>  
  
4.  <span data-ttu-id="4d3bc-124">Представьте функции в качестве свойств, методов и событий элемента управления и его подчиненных объектов или вспомогательных структур и назначьте соответствующие уровни доступа (например, public, protected и т. д.).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-124">Express functionality as properties, methods, and events of the control and its subobjects or subsidiary structures, and assign appropriate access levels (for example, public, protected, and so on).</span></span>  
  
5.  <span data-ttu-id="4d3bc-125">Если для элемента управления необходима пользовательская отрисовка, добавьте соответствующий код.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-125">If you need custom painting for your control, add code for it.</span></span> <span data-ttu-id="4d3bc-126">Дополнительные сведения см. в разделе [Рисование и отрисовка пользовательского элемента управления](../../../../docs/framework/winforms/controls/custom-control-painting-and-rendering.md).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-126">For details, see [Custom Control Painting and Rendering](../../../../docs/framework/winforms/controls/custom-control-painting-and-rendering.md).</span></span>  
  
6.  <span data-ttu-id="4d3bc-127">Если элемент управления наследуется из <xref:System.Windows.Forms.UserControl>, можно проверить его поведение во время выполнения, построение проекта элемента управления и запустив его в **тестового контейнера UserControl**.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-127">If your control inherits from <xref:System.Windows.Forms.UserControl>, you can test its runtime behavior by building the control project and running it in the **UserControl Test Container**.</span></span> <span data-ttu-id="4d3bc-128">Дополнительные сведения см. в разделе [Как Тестирование во время выполнения поведения элемента UserControl](../../../../docs/framework/winforms/controls/how-to-test-the-run-time-behavior-of-a-usercontrol.md).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-128">For more information, see [How to: Test the Run-Time Behavior of a UserControl](../../../../docs/framework/winforms/controls/how-to-test-the-run-time-behavior-of-a-usercontrol.md).</span></span>  
  
7.  <span data-ttu-id="4d3bc-129">Кроме того, для тестирования и отладки элемента управления можно создать новый проект, например приложение Windows, и поместив его в контейнер.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-129">You can also test and debug your control by creating a new project, such as a Windows Application, and placing it into a container.</span></span> <span data-ttu-id="4d3bc-130">Этот процесс описан в составе [Пошаговое руководство: Создание составного элемента управления с помощью Visual Basic](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-basic.md).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-130">This process is demonstrated as part of [Walkthrough: Authoring a Composite Control with Visual Basic](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-basic.md).</span></span>  
  
8.  <span data-ttu-id="4d3bc-131">При добавлении каждой функции добавляйте ее в тестовый проект для реализации новых функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-131">As you add each feature, add features to your test project to exercise the new functionality.</span></span>  
  
9. <span data-ttu-id="4d3bc-132">Повторите эти действия, добавив необходимые уточнения.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-132">Repeat, refining the design.</span></span>  
  
10. <span data-ttu-id="4d3bc-133">Упакуйте и разверните элемент управления.</span><span class="sxs-lookup"><span data-stu-id="4d3bc-133">Package and deploy your control.</span></span> <span data-ttu-id="4d3bc-134">Дополнительные сведения см. в разделе [Развертывание приложений, служб и компонентов](https://msdn.microsoft.com/library/wtzawcsz).</span><span class="sxs-lookup"><span data-stu-id="4d3bc-134">For details, see [Deploying Applications, Services, and Components](https://msdn.microsoft.com/library/wtzawcsz).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4d3bc-135">См. также</span><span class="sxs-lookup"><span data-stu-id="4d3bc-135">See also</span></span>
- [<span data-ttu-id="4d3bc-136">Пошаговое руководство: Создание составного элемента управления с помощью Visual Basic</span><span class="sxs-lookup"><span data-stu-id="4d3bc-136">Walkthrough: Authoring a Composite Control with Visual Basic</span></span>](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-basic.md)
- [<span data-ttu-id="4d3bc-137">Пошаговое руководство: Наследование элементов управления Windows Forms с помощью Visual Basic</span><span class="sxs-lookup"><span data-stu-id="4d3bc-137">Walkthrough: Inheriting from a Windows Forms Control with Visual Basic</span></span>](../../../../docs/framework/winforms/controls/walkthrough-inheriting-from-a-windows-forms-control-with-visual-basic.md)
- [<span data-ttu-id="4d3bc-138">Практическое руководство. Наследование класса UserControl</span><span class="sxs-lookup"><span data-stu-id="4d3bc-138">How to: Inherit from the UserControl Class</span></span>](../../../../docs/framework/winforms/controls/how-to-inherit-from-the-usercontrol-class.md)
- [<span data-ttu-id="4d3bc-139">Практическое руководство. Наследовать от класса Control</span><span class="sxs-lookup"><span data-stu-id="4d3bc-139">How to: Inherit from the Control Class</span></span>](../../../../docs/framework/winforms/controls/how-to-inherit-from-the-control-class.md)
- [<span data-ttu-id="4d3bc-140">Практическое руководство. Наследование Windows существующих элементов управления формы</span><span class="sxs-lookup"><span data-stu-id="4d3bc-140">How to: Inherit from Existing Windows Forms Controls</span></span>](../../../../docs/framework/winforms/controls/how-to-inherit-from-existing-windows-forms-controls.md)
- [<span data-ttu-id="4d3bc-141">Практическое руководство. Тестирование во время выполнения поведения элемента UserControl</span><span class="sxs-lookup"><span data-stu-id="4d3bc-141">How to: Test the Run-Time Behavior of a UserControl</span></span>](../../../../docs/framework/winforms/controls/how-to-test-the-run-time-behavior-of-a-usercontrol.md)
- [<span data-ttu-id="4d3bc-142">Разновидности пользовательских элементов управления</span><span class="sxs-lookup"><span data-stu-id="4d3bc-142">Varieties of Custom Controls</span></span>](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md)
