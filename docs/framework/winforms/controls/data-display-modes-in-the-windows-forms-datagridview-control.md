---
title: Режимы отображения данных в элементе управления DataGridView в Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- data [Windows Forms], display modes
- data grids [Windows Forms], display modes
- DataGridView control [Windows Forms], display modes
ms.assetid: 9755a030-3f3f-4705-a661-ba5a48a81875
ms.openlocfilehash: 6800294f2bd3a126f9606a7877455248ec76f758
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54688177"
---
# <a name="data-display-modes-in-the-windows-forms-datagridview-control"></a><span data-ttu-id="4b621-102">Режимы отображения данных в элементе управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4b621-102">Data Display Modes in the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="4b621-103"><xref:System.Windows.Forms.DataGridView> Элемент управления может отображать данные в трех различных режимах: привязанного, не связанного с данными и виртуальных.</span><span class="sxs-lookup"><span data-stu-id="4b621-103">The <xref:System.Windows.Forms.DataGridView> control can display data in three distinct modes: bound, unbound, and virtual.</span></span> <span data-ttu-id="4b621-104">Выберите наиболее подходящий режим, в зависимости от ваших требований.</span><span class="sxs-lookup"><span data-stu-id="4b621-104">Choose the most suitable mode based on your requirements.</span></span>  
  
## <a name="unbound"></a><span data-ttu-id="4b621-105">Свободные</span><span class="sxs-lookup"><span data-stu-id="4b621-105">Unbound</span></span>  
 <span data-ttu-id="4b621-106">Несвязанный режим подходит для отображения относительно небольшим объемам данных, управляемых программным способом.</span><span class="sxs-lookup"><span data-stu-id="4b621-106">Unbound mode is suitable for displaying relatively small amounts of data that you manage programmatically.</span></span> <span data-ttu-id="4b621-107">Не присоединять <xref:System.Windows.Forms.DataGridView> управления непосредственно к источнику данных, как и в режиме привязки.</span><span class="sxs-lookup"><span data-stu-id="4b621-107">You do not attach the <xref:System.Windows.Forms.DataGridView> control directly to a data source as in bound mode.</span></span> <span data-ttu-id="4b621-108">Вместо этого вы должны самостоятельно заполнить элемент управления, обычно с помощью <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A?displayProperty=nameWithType> метод.</span><span class="sxs-lookup"><span data-stu-id="4b621-108">Instead, you must populate the control yourself, typically by using the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="4b621-109">Несвязанный режим может быть особенно полезно для статических, только для чтения данных, или если вы хотите предоставить собственный код, который взаимодействует с во внешнем хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4b621-109">Unbound mode can be particularly useful for static, read-only data, or when you want to provide your own code that interacts with an external data store.</span></span> <span data-ttu-id="4b621-110">Если требуется, чтобы пользователи могли взаимодействовать с внешним источником данных, тем не менее, обычно используется связанный режим.</span><span class="sxs-lookup"><span data-stu-id="4b621-110">When you want your users to interact with an external data source, however, you will typically use bound mode.</span></span>  
  
 <span data-ttu-id="4b621-111">Пример, в котором используется только для чтения несвязанных <xref:System.Windows.Forms.DataGridView>, см. в разделе [как: Создание элемента управления DataGridView в Windows свободной формы](../../../../docs/framework/winforms/controls/how-to-create-an-unbound-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4b621-111">For an example that uses a read-only unbound <xref:System.Windows.Forms.DataGridView>, see [How to: Create an Unbound Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-create-an-unbound-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="bound"></a><span data-ttu-id="4b621-112">привязан</span><span class="sxs-lookup"><span data-stu-id="4b621-112">Bound</span></span>  
 <span data-ttu-id="4b621-113">Связанный режим подходит для управления данными, с помощью автоматического взаимодействия с хранилищем данных.</span><span class="sxs-lookup"><span data-stu-id="4b621-113">Bound mode is suitable for managing data using automatic interaction with the data store.</span></span> <span data-ttu-id="4b621-114">Вы можете подключить <xref:System.Windows.Forms.DataGridView> управления непосредственно к источнику данных, задав <xref:System.Windows.Forms.DataGridView.DataSource%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="4b621-114">You can attach the <xref:System.Windows.Forms.DataGridView> control directly to its data source by setting the <xref:System.Windows.Forms.DataGridView.DataSource%2A> property.</span></span> <span data-ttu-id="4b621-115">Если элемент управления с привязкой к данным, строки данных отправкой и получением без необходимости явного управления со стороны пользователя.</span><span class="sxs-lookup"><span data-stu-id="4b621-115">When the control is data bound, data rows are pushed and pulled without the need of explicit management on your part.</span></span> <span data-ttu-id="4b621-116">Когда <xref:System.Windows.Forms.DataGridView.AutoGenerateColumns%2A> свойство `true`, каждый столбец в источнике данных вызовет соответствующий столбец должен быть создан в элементе управления.</span><span class="sxs-lookup"><span data-stu-id="4b621-116">When the <xref:System.Windows.Forms.DataGridView.AutoGenerateColumns%2A> property is `true`, each column in your data source will cause a corresponding column to be created in the control.</span></span> <span data-ttu-id="4b621-117">Если вы хотите создать собственные столбцы, это свойство можно задать `false` и использовать <xref:System.Windows.Forms.DataGridViewColumn.DataPropertyName%2A> свойство для привязки каждого столбца при его настройке.</span><span class="sxs-lookup"><span data-stu-id="4b621-117">If you prefer to create your own columns, you can set this property to `false` and use the <xref:System.Windows.Forms.DataGridViewColumn.DataPropertyName%2A> property to bind each column when you configure it.</span></span> <span data-ttu-id="4b621-118">Это полезно в том случае, если вы хотите использовать тип столбца, отличного от типов, которые создаются по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4b621-118">This is useful when you want to use a column type other than the types that are generated by default.</span></span> <span data-ttu-id="4b621-119">Дополнительные сведения см. в разделе [типы столбцов элемента управления DataGridView в Windows Forms](../../../../docs/framework/winforms/controls/column-types-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4b621-119">For more information, see [Column Types in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/column-types-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="4b621-120">Пример с использованием связанного <xref:System.Windows.Forms.DataGridView> управления, см. в разделе [Пошаговое руководство: Проверка данных в Windows Forms элемента управления DataGridView](../../../../docs/framework/winforms/controls/walkthrough-validating-data-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4b621-120">For an example that uses a bound <xref:System.Windows.Forms.DataGridView> control, see [Walkthrough: Validating Data in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/walkthrough-validating-data-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="4b621-121">Можно также добавить несвязанные столбцы для <xref:System.Windows.Forms.DataGridView> элемента управления в режиме привязки.</span><span class="sxs-lookup"><span data-stu-id="4b621-121">You can also add unbound columns to a <xref:System.Windows.Forms.DataGridView> control in bound mode.</span></span> <span data-ttu-id="4b621-122">Это полезно в том случае, если вы хотите отобразить столбец кнопки или ссылки, позволяющие пользователям выполнять действия с определенными строками.</span><span class="sxs-lookup"><span data-stu-id="4b621-122">This is useful when you want to display a column of buttons or links that enable users to perform actions on specific rows.</span></span> <span data-ttu-id="4b621-123">Это также полезно для отображения столбцов со значениями, вычисленный на основе связанных столбцов.</span><span class="sxs-lookup"><span data-stu-id="4b621-123">It is also useful to display columns with values calculated from bound columns.</span></span> <span data-ttu-id="4b621-124">Можно заполнить значения ячейки для вычисляемых столбцов в обработчике <xref:System.Windows.Forms.DataGridView.CellFormatting> событий.</span><span class="sxs-lookup"><span data-stu-id="4b621-124">You can populate the cell values for calculated columns in a handler for the <xref:System.Windows.Forms.DataGridView.CellFormatting> event.</span></span> <span data-ttu-id="4b621-125">Если вы используете <xref:System.Data.DataSet> или <xref:System.Data.DataTable> как источник данных, тем не менее, может потребоваться использовать <xref:System.Data.DataColumn.Expression%2A?displayProperty=nameWithType> свойство, чтобы вместо этого создать вычисляемый столбец.</span><span class="sxs-lookup"><span data-stu-id="4b621-125">If you are using a <xref:System.Data.DataSet> or <xref:System.Data.DataTable> as the data source, however, you might want to use the <xref:System.Data.DataColumn.Expression%2A?displayProperty=nameWithType> property to create a calculated column instead.</span></span> <span data-ttu-id="4b621-126">В этом случае <xref:System.Windows.Forms.DataGridView> управления будет рассматривать вычисляемый столбец так же, как и любой другой столбец в источнике данных.</span><span class="sxs-lookup"><span data-stu-id="4b621-126">In this case, the <xref:System.Windows.Forms.DataGridView> control will treat calculated column just like any other column in the data source.</span></span>  
  
 <span data-ttu-id="4b621-127">Сортировка по несвязанных столбцов в связанном режиме не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="4b621-127">Sorting by unbound columns in bound mode is not supported.</span></span> <span data-ttu-id="4b621-128">Если создание непривязанного столбца в режиме привязки, содержащий изменяемые пользователем значения, необходимо реализовать виртуального режима для сохранения этих значений, когда элемент управления отсортирован по связанному столбцу.</span><span class="sxs-lookup"><span data-stu-id="4b621-128">If you create an unbound column in bound mode that contains user-editable values, you must implement virtual mode to maintain these values when the control is sorted by a bound column.</span></span>  
  
## <a name="virtual"></a><span data-ttu-id="4b621-129">виртуальный</span><span class="sxs-lookup"><span data-stu-id="4b621-129">Virtual</span></span>  
 <span data-ttu-id="4b621-130">Виртуальный режим можно реализовать собственные операции управления данными.</span><span class="sxs-lookup"><span data-stu-id="4b621-130">With virtual mode, you can implement your own data management operations.</span></span> <span data-ttu-id="4b621-131">Это необходимо для сохранения значений несвязанных столбцов в связанном режиме, когда элемент управления сортируется по привязанные столбцы.</span><span class="sxs-lookup"><span data-stu-id="4b621-131">This is necessary to maintain the values of unbound columns in bound mode when the control is sorted by bound columns.</span></span> <span data-ttu-id="4b621-132">Основной виртуальный режим, тем не менее, используется для оптимизации производительности при взаимодействии с большими объемами данных.</span><span class="sxs-lookup"><span data-stu-id="4b621-132">The primary use of virtual mode, however, is to optimize performance when interacting with large amounts of data.</span></span>  
  
 <span data-ttu-id="4b621-133">Присоединении <xref:System.Windows.Forms.DataGridView> управления кэша, которыми вы управляете и код управляет отправкой и получением строк данных.</span><span class="sxs-lookup"><span data-stu-id="4b621-133">You attach the <xref:System.Windows.Forms.DataGridView> control to a cache that you manage, and your code controls when data rows are pushed and pulled.</span></span> <span data-ttu-id="4b621-134">Чтобы сохранить небольшой объем памяти, кэша должен быть размер аналогичен количество отображаемых строк.</span><span class="sxs-lookup"><span data-stu-id="4b621-134">To keep the memory footprint small, the cache should be similar in size to the number of rows currently displayed.</span></span> <span data-ttu-id="4b621-135">Когда пользователь прокручивает новых строк в представление, код запрашивает новые данные из кэша и при необходимости очищает старые данные из памяти.</span><span class="sxs-lookup"><span data-stu-id="4b621-135">When the user scrolls new rows into view, your code requests new data from the cache and optionally flushes old data from memory.</span></span>  
  
 <span data-ttu-id="4b621-136">При реализации виртуального режима, необходимо отслеживать, если строку необходимо в модели данных и при откате добавления новой строки.</span><span class="sxs-lookup"><span data-stu-id="4b621-136">When you are implementing virtual mode, you will need to track when a new row is needed in the data model and when to rollback the addition of the new row.</span></span> <span data-ttu-id="4b621-137">Конкретная реализация этих функциональных возможностей будет зависеть от реализации модели данных и семантика транзакций модели данных; является ли область фиксации на уровне ячейки или строки.</span><span class="sxs-lookup"><span data-stu-id="4b621-137">The exact implementation of this functionality will depend on the implementation of the data model and the transaction semantics of the data model; whether commit scope is at the cell or row level.</span></span>  
  
 <span data-ttu-id="4b621-138">Дополнительные сведения о виртуальном режиме, см. в разделе [виртуальный режим в элементе управления DataGridView Windows Forms](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4b621-138">For more information about virtual mode, see [Virtual Mode in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md).</span></span> <span data-ttu-id="4b621-139">Пример, показывающий, как использовать события в виртуальном режиме, см. в разделе [Пошаговое руководство: Реализация виртуального режима в Windows Forms элемента управления DataGridView](../../../../docs/framework/winforms/controls/implementing-virtual-mode-wf-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4b621-139">For an example that shows how to use virtual mode events, see [Walkthrough: Implementing Virtual Mode in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/implementing-virtual-mode-wf-datagridview-control.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4b621-140">См. также</span><span class="sxs-lookup"><span data-stu-id="4b621-140">See also</span></span>
- <xref:System.Windows.Forms.DataGridView>
- <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.DataGridView.VirtualMode%2A?displayProperty=nameWithType>
- <xref:System.Windows.Forms.BindingSource>
- <xref:System.Windows.Forms.DataGridViewColumn.DataPropertyName%2A?displayProperty=nameWithType>
- [<span data-ttu-id="4b621-141">Отображение данных с помощью элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4b621-141">Displaying Data in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/displaying-data-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="4b621-142">Типы столбцов элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4b621-142">Column Types in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/column-types-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="4b621-143">Пошаговое руководство: Создание не связанного с данными Windows Forms элемента управления DataGridView</span><span class="sxs-lookup"><span data-stu-id="4b621-143">Walkthrough: Creating an Unbound Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/walkthrough-creating-an-unbound-windows-forms-datagridview-control.md)
- [<span data-ttu-id="4b621-144">Практическое руководство. Привязка данных к элементу управления DataGridView Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4b621-144">How to: Bind Data to the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/how-to-bind-data-to-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="4b621-145">Виртуальный режим элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4b621-145">Virtual Mode in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="4b621-146">Пошаговое руководство: Реализация виртуального режима для элемента управления DataGridView в Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4b621-146">Walkthrough: Implementing Virtual Mode in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/implementing-virtual-mode-wf-datagridview-control.md)
