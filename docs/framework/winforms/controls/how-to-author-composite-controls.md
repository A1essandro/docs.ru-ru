---
title: "Практическое руководство. Создание составных элементов управления | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-winforms"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "jsharp"
helpviewer_keywords: 
  - "составные элементы управления, создание"
  - "пользовательские элементы управления [Windows Forms], создание"
  - "пользовательские элементы управления [Windows Forms], наследование от"
  - "UserControl - класс, создание составных элементов управления"
ms.assetid: 79c9cf05-5ab6-4a18-886d-88a64748b098
caps.latest.revision: 11
author: "dotnet-bot"
ms.author: "dotnetcontent"
manager: "wpickett"
caps.handback.revision: 11
---
# Практическое руководство. Создание составных элементов управления
Составные элементы управления могут применяться несколькими способами.  Можно создать их как часть проекта приложения для рабочего стола Windows и использовать затем только в формах проекта.  Можно также создать их в проекте библиотеки элементов управления Windows, скомпилировать проект в сборку, а затем использовать элементы управления в других проектах.  Можно даже наследовать их и использовать визуальное наследование для быстрой настройки.  
  
> [!NOTE]
>  Если необходимо создать составной элемент управления для использования в конструкторе Web Forms, см. раздел [Developing Custom ASP.NET Server Controls](../Topic/Developing%20Custom%20ASP.NET%20Server%20Controls.md).  
>   
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих настроек или выпуска.  Чтобы изменить параметры, в меню **Сервис** выберите команду **Импорт и экспорт параметров**.  Дополнительные сведения см. в разделе [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/ru-ru/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
### Чтобы создать составной элемент управления, выполните следующие действия:  
  
1.  Откройте новый проект **Приложение Windows** с именем `DemoControlHost`.  
  
2.  В меню **Проект** выберите команду **Добавить пользовательский элемент управления**.  
  
3.  В диалоговом окне **Добавление нового элемента** присвойте файлу класса \(.vb или .cs\) имя, которое планируется назначить составному элементу управления.  
  
4.  Нажмите кнопку **Добавить**, чтобы создать файл класса для составного элемента управления.  
  
5.  Добавьте элементы управления из **панели элементов** на поверхность составного элемента управления.  
  
6.  Поместите код в процедуры событий для обработки событий, вызываемых составным элементом управления или входящими в его состав элементами управления.  
  
7.  Закройте конструктор для составного элемента управления и сохраните файл в ответ на соответствующее приглашение.  
  
8.  В меню **Построение** выберите **Построить решение**.  
  
     Построение проекта необходимо для того, чтобы пользовательские элементы управления отображались в **панели элементов**.  
  
9. Используя вкладку **DemoControlHost** в **панели элементов**, добавьте экземпляры элемента управления в форму `Form1`.  
  
### Чтобы разработать библиотеку классов элементов управления, выполните следующие действия:  
  
1.  Откройте новый проект **Библиотека элементов управления Windows**.  
  
     По умолчанию проект содержит составной элемент управления.  
  
2.  Добавьте элементы управления и код, как описано в предыдущей процедуре.  
  
3.  Выберите элемент управления, который не должен изменяться при наследовании классов, и задайте для свойства **Модификаторы** этого элемента управления значение **Private**.  
  
4.  Постройте библиотеку DLL.  
  
### Чтобы наследовать из составного элемента управления в библиотеке классов элементов управления, выполните следующие действия:  
  
1.  В меню **Файл** выберите **Создать**, затем выберите **Создать проект**, чтобы добавить в решение новый проект **Приложение Windows**.  
  
2.  В **обозревателе решений** щелкните правой кнопкой мыши папку **Ссылки** для нового проекта, затем выберите команду **Добавить ссылку**, чтобы открыть диалоговое окно **Добавление ссылки**.  
  
3.  Выберите вкладку **Проекты** и дважды щелкните проект библиотеки элементов управления.  
  
4.  В меню **Построение** выберите **Построить решение**.  
  
5.  В **обозревателе решений** щелкните правой кнопкой мыши проект библиотеки элементов управления и выберите из контекстного меню команду **Добавить новый элемент**.  
  
6.  В диалоговом окне **Добавление нового элемента** выберите шаблон **Производный пользовательский элемент управления**.  
  
7.  В диалоговом окне **Выбор компонентов для наследования** дважды щелкните элемент управления, который необходимо наследовать.  
  
     В проект добавляется новый элемент управления.  
  
8.  Откройте визуальный конструктор для нового элемента управления и добавьте в него необходимые вложенные элементы управления.  
  
     В окне будут показаны вложенные элементы управления, унаследованные из составного элемента управления в библиотеке DLL, причем свойства тех элементов управления, для которых свойство **Модификаторы** имеет значение **Public**, можно изменять.  Свойства элементов управления, для которых свойство **Модификаторы** имеет значение **Private**, изменять нельзя.  
  
## См. также  
 [Пример. Создание составного элемента управления с помощью Visual Basic](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-basic.md)   
 [Пример. Создание составного элемента управления с помощью C\#](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-csharp.md)   
 [Пример. Наследование элементов управления форм Windows Forms с помощью Visual Basic](../../../../docs/framework/winforms/controls/walkthrough-inheriting-from-a-windows-forms-control-with-visual-basic.md)   
 [Пример. Наследование элементов управления форм Windows Forms с помощью Visual C\#](../../../../docs/framework/winforms/controls/walkthrough-inheriting-from-a-windows-forms-control-with-visual-csharp.md)   
 [Рекомендации относительно типов элементов управления](../../../../docs/framework/winforms/controls/control-type-recommendations.md)   
 [Практическое руководство. Создание элементов управления для форм Windows Forms](../../../../docs/framework/winforms/controls/how-to-author-controls-for-windows-forms.md)   
 [Создание собственных элементов управления](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md)