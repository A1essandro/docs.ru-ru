---
title: "Пример. Автоматическое заполнение панели элементов пользовательскими компонентами | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-winforms"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "jsharp"
helpviewer_keywords: 
  - "пользовательские компоненты, добавление в панель элементов"
  - "IToolboxService - интерфейс"
  - "Панель элементов [Windows Forms], заполнение"
ms.assetid: 2fa1e3e8-6b9f-42b2-97c0-2be57444dba4
caps.latest.revision: 22
author: "dotnet-bot"
ms.author: "dotnetcontent"
manager: "wpickett"
caps.handback.revision: 22
---
# Пример. Автоматическое заполнение панели элементов пользовательскими компонентами
Если компоненты определяются проектом в открытом в настоящее время решении, они будут автоматически отображаться в **панели элементов**, никаких дополнительных действий не требуется.  Также можно вручную заполнять **панель элементов** компонентами с помощью [Choose Toolbox Items Dialog Box \(Visual Studio\)](http://msdn.microsoft.com/ru-ru/bd07835f-18a8-433e-bccc-7141f65263bb), однако **панель элементов** учитывает элементы в результатах построения со всеми следующими характеристиками.  
  
-   Реализует метод <xref:System.ComponentModel.IComponent>.  
  
-   Не устанавливает <xref:System.ComponentModel.ToolboxItemAttribute> равным `false`.  
  
-   Не устанавливает <xref:System.ComponentModel.DesignTimeVisibleAttribute> равным `false`.  
  
> [!NOTE]
>  **Панель элементов** не отслеживает цепочки ссылок, поэтому в ней не будут показаны элементы, которые не были собраны проектом в вашем решении.  
  
 В этом пошаговом руководстве демонстрируется автоматическое появление пользовательского компонента в **панели элементов** при создании компонента.  В этом пошаговом руководстве демонстрируется выполнение следующих задач.  
  
-   Создание проекта типа Windows Forms  
  
-   Создание пользовательского компонента  
  
-   Создание экземпляра пользовательского компонента  
  
-   Выгрузка и повторная загрузка пользовательского компонента  
  
 По завершении вы увидите, что в **панели элементов** есть только что созданный компонент.  
  
> [!NOTE]
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих настроек или выпуска.  Чтобы изменить параметры, в меню **Сервис** выберите команду **Импорт и экспорт параметров**.  Дополнительные сведения см. в разделе [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/ru-ru/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
## Создание проекта  
 Для начала следует создать проект и подготовить форму.  
  
#### Создание проекта  
  
1.  Создайте проект приложения Windows под названием `ToolboxExample`.  
  
     Дополнительные сведения см. в разделе [How to: Create a Windows Application Project](http://msdn.microsoft.com/ru-ru/b2f93fed-c635-4705-8d0e-cf079a264efa).  
  
2.  Добавьте новый компонент в проект.  Назовите его `DemoComponent`.  
  
     Дополнительные сведения см. в разделе [NIB:How to: Add New Project Items](http://msdn.microsoft.com/ru-ru/63d3e16b-de6e-4bb5-a0e3-ecec762201ce).  
  
3.  Выполните построение проекта.  
  
4.  В меню **Сервис** щелкните **Параметры**.  Щелкните **Общие** в разделе **Конструктор Windows Forms** и убедитесь, что параметр **AutoToolboxPopulate** имеет значение **True**.  
  
## Создание экземпляра пользовательского компонента  
 Далее необходимо создать экземпляр пользовательского компонента в форме.  Поскольку новый компонент автоматически учитывается в **панели элементов**, создать новый компонент так же просто, как и любой другой компонент или элемент управления.  
  
#### Чтобы создать экземпляра пользовательского компонента, выполните следующие действия.  
  
1.  Откройте форму проекта в **Конструкторе Windows Forms**.  
  
2.  В **панели элементов** перейдите на новую вкладку под названием **ToolboxExample Components**.  
  
     На этой вкладке вы увидите **DemoComponent**.  
  
    > [!NOTE]
    >  Для повышения производительности компоненты в автоматически заполняемой области **панели элементов** отображаются без нестандартных точечных рисунков, <xref:System.Drawing.ToolboxBitmapAttribute> не поддерживается.  Для отображения значка для пользовательского компонента в **панели элементов** используйте окно **Выберите элементы панели элементов** для загрузки вашего компонента.  
  
3.  Перетащите компонент в форму.  
  
     При этом экземпляр компонента создается и добавляется в **область компонентов**.  
  
## Выгрузка и повторная загрузка пользовательского компонента  
 В **панели элементов** отображаются компоненты каждого загруженного проекта, а при выгрузке проекта ссылки на компоненты проекта удаляются.  
  
#### Чтобы поэкспериментировать с влиянием выгрузки и загрузки компонентов на Панель элементов, выполните следующие действия.  
  
1.  Выгрузите проект из решения.  
  
     Дополнительные сведения о выгрузке проектов см. в разделе [NIB:How to: Unload and Reload Projects](http://msdn.microsoft.com/ru-ru/abc0155b-8fcb-4ffc-95b6-698518a7100b).  Нажмите кнопку **Да** для сохранения изменений.  
  
2.  В решение добавьте новый проект **Приложение Windows**.  Откройте форму в **конструкторе**.  
  
     Вкладка **ToolboxExample Components** из предыдущего проекта будет отсутствовать.  
  
3.  Заново загрузите проект `ToolboxExample`.  
  
     Вкладка **ToolboxExample Components** появится снова.  
  
## Следующие действия  
 Это пошаговое руководство описывает отображение компонентов проектов в **панели элементов**, однако в **области элементов** также отображаются элементы управления.  Попробуйте поработать с вашими собственными элементами управления, добавляя и проекты с ними в решение и удаляя их.  
  
## См. также  
 [General, Windows Forms Designer, Options Dialog Box](http://msdn.microsoft.com/ru-ru/8dd170af-72f0-4212-b04b-034ceee92834)   
 [How to: Manipulate Toolbox Tabs](http://msdn.microsoft.com/ru-ru/21285050-cadd-455a-b1f5-a2289a89c4db)   
 [Choose Toolbox Items Dialog Box \(Visual Studio\)](http://msdn.microsoft.com/ru-ru/bd07835f-18a8-433e-bccc-7141f65263bb)   
 [Размещение элементов управления в формах Windows Forms](../../../../docs/framework/winforms/controls/putting-controls-on-windows-forms.md)