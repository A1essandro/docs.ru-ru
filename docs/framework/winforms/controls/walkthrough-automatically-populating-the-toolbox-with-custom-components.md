---
title: "Пример. Автоматическое заполнение панели элементов пользовательскими компонентами"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- IToolboxService interface
- Toolbox [Windows Forms], populating
- custom components [Windows Forms], adding to Toolbox
ms.assetid: 2fa1e3e8-6b9f-42b2-97c0-2be57444dba4
caps.latest.revision: "22"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 691487046e2a34dbf233dc4bc03e20f9ec245da1
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="walkthrough-automatically-populating-the-toolbox-with-custom-components"></a>Пример. Автоматическое заполнение панели элементов пользовательскими компонентами
Если компоненты определяются проектом в текущем открытом решении, они автоматически будут отображаться в **элементов**, с без дополнительных действий не требуется. Можно также вручную заполнять **элементов** компонентами с помощью [выберите Toolbox Items Dialog Box (Visual Studio)](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb), но **элементов** принимает учетной записи элементов в вашем решении выходным данным построения со следующими характеристиками:  
  
-   Реализует <xref:System.ComponentModel.IComponent>;  
  
-   Не поддерживает <xref:System.ComponentModel.ToolboxItemAttribute> значение `false`;  
  
-   Не поддерживает <xref:System.ComponentModel.DesignTimeVisibleAttribute> значение `false`.  
  
> [!NOTE]
>  **Элементов** отслеживает цепочки ссылок, поэтому не будут показаны элементы, которые не были собраны проектом в вашем решении.  
  
 В этом пошаговом руководстве показано, как пользовательский компонент автоматически появится в **элементов** при компонента. В данном пошаговом руководстве представлены следующие задачи.  
  
-   Создание проекта Windows Forms.  
  
-   Создание пользовательского компонента.  
  
-   Создание экземпляра пользовательского компонента.  
  
-   Выгрузка и повторная загрузка пользовательского компонента.  
  
 Когда вы закончите, вы увидите, что **элементов** заполняется только что созданный компонент.  
  
> [!NOTE]
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих параметров или выпуска. Чтобы изменить параметры, выберите в меню **Сервис** пункт **Импорт и экспорт параметров** . Дополнительные сведения см. в статье [Настройка параметров разработки в Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
## <a name="creating-the-project"></a>Создание проекта  
 Первым шагом являются создание проекта и настройка формы.  
  
#### <a name="to-create-the-project"></a>Создание проекта  
  
1.  Создайте проект приложения Windows с именем `ToolboxExample`.  
  
     Для получения дополнительной информации см. [How to: Create a Windows Application Project](http://msdn.microsoft.com/en-us/b2f93fed-c635-4705-8d0e-cf079a264efa).  
  
2.  Добавьте новый компонент в проект. Она вызывается `DemoComponent`.  
  
     Дополнительные сведения см. в разделе [NIB: Практическое: Добавление новых элементов проекта](http://msdn.microsoft.com/en-us/63d3e16b-de6e-4bb5-a0e3-ecec762201ce).  
  
3.  Выполните построение проекта.  
  
4.  Из **средства** меню, нажмите кнопку **параметры** элемента. Нажмите кнопку **Общие** под **конструктор Windows Forms** элемента и убедитесь, что **AutoToolboxPopulate** включен режим **True**.  
  
## <a name="creating-an-instance-of-a-custom-component"></a>Создание экземпляра пользовательского компонента  
 Следующим шагом является создание экземпляра пользовательского компонента в форме. Поскольку **элементов** автоматически учетные записи для нового компонента, это так же легко, как создание любого компонента или элемента управления.  
  
#### <a name="to-create-an-instance-of-a-custom-component"></a>Для создания экземпляра пользовательского компонента  
  
1.  Откройте форму проекта в **конструктор форм**.  
  
2.  В **элементов**, щелкните вкладку новый вызывается **ToolboxExample компонентов**.  
  
     После выбора закладки, вы увидите **DemoComponent**.  
  
    > [!NOTE]
    >  Из соображений производительности компонентов в области автоматически заполняемая **элементов** не отображать пользовательские растровые изображения и <xref:System.Drawing.ToolboxBitmapAttribute> не поддерживается. Для отображения значка для пользовательского компонента в **элементов**, используйте **Выбор элементов панели элементов** диалогового загрузить компонент.  
  
3.  Перетащите компонент в форме.  
  
     Создается и добавляется в экземпляр компонента **область компонентов**.  
  
## <a name="unloading-and-reloading-a-custom-component"></a>Выгрузка и повторная загрузка пользовательского компонента  
 **Элементов** принимает учетной записи компонентов в каждом загружен проект, а при выгрузке проекта ссылки на компоненты проекта удаляются.  
  
#### <a name="to-experiment-with-the-effect-on-the-toolbox-of-unloading-and-reloading-components"></a>Чтобы поэкспериментировать с последствиями для выгрузки и загрузки компонентов на панель элементов  
  
1.  Выгрузите проект из решения.  
  
     Дополнительные сведения о выгрузке проектов см. в разделе [NIB: Практическое: выгрузка и перезагрузка проектов](http://msdn.microsoft.com/en-us/abc0155b-8fcb-4ffc-95b6-698518a7100b). Если будет предложено сохранить, выберите **Да**.  
  
2.  Добавьте новый **приложение Windows** проекта в решение. Откройте форму в **конструктор**.  
  
     **ToolboxExample компоненты** вкладку из предыдущего проекта теперь является исчезнут.  
  
3.  Перезагрузить `ToolboxExample` проекта.  
  
     **Компоненты ToolboxExample** вкладке теперь отобразится.  
  
## <a name="next-steps"></a>Дальнейшие действия  
 В этом пошаговом руководстве показано, что **элементов** компонентов проекта, но **элементов** также является учетной записью принимает элементов управления. Поэкспериментируйте с пользовательским элементам управления, добавляя и удаляя управления проектами в решении.  
  
## <a name="see-also"></a>См. также  
 [Общие, конструктор Windows Forms, диалоговое окно «Параметры»](http://msdn.microsoft.com/en-us/8dd170af-72f0-4212-b04b-034ceee92834)  
 [Практическое руководство. Управление вкладками панели элементов](http://msdn.microsoft.com/en-us/21285050-cadd-455a-b1f5-a2289a89c4db)  
 [Диалоговое окно "Выбор элементов панели элементов" (Visual Studio)](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb)  
 [Размещение элементов управления в формах Windows Forms](../../../../docs/framework/winforms/controls/putting-controls-on-windows-forms.md)
