---
title: "Пример. Упорядочение элементов управления в формах Windows Forms с помощью линий привязки | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-winforms"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "jsharp"
helpviewer_keywords: 
  - "элементы управления [Windows Forms], упорядочение с помощью линий привязки"
  - "SnapLine - класс, пошаговые руководства"
  - "линии привязки, упорядочение элементов управления Windows Forms"
  - "элементы управления Windows Forms, упорядочение"
ms.assetid: d5c9edc7-cf30-4a97-8ebe-201d569340f8
caps.latest.revision: 24
author: "dotnet-bot"
ms.author: "dotnetcontent"
manager: "wpickett"
caps.handback.revision: 24
---
# Пример. Упорядочение элементов управления в формах Windows Forms с помощью линий привязки
Точное расположение элементов управления на форме является важным для многих приложений.  Конструктор Windows Forms предоставляет широкий набор параметров макета, позволяющих выполнить эту задачу.  Одним из наиболее важных методов является возможность <xref:System.Windows.Forms.Design.Behavior.SnapLine>.  
  
 Линии привязки точно показывают, как выровнять элементы управления по отношению к другим элементам управления.  Они также показывают рекомендуемое расстояние между элементами управления в соответствии с рекомендациями по пользовательскому интерфейсу Windows.  Дополнительные сведения см. на странице [Проектирование и разработка пользовательского интерфейса](http://go.microsoft.com/FWLink/?LinkId=83878).  
  
 Линии привязки облегчают процесс выравнивания элементов управления и позволяют добиться идеального профессионального внешнего вида и поведения интерфейса.  
  
 В этом пошаговом руководстве демонстрируется выполнение следующих задач.  
  
-   создание проекта типа Windows Forms;  
  
-   Задание расстояния между элементами управления и их выравнивание с помощью линий привязки  
  
-   Выравнивание по полям формы и контейнера  
  
-   Выравнивание по сгруппированным элементам управления  
  
-   Использование линий привязки для размещения элемента управления, обрисовывая его контур  
  
-   Использование линий привязки при перетаскивании элемента управления из панели элементов  
  
-   Изменение размеров элементов управления с помощью линий привязки  
  
-   Выравнивание метки по тексту элемента управления  
  
-   Использование линий привязки при работе с клавиатурой  
  
-   Панели линий привязки и макета  
  
-   Отключение линий привязки  
  
 Работа с этим примером позволяет составить представление о той роли, которую играют линии привязки при создании макета.  
  
> [!NOTE]
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от текущих настроек или выпуска.  Чтобы изменить параметры, в меню **Сервис** выберите команду **Импорт и экспорт параметров**.  Дополнительные сведения см. в разделе [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/ru-ru/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
## Создание проекта  
 Для начала следует создать проект и подготовить форму.  
  
#### Создание проекта  
  
1.  Создайте проект приложения на базе Windows и назовите его "SnaplineExample".  Дополнительные сведения см. в разделе [How to: Create a Windows Application Project](http://msdn.microsoft.com/ru-ru/b2f93fed-c635-4705-8d0e-cf079a264efa).  
  
2.  Откройте форму в конструкторе форм.  
  
## Задание расстояния между элементами управления и их выравнивание с помощью линий привязки  
 Линии привязки позволяют точно и легко выровнять элементы управления в форме.  Они отображаются при помещении выбранного элемента управления или элементов управления рядом с положением, где они будут выравниваться по другому элементу управления или набору элементов управления.  Выбранные элементы управления "привязываются" к предлагаемому положению при перемещении их мимо других элементов управления.  
  
#### Чтобы расположить элементы управления, используя линии привязки  
  
1.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в форму.  
  
2.  Переместите элемент управления <xref:System.Windows.Forms.Button> в правый нижний угол формы.  Обратите внимание на линии привязки, отображающиеся при приближении элемента управления <xref:System.Windows.Forms.Button> к нижней и правой границе формы.  Эти линии привязки показывают рекомендованное расстояние между границами элемента управления и формы.  
  
3.  Переместите элемент управления <xref:System.Windows.Forms.Button> вдоль границ формы и обратите внимание, в каких местах появляются линии привязки.  По завершении этой процедуры переместите элемент управления <xref:System.Windows.Forms.Button> ближе к центру формы.  
  
4.  Перетащите еще один элемент управления <xref:System.Windows.Forms.Button> с **панели элементов** на форму.  
  
5.  Перемещайте второй элемент управления <xref:System.Windows.Forms.Button>, чтобы он оказался почти на том же уровне, что и первый.  Обратите внимание на линии привязки, появляющиеся вдоль базового плана текста обеих кнопок. Обратите внимание, что перемещаемый элемент управления привязывается к положению, которое находится точно на том же уровне, что и другой элемент управления.  
  
6.  Переместите второй элемент управления <xref:System.Windows.Forms.Button>, чтобы он оказался непосредственно над первым.  Обратите внимание на линии привязки, появляющиеся вдоль левого и правого краев обеих кнопок. Обратите внимание, что перемещаемый элемент управления привязывается к положению, точно выровненному по отношению к другому элементу управления.  
  
7.  Выберите один из элементов управления <xref:System.Windows.Forms.Button> и приблизьте его к другому почти до касания.  Обратите внимание на линию привязки, которая появляется между ними.  Это рекомендуемое расстояние между границами элементов управления.  Также обратите внимание, что перемещаемый элемент управления привязывается к этому положению.  
  
8.  Перетащите два элемента управления <xref:System.Windows.Forms.Panel> с **панели элементов** на форму.  
  
9. Перемещайте один из элементов управления <xref:System.Windows.Forms.Panel>, чтобы он оказался почти на том же уровне, что и первый.  Обратите внимание на линии привязки, появляющиеся вдоль верхнего и нижнего краев обоих элементов управления. Обратите внимание, что перемещаемый элемент управления привязывается к положению, расположенному точно на том же уровне, что и другой элемент управления.  
  
## Выравнивание по полям формы и контейнера  
 Линии привязки позволяют единообразно выровнять элементы управления вдоль полей формы и контейнера.  
  
#### Чтобы выровнять элементы управления по полям формы и контейнера  
  
1.  Выберите один из элементов управления <xref:System.Windows.Forms.Button> и перемещайте его ближе к правой границе формы до появления линии привязки.  Расстояние от линии привязки до правой границы \- это сумма значений свойства <xref:System.Windows.Forms.Control.Margin%2A> элемента управления и свойства <xref:System.Windows.Forms.Control.Padding%2A> формы.  
  
> [!NOTE]
>  Если в качестве значения свойства <xref:System.Windows.Forms.Control.Padding%2A> формы указано 0,0,0,0, конструктор Windows Forms присваивает форме скрытое значение <xref:System.Windows.Forms.Control.Padding%2A>, равное 9,9,9,9.  Чтобы переопределить это поведение, присвойте значение, отличное от 0,0,0,0.  
  
1.  Измените значение свойства <xref:System.Windows.Forms.Control.Margin%2A> элемента управления <xref:System.Windows.Forms.Button>, развернув пункт <xref:System.Windows.Forms.Control.Margin%2A> в окне **Свойства** и установив значение свойства <xref:System.Windows.Forms.Padding.All%2A> равным 0.  Дополнительные сведения см. в разделе [Пошаговое руководство. Создание структуры элементов управления Windows Forms с помощью свойств "Padding", "Margins" и "AutoSize"](../../../../docs/framework/winforms/controls/windows-forms-controls-padding-autosize.md).  
  
2.  Перемещайте элемент управления <xref:System.Windows.Forms.Button> ближе к правой границе формы до появления линии привязки.  Это расстояние теперь определяется значением свойства <xref:System.Windows.Forms.Control.Padding%2A> формы.  
  
3.  Перетащите элемент управления <xref:System.Windows.Forms.GroupBox> из **панели элементов** в форму.  
  
4.  Измените значение свойства <xref:System.Windows.Forms.Control.Padding%2A> элемента управления <xref:System.Windows.Forms.GroupBox>, развернув пункт <xref:System.Windows.Forms.Control.Padding%2A> в окне **Свойства** и установив значение свойства <xref:System.Windows.Forms.Padding.All%2A> равным 10.  
  
5.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в элемент управления <xref:System.Windows.Forms.GroupBox>.  
  
6.  Перемещайте элемент управления <xref:System.Windows.Forms.Button> ближе к правой границе элемента управления <xref:System.Windows.Forms.GroupBox> до появления линии привязки.  Переместите элемент управления <xref:System.Windows.Forms.Button> внутрь элемента управления <xref:System.Windows.Forms.GroupBox> и обратите внимание, в каких местах появляются линии привязки.  
  
## Выравнивание по сгруппированным элементам управления  
 Можно использовать линии привязки для выравнивания сгруппированных элементов управления, а также элементов управления внутри элемента управления <xref:System.Windows.Forms.GroupBox>.  
  
#### Чтобы выровнять по сгруппированным элементам управления  
  
1.  Выберите два элемента управления в форме.  Перемещайте выбранные элементы управления и обратите внимание на линии привязки, появляющиеся между выбранными элементами и остальными элементами управления.  
  
2.  Перетащите элемент управления <xref:System.Windows.Forms.GroupBox> из **панели элементов** в форму.  
  
3.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в элемент управления <xref:System.Windows.Forms.GroupBox>.  
  
4.  Выберите один из элементов управления <xref:System.Windows.Forms.Button> и перемещайте его вокруг элемента управления <xref:System.Windows.Forms.GroupBox>.  Обратите внимание на линии привязки, появляющиеся на краях элемента управления <xref:System.Windows.Forms.GroupBox>.  Также обратите внимание на линии привязки, появляющиеся на краях элемента управления <xref:System.Windows.Forms.Button>, находящегося внутри элемента управления <xref:System.Windows.Forms.GroupBox>.  Дочерние элементы управления, содержащиеся в контейнерном элементе управления, также поддерживают линии привязки.  
  
## Использование линий привязки для размещения элемента управления, обрисовывая его контур  
 Линии привязки позволяют выровнять элементы управления при их первом размещении в форме.  
  
#### Чтобы использовать линии привязки для размещения элемента управления, обрисовывая его контур  
  
1.  На **панели элементов** щелкните значок элемента управления <xref:System.Windows.Forms.Button>.  Не перетаскивайте его в форму.  
  
2.  Наведите указатель мыши на поверхность разработки формы.  Обратите внимание, что указатель превращается в перекрестие, к которому прикреплен значок элемента управления <xref:System.Windows.Forms.Button>.  Также обратите внимание на линии привязки, предлагающие положения выравнивания для элемента управления <xref:System.Windows.Forms.Button>.  
  
3.  Нажмите и удерживайте кнопку мыши.  
  
4.  Перемещайте указатель мыши по форме.  Обратите внимание, что при этом чертится контур, указывающий положение и размер элемента управления.  
  
5.  Перемещайте указатель до его выравнивания с другим элементом управления в форме.  Обратите внимание, что появляется линия привязки, указывающая выравнивание.  
  
6.  Отпустите кнопку мыши.  Создается элемент управления, место расположения и размер которого выбираются в соответствии с нарисованным контуром.  
  
## Использование линий привязки при перетаскивании элемента управления из панели элементов  
 Линии привязки позволяют выровнять элементы управления при перетаскивании их в **панели элементов** на форму.  
  
#### Чтобы использовать линии привязки при перетаскивании элемента управления из панели элементов  
  
1.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** на свою форму, но не отпускайте кнопку мыши.  
  
2.  Наведите указатель мыши на поверхность разработки формы.  Обратите внимание, что указатель мыши меняется и указывает на положение, где создается новый элемент управления <xref:System.Windows.Forms.Button>.  
  
3.  Перемещайте указатель мыши по форме.  Обратите внимание на линии привязки, предлагающие положения выравнивания для элемента управления <xref:System.Windows.Forms.Button>.  Найдите положение, где элемент управления выровнен относительно других элементов.  
  
4.  Отпустите кнопку мыши.  Создается элемент управления в месте, указанном линиями привязки.  
  
## Изменение размеров элементов управления с помощью линий привязки  
 Линии привязки позволяют выравнивать элементы управления при изменении их размеров.  
  
#### Чтобы изменить размер элемента управления, используя линии привязки  
  
1.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в форму.  
  
2.  Измените размер элемента управления <xref:System.Windows.Forms.Button>, перетаскивая один из маркеров изменения размера, расположенных по углам.  Дополнительные сведения см. в разделе [Практическое руководство. Изменение размера элементов управления в формах Windows Forms](../../../../docs/framework/winforms/controls/how-to-resize-controls-on-windows-forms.md).  
  
3.  Перетаскивайте маркер изменения размера, пока одна из границ элемента управления <xref:System.Windows.Forms.Button> не выравнивается с другим элементом управления.  Обратите внимание на появление линии привязки.  Также обратите внимание, что маркер изменения размера привязывается к положению, указанному линией привязки.  
  
4.  Измените размер элемента управления <xref:System.Windows.Forms.Button> в другом направлении и выровняйте маркер изменения размера с другим элементом управления.  Обратите внимание, что линии привязки появляются в разных направлениях, указывая на положение выравнивания.  
  
## Выравнивание метки по тексту элемента управления  
 В некоторых элементах управления используются линии привязки, позволяющие выровнять другие элементы управления по отношению к отображаемому тексту.  
  
#### Выравнивание метки по тексту элемента управления  
  
1.  Перетащите элемент управления <xref:System.Windows.Forms.TextBox> из **панели элементов** в форму.  При отпускании элемента управления <xref:System.Windows.Forms.TextBox> на форму щелкните глиф смарт\-тега и выберите параметр **Задать текст для textBox1**.  Дополнительные сведения см. в разделе [Пошаговое руководство. Выполнение типичных задач с помощью смарт\-тегов в элементах управления Windows Forms](../../../../docs/framework/winforms/controls/performing-common-tasks-using-smart-tags-on-wf-controls.md).  
  
2.  Перетащите элемент управления <xref:System.Windows.Forms.Label> из **панели элементов** в форму.  
  
3.  Измените значение свойства <xref:System.Windows.Forms.Control.AutoSize%2A> элемента управления <xref:System.Windows.Forms.Label> на `true`.  Обратите внимание, что границы элемента управления меняются для соответствия отображаемому тексту.  
  
4.  Переместите элемент управления <xref:System.Windows.Forms.Label> в левую часть элемента управления <xref:System.Windows.Forms.TextBox>, чтобы он выравнивался по нижнему краю элемента управления <xref:System.Windows.Forms.TextBox>.  Обратите внимание на линию выравнивания, появляющуюся вдоль нижних краев двух элементов управления.  
  
5.  Переместите элемент управления <xref:System.Windows.Forms.Label>немного вверх до выравнивания текста <xref:System.Windows.Forms.Label>и текста <xref:System.Windows.Forms.TextBox>.  Обратите внимание на появление другой по стилю линии привязки, показывающей, когда текстовые поля обоих элементов управления выравниваются.  
  
## Использование линий привязки при работе с клавиатурой  
 Линии привязки позволяют выравнивать элементы управления при их расположении с использованием стрелок со стрелками на клавиатуре.  
  
#### Чтобы использовать линии привязки при работе с клавиатурой  
  
1.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в форму.  Поместите его в левый верхний угол формы.  
  
2.  Нажмите CTRL\+стрелка вниз.  Обратите внимание, что элемент управления перемещается вниз по форме до первого доступного положения выравнивания по горизонтали.  
  
3.  Нажимайте CTRL\+стрелка вниз, пока элемент управления не достигнет нижнего края формы.  Обратите внимание на положения, занимаемые им при перемещении вниз по форме.  
  
4.  Нажмите CTRL\+стрелка вправо.  Обратите внимание, что элемент управления перемещается через форму до первого доступного положения выравнивания по вертикали.  
  
5.  Нажимайте CTRL\+стрелка вправо, пока элемент управления не достигнет границы формы.  Обратите внимание на положения, занимаемые им при перемещении через форму.  
  
6.  Перемещайте элемент управления по форме, используя разные сочетания клавиш со стрелками.  Обратите внимание на положения, занимаемые элементом управления, и соответствующие им линии привязки.  
  
7.  Нажимайте SHIFT и любую клавишу со стрелкой, чтобы изменить размер элемента управления <xref:System.Windows.Forms.Button> на величину, равную одному пикселю.  
  
8.  Нажимайте CTRL\+SHIFT и любую клавишу со стрелкой для изменения размера элемента управления <xref:System.Windows.Forms.Button> на величину линий привязки.  
  
## Панели линий привязки и макета  
 Линии привязки отключаются внутри панели макета.  
  
#### Чтобы выборочно отключить линии привязки  
  
1.  Перетащите элемент управления <xref:System.Windows.Forms.TableLayoutPanel> из **панели элементов** в форму.  
  
2.  Дважды щелкните значок элемента управления <xref:System.Windows.Forms.Button> на **панели элементов**.  Обратите внимание на появление нового кнопочного элемента управления в первой ячейке элемента управления <xref:System.Windows.Forms.TableLayoutPanel>.  
  
3.  Дважды щелкните значок элемента управления <xref:System.Windows.Forms.Button> на **панели элементов** еще два раза.  В результате в элементе управления <xref:System.Windows.Forms.TableLayoutPanel> остается одна пустая ячейка.  
  
4.  Перетащите элемент управления <xref:System.Windows.Forms.Button> из **панели элементов** в пустую ячейку элемента управления <xref:System.Windows.Forms.TableLayoutPanel>.  Обратите внимание, что линии привязки не появляются.  
  
5.  Вытащите элемент управления <xref:System.Windows.Forms.Button> из элемента управления <xref:System.Windows.Forms.TableLayoutPanel> и перемещайте его вокруг элемента управления <xref:System.Windows.Forms.TableLayoutPanel>.  Обратите внимание, что линии привязки опять появились.  
  
## Отключение линий привязки  
 По умолчанию линии привязки включены.  Можно отключить линии привязки выборочно или во всей среде разработки.  
  
#### Чтобы выборочно отключить линии привязки  
  
-   Нажмите клавишу ALT и при перемещении элемента управления по форме:  
  
     обратите внимание, что линии привязки не появляются, а элемент управления не привязывается ни к одному из возможных положений выравнивания.  
  
#### Чтобы отключить линии привязки в среде разработки  
  
1.  Из меню **Сервис** откройте диалоговое окно **Параметры**.  Откройте диалоговое окно конструктора Windows Forms.  Дополнительные сведения см. в разделе [General, Windows Forms Designer, Options Dialog Box](http://msdn.microsoft.com/ru-ru/8dd170af-72f0-4212-b04b-034ceee92834).  
  
2.  Выберите узел **Общие**.  В разделе **Режим макета** измените выбор с **Линии привязки** на **Привязка к сетке**.  
  
3.  Щелкните "ОК", чтобы применить этот параметр.  
  
4.  Выберите элемент управления на своей форме и перемещайте его к другим элементам управления.  Обратите внимание, что линии привязки не появляются.  
  
## Следующие действия  
 Линии привязки обеспечивают простой способ выравнивания элементов управления на форме.  Рекомендации по дальнейшему обучению.  
  
-   Попытайтесь вложить элемент управления <xref:System.Windows.Forms.GroupBox> в другой элемент управления <xref:System.Windows.Forms.GroupBox>.  Поместите элемент управления <xref:System.Windows.Forms.Button> внутри дочернего элемента управления <xref:System.Windows.Forms.GroupBox>, а другой элемент управления внутри родительского элемента управления <xref:System.Windows.Forms.GroupBox>.  Перемещайте элементы управления <xref:System.Windows.Forms.Button> и изучите, как линии привязки пересекают границы контейнера.  
  
-   Создайте столбец элементов управления <xref:System.Windows.Forms.TextBox> и соответствующий столбец элементов управления <xref:System.Windows.Forms.Label>.  Присвойте свойству <xref:System.Windows.Forms.Control.AutoSize%2A> элементов управления <xref:System.Windows.Forms.Label>значение `true`.  Используйте линии привязки для перемещения элементов управления <xref:System.Windows.Forms.Label>таким образом, чтобы отображаемый текст выравнивался по тексту в элементах управления <xref:System.Windows.Forms.TextBox>.  
  
 Сведения о проектировании пользовательского интерфейса Windows см. в книге *Microsoft Windows User Experience, Official Guidelines for User Interface Developers and Designers*, Redmond, WA: Microsoft Press, 1999.  \(USBN: 0\-7356\-0566\-1\).  
  
## См. также  
 <xref:System.Windows.Forms.Design.Behavior.SnapLine>   
 [Пример. Упорядочение элементов управления в формах Windows Forms с помощью элемента FlowLayoutPanel](../../../../docs/framework/winforms/controls/walkthrough-arranging-controls-on-windows-forms-using-a-flowlayoutpanel.md)   
 [Пошаговое руководство. Упорядочение элементов управления в формах Windows Forms с помощью элемента TableLayoutPanel](../../../../docs/framework/winforms/controls/walkthrough-arranging-controls-on-windows-forms-using-a-tablelayoutpanel.md)   
 [Пошаговое руководство. Создание структуры элементов управления Windows Forms с помощью свойств "Padding", "Margins" и "AutoSize"](../../../../docs/framework/winforms/controls/windows-forms-controls-padding-autosize.md)   
 [Расположение элементов управления в формах Windows Forms](../../../../docs/framework/winforms/controls/arranging-controls-on-windows-forms.md)