---
title: Получение уведомления об изменении данных привязки Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, data binding
- Windows Forms, adding change notification for data binding
ms.assetid: b5b10f90-0585-41d9-a377-409835262a92
ms.openlocfilehash: 79ad52b6db8cb7be7f4e3162b8f726e8cbe22dcf
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33527736"
---
# <a name="change-notification-in-windows-forms-data-binding"></a><span data-ttu-id="3664b-102">Получение уведомления об изменении данных привязки Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3664b-102">Change Notification in Windows Forms Data Binding</span></span>
<span data-ttu-id="3664b-103">Одним из наиболее важных понятий привязки данных Windows Forms является *уведомление об изменении*.</span><span class="sxs-lookup"><span data-stu-id="3664b-103">One of the most important concepts of Windows Forms data binding is *change notification*.</span></span> <span data-ttu-id="3664b-104">Чтобы обеспечить источника данных и связанными элементами управления всегда самые последние данные, необходимо добавить уведомление об изменении для привязки данных.</span><span class="sxs-lookup"><span data-stu-id="3664b-104">To ensure that your data source and bound controls always have the most recent data, you must add change notification for data binding.</span></span> <span data-ttu-id="3664b-105">В частности вы хотите убедиться, что элементы управления с привязкой уведомления об изменении, внесенные в источнике данных, а источник данных получает уведомление об изменениях, внесенных в свойства привязанного элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3664b-105">Specifically, you want to ensure that bound controls are notified of changes that were made to their data source, and the data source is notified of changes that were made to the bound properties of a control.</span></span>  
  
 <span data-ttu-id="3664b-106">Существуют различные виды уведомления об изменении, в зависимости от вида привязки данных:</span><span class="sxs-lookup"><span data-stu-id="3664b-106">There are different kinds of change notification, depending on the kind of data binding:</span></span>  
  
-   <span data-ttu-id="3664b-107">Простая привязка, в которой привязано свойство одного элемента управления к одному экземпляру объекта.</span><span class="sxs-lookup"><span data-stu-id="3664b-107">Simple binding, in which a single control property is bound to a single instance of an object.</span></span>  
  
-   <span data-ttu-id="3664b-108">Привязки список, который может включать свойство один элемент управления привязан к свойству элемента в списке или свойство элемента управления к списку объектов.</span><span class="sxs-lookup"><span data-stu-id="3664b-108">List-based binding, which can include a single control property bound to the property of an item in a list or a control property bound to a list of objects.</span></span>  
  
 <span data-ttu-id="3664b-109">Кроме того, если вы создаете элементы управления Windows Forms, которые вы хотите использовать для привязки данных, необходимо применить *PropertyName*изменить шаблон к элементам управления, чтобы изменения связанных свойств элемента управления распространяются на источник данных.</span><span class="sxs-lookup"><span data-stu-id="3664b-109">Additionally, if you are creating Windows Forms controls that you want to use for data binding, you must apply the *PropertyName*Changed pattern to the controls, so that changes to the bound property of a control are propagated to the data source.</span></span>  
  
## <a name="change-notification-for-simple-binding"></a><span data-ttu-id="3664b-110">Уведомление об изменении для простой привязки</span><span class="sxs-lookup"><span data-stu-id="3664b-110">Change Notification for Simple Binding</span></span>  
 <span data-ttu-id="3664b-111">Простая привязка бизнес-объектов необходимо предоставить уведомление об изменении при изменении значения свойства привязки.</span><span class="sxs-lookup"><span data-stu-id="3664b-111">For simple binding, business objects must provide change notification when the value of a bound property changes.</span></span> <span data-ttu-id="3664b-112">Это можно сделать путем предоставления доступа к *PropertyName*Changed для каждого свойства бизнес-объекта и привязки к элементам управления с бизнес-объекта <xref:System.Windows.Forms.BindingSource> или предпочтительный метод, который реализует бизнес-объект <xref:System.ComponentModel.INotifyPropertyChanged> интерфейс и вызывает <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> событие при изменении значения свойства.</span><span class="sxs-lookup"><span data-stu-id="3664b-112">You can do this by exposing an *PropertyName*Changed event for each property of your business object and binding the business object to controls with the <xref:System.Windows.Forms.BindingSource> or the preferred method in which your business object implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface and raises a <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> event when the value of a property changes.</span></span> <span data-ttu-id="3664b-113">Дополнительные сведения см. в разделе [как: реализация интерфейса INotifyPropertyChanged](../../../docs/framework/winforms/how-to-implement-the-inotifypropertychanged-interface.md).</span><span class="sxs-lookup"><span data-stu-id="3664b-113">For more information, see [How to: Implement the INotifyPropertyChanged Interface](../../../docs/framework/winforms/how-to-implement-the-inotifypropertychanged-interface.md).</span></span> <span data-ttu-id="3664b-114">При использовании объектов, реализующих <xref:System.ComponentModel.INotifyPropertyChanged> интерфейс, не нужно использовать <xref:System.Windows.Forms.BindingSource> для привязки объекта к элементу управления, но с помощью <xref:System.Windows.Forms.BindingSource> рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="3664b-114">When you use objects that implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface, you do not have to use the <xref:System.Windows.Forms.BindingSource> to bind the object to a control, but using the <xref:System.Windows.Forms.BindingSource> is recommended.</span></span>  
  
## <a name="change-notification-for-list-based-binding"></a><span data-ttu-id="3664b-115">Уведомление об изменении для привязки на основе списка</span><span class="sxs-lookup"><span data-stu-id="3664b-115">Change Notification for List-Based Binding</span></span>  
 <span data-ttu-id="3664b-116">Windows Forms опирается на связанный список, образуя изменение свойства (меняет значение свойства элемента списка) или списка (элемент удален или добавлен в список) сведения о привязке элементов управления.</span><span class="sxs-lookup"><span data-stu-id="3664b-116">Windows Forms depends on a bound list to provide property change (a list item property value changes) and list changed (an item is deleted or added to the list) information to bound controls.</span></span> <span data-ttu-id="3664b-117">Таким образом, списки, используемые для привязки данных должны реализовывать интерфейс <xref:System.ComponentModel.IBindingList>, который поддерживает оба типа уведомлений об изменении.</span><span class="sxs-lookup"><span data-stu-id="3664b-117">Therefore, lists used for data binding must implement the <xref:System.ComponentModel.IBindingList>, which provides both types of change notification.</span></span> <span data-ttu-id="3664b-118"><xref:System.ComponentModel.BindingList%601> — Это реализация универсального интерфейса <xref:System.ComponentModel.IBindingList> и предназначен для использования с привязкой данных Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="3664b-118">The <xref:System.ComponentModel.BindingList%601> is a generic implementation of <xref:System.ComponentModel.IBindingList> and is designed for use with Windows Forms data binding.</span></span> <span data-ttu-id="3664b-119">Можно создать <xref:System.ComponentModel.BindingList%601> , содержащий тип бизнес-объекта, который реализует <xref:System.ComponentModel.INotifyPropertyChanged> и автоматически преобразует список <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> событий для <xref:System.ComponentModel.IBindingList.ListChanged> события.</span><span class="sxs-lookup"><span data-stu-id="3664b-119">You can create a <xref:System.ComponentModel.BindingList%601> that contains a business object type that implements <xref:System.ComponentModel.INotifyPropertyChanged> and the list will automatically convert the <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> events to <xref:System.ComponentModel.IBindingList.ListChanged> events.</span></span> <span data-ttu-id="3664b-120">Если связанный список не <xref:System.ComponentModel.IBindingList>, необходимо привязать список объектов к элементам управления Windows Forms с помощью <xref:System.Windows.Forms.BindingSource> компонента.</span><span class="sxs-lookup"><span data-stu-id="3664b-120">If the bound list is not an <xref:System.ComponentModel.IBindingList>, you must bind the list of objects to Windows Forms controls by using the <xref:System.Windows.Forms.BindingSource> component.</span></span> <span data-ttu-id="3664b-121"><xref:System.Windows.Forms.BindingSource> Компонент предоставляет список свойств преобразования аналогична <xref:System.ComponentModel.BindingList%601>.</span><span class="sxs-lookup"><span data-stu-id="3664b-121">The <xref:System.Windows.Forms.BindingSource> component will provide property-to-list conversion similar to that of the <xref:System.ComponentModel.BindingList%601>.</span></span> <span data-ttu-id="3664b-122">Дополнительные сведения см. в разделе [как: уведомление об изменении данных с помощью компонента BindingSource и интерфейса INotifyPropertyChanged](../../../docs/framework/winforms/controls/raise-change-notifications--bindingsource.md).</span><span class="sxs-lookup"><span data-stu-id="3664b-122">For more information, see [How to: Raise Change Notifications Using a BindingSource and the INotifyPropertyChanged Interface](../../../docs/framework/winforms/controls/raise-change-notifications--bindingsource.md).</span></span>  
  
## <a name="change-notification-for-custom-controls"></a><span data-ttu-id="3664b-123">Уведомление об изменении для пользовательских элементов управления</span><span class="sxs-lookup"><span data-stu-id="3664b-123">Change Notification for Custom Controls</span></span>  
 <span data-ttu-id="3664b-124">Наконец, на стороне элементов управления можно предоставить *PropertyName*Changed для каждого свойства, предназначенного для привязки к данным.</span><span class="sxs-lookup"><span data-stu-id="3664b-124">Finally, from the control side you must expose a *PropertyName*Changed event for each property designed to be bound to data.</span></span> <span data-ttu-id="3664b-125">Изменения свойств элемента управления, затем распространяются привязанного источника данных.</span><span class="sxs-lookup"><span data-stu-id="3664b-125">The changes to the control property are then propagated to the bound data source.</span></span> <span data-ttu-id="3664b-126">Дополнительные сведения см. в разделе [как: применение шаблона PropertyNameChanged](../../../docs/framework/winforms/how-to-apply-the-propertynamechanged-pattern.md)</span><span class="sxs-lookup"><span data-stu-id="3664b-126">For more information, see [How to: Apply the PropertyNameChanged Pattern](../../../docs/framework/winforms/how-to-apply-the-propertynamechanged-pattern.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3664b-127">См. также</span><span class="sxs-lookup"><span data-stu-id="3664b-127">See Also</span></span>  
 <xref:System.Windows.Forms.BindingSource>  
 <xref:System.ComponentModel.INotifyPropertyChanged>  
 <xref:System.ComponentModel.BindingList%601>  
 [<span data-ttu-id="3664b-128">Привязка данных Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3664b-128">Windows Forms Data Binding</span></span>](../../../docs/framework/winforms/windows-forms-data-binding.md)  
 [<span data-ttu-id="3664b-129">Источники данных, поддерживаемые Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3664b-129">Data Sources Supported by Windows Forms</span></span>](../../../docs/framework/winforms/data-sources-supported-by-windows-forms.md)  
 [<span data-ttu-id="3664b-130">Привязка данных и Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3664b-130">Data Binding and Windows Forms</span></span>](../../../docs/framework/winforms/data-binding-and-windows-forms.md)
