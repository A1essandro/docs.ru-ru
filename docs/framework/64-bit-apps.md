---
title: "64-разрядные приложения | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-bcl"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "64-разрядные приложения [C++]"
  - "64-разрядное программирование [C++]"
  - "приложения [C++], 64-разрядная"
ms.assetid: fd4026bc-2c3d-4b27-86dc-ec5e96018181
caps.latest.revision: 53
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 53
---
# 64-разрядные приложения
При компиляции приложения можно указать, должно ли оно запускаться в 64\-разрядной операционной системе Windows в качестве собственного приложения или в эмуляторе WOW64 \(в 32\- или 64\-разрядной ОС Windows\).  WOW64 — это среда совместимости, которая позволяет выполнять 32\-разрядное приложение в 64\-разрядной системе.  Эмулятор WOW64 входит в состав всех 64\-разрядных версий операционной системы Windows.  
  
## Запуск 32\- и64\-разрядных приложений в Windows  
 Все приложения, построенные на платформе .NET Framework версий 1.0 и 1.1, обрабатываются в 64\-разрядной операционной системе как 32\-разрядные приложения и всегда запускаются в эмуляторе WOW64 и в 32\-разрядной среде CLR.  32\-разрядные приложения, построенные на платформе [!INCLUDE[net_v40_long](../../includes/net-v40-long-md.md)] или более поздних версий, также выполняются в эмуляторе WOW64 в 64\-разрядных системах.  
  
 Visual Studio устанавливает на компьютер с архитектурой x86 32\-разрядную версию среды CLR, а на компьютер с 64\-разрядной ОС Windows — 32\-разрядную и соответствующую 64\-разрядную версию среды CLR.  \(Так как среда Visual Studio является 32\-разрядным приложением, то при установке в 64\-разрядной системе она выполняется в эмуляторе WOW64.\)  
  
> [!NOTE]
>  Из\-за особенностей эмуляции x86 и подсистемы WOW64 для процессоров семейства Itanium выполнение приложений ограничено одним процессором.  Эти факторы снижают производительность и масштабируемость 32\-разрядных приложений .NET Framework, выполняемых в системах на базе Itanium.  Для повышения производительности и масштабируемости рекомендуем использовать версию [!INCLUDE[net_v40_long](../../includes/net-v40-long-md.md)], имеющую встроенную поддержку 64\-разрядных систем на базе Itanium.  
  
 При запуске 64\-разрядного управляемого приложения в 64\-разрядной операционной системе Windows по умолчанию можно создавать объекты размером не более 2 гигабайт \(ГБ\).  Однако в [!INCLUDE[net_v45](../../includes/net-v45-md.md)] это ограничение можно повысить.  Дополнительные сведения см. в разделе [элемент \<gcAllowVeryLargeObjects\>](../../docs/framework/configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md).  
  
 Многие сборки выполняются в 32\- и 64\-разрядной среде CLR одинаково.  Однако в зависимости от версии среды CLR работа некоторых программ может отличаться по одной из следующих причин:  
  
-   структуры, содержащие члены, размер которых меняется в зависимости от платформы \(например, любой тип указателя\);  
  
-   Арифметика указателя, содержащая постоянные размеры.  
  
-   Неверный вызов платформ или объявления СОМ, использующие дескрипторы `Int32` вместо `IntPtr`.  
  
-   приведение `IntPtr` к `Int32`.  
  
 Подробнее о переносе 32\-разрядного приложения в 64\-разрядную среду CLR см. в разделе [Миграция 32\-разрядного управляемого кода в 64\-разрядный](http://go.microsoft.com/fwlink/?LinkId=150542) в библиотеке MSDN.  
  
## Общие сведения о 64\-разрядном программировании  
 Общие сведения о 64\-разрядном программировании см. в перечисленных ниже материалах.  
  
-   Подробнее о 64\-разрядной версии среды CLR на компьютере с 64\-разрядной ОС Windows см. в разделе [Центр разработчиков .NET Framework](http://go.microsoft.com/fwlink/?LinkId=37079) на веб\-сайте MSDN.  
  
-   В документации [!INCLUDE[winsdkshort](../../includes/winsdkshort-md.md)] см. раздел [Руководство по программированию для 64\-разрядных версий Windows](http://go.microsoft.com/fwlink/p/?LinkId=253512).  
  
-   Подробнее о том, как загрузить 64\-разрядную версию среды CLR, см. в разделе [загрузок в центре разработчиков .NET Framework](http://go.microsoft.com/fwlink/?LinkId=50953) на веб\-сайте MSDN.  
  
-   Сведения о поддержке создания 64\-разрядных приложений в Visual Studio см. в разделе [Поддержка 64\-разрядных сред IDE Visual Studio](../Topic/Visual%20Studio%20IDE%2064-Bit%20Support.md).  
  
## Поддержка создания 64\-разрядных приложений компилятором  
 Приложение, построенное с помощью .NET Framework на 32\- или 64\-разрядном компьютере, на 64\-разрядном компьютере по умолчанию выполняется как собственное приложение \(не в эмуляторе WOW64\).  В таблице ниже перечислены материалы, в которых описывается использование компиляторов Visual Studio для создания 64\-разрядных приложений, выполняемых как собственные, в эмуляторе WOW64 или обоими способами.  
  
|Компилятор|Параметр компилятора|  
|----------------|--------------------------|  
|Visual Basic|[\/platform](../Topic/-platform%20\(Visual%20Basic\).md)|  
|Visual C\#|[\/platform \(Specify Output Platform\)](../Topic/-platform%20\(C%23%20Compiler%20Options\).md)|  
|Visual C\+\+|Вы можете создавать платформенно\-независимые приложения MSIL с помощью **\/clr:safe**.  Подробнее см. в разделе [\/clr \(компиляция CLR\)](../Topic/-clr%20\(Common%20Language%20Runtime%20Compilation\).md).<br /><br /> Visual C\+\+ содержит отдельные компиляторы для каждой 64\-разрядной операционной системы.  Подробнее об использовании Visual C\+\+ для создания приложений, выполняемых как собственные в 64\-разрядной операционной системе Windows, см. в разделе [Программирование для 64\-разрядных систем на Visual C\+\+](http://msdn.microsoft.com/library/h2k70f3s\(v=vs.80\)).|  
  
## Определение состояния EXE\- или DLL\-файлов  
 Чтобы определить, будет ли EXE\- или DLL\-файл выполняться только на определенной платформе или в эмуляторе WOW64, воспользуйтесь [CorFlags.exe \(CorFlags Conversion Tool\)](../../docs/framework/tools/corflags-exe-corflags-conversion-tool.md).  Кроме того, программа CorFlags.exe используется для изменения состояния платформы EXE\- или DLL\-файла.  В заголовке среды CLR сборки Visual Studio основной номер версии среды выполнения имеет значение 2, а дополнительный номер версии среды выполнения — значение 5.  Приложения, у которых дополнительный номер версии среды выполнения имеет значение 0, обрабатываются как приложения прежних версий и всегда запускаются в эмуляторе WOW64.  
  
 Метод <xref:System.Reflection.Module.GetPEKind%2A?displayProperty=fullName> используется для программного определения того, будет ли EXE\- или DLL\-файл выполняться на определенной платформе или в эмуляторе WOW64.