---
title: "Ресурсы в приложениях для настольных систем | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-bcl"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "ресурсы приложений"
  - "развертывание приложений [платформа .NET Framework], ресурсы"
  - "локализация"
  - "локализация ресурсов"
  - "упаковка ресурсов приложений"
  - "файлы ресурсов"
  - "вспомогательные сборки"
ms.assetid: 8ad495d4-2941-40cf-bf64-e82e85825890
caps.latest.revision: 19
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 19
---
# Ресурсы в приложениях для настольных систем
Практически каждое приложение, пригодное для производственного применения, использует ресурсы.  К ресурсам относятся любые неисполняемые данные, которые логически развертываются вместе с приложением.  Ресурсы могут отображаться в приложении в виде сообщений об ошибках либо как часть интерфейса пользователя.  Ресурсы могут содержать данные различных видов, включая символьные строки, изображения и объекты. \(Обратите внимание, что для записи объектов в файл ресурсов необходимо, чтобы объекты были сериализуемы.\) Данные можно сохранять в файле ресурсов и затем изменять, не компилируя все приложение заново.  Это также позволяет хранить данные в одном месте и исключает необходимость полагаться на зашитые в код данные, хранящиеся в нескольких местах.  
  
 Платформа .NET Framework обеспечивает всестороннюю поддержку создания и локализации ресурсов настольных приложений.  Кроме того, платформа .NET Framework поддерживает простую модель упаковки и развертывания локализованных ресурсов настольных приложений.  
  
 Дополнительные сведения о ресурсах в ASP.NET см. в разделе [ASP.NET Web Page Resources Overview](../Topic/ASP.NET%20Web%20Page%20Resources%20Overview.md) в центре разработчиков Internet Explorer.  
  
 Приложения [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] используют другую модель ресурсов настольных приложений и сохраняют свои ресурсы в одном индексном файле пакета ресурсов \(PRI\).  Дополнительные сведения о ресурсах в приложениях [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] см. в разделе [Создание и извлечение ресурсов в приложениях для Магазина Windows](http://go.microsoft.com/fwlink/p/?LinkId=241674) в Центре разработки для Windows.  
  
## Создание и локализация ресурсов  
 В не локализованном приложении можно использовать файлы ресурсов, например репозиторий для данных приложения, в частности для строк, которые в противном случае могут быть жестко заданы в различных местах исходного кода.  Обычно ресурсы создаются как текстовые \(.txt\) или XML \(.resx\) файлы, а [Resgen.exe \(Resource File Generator\)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) используется для их компилирования в двоичные файлы ресурсов \(.resources\).  Эти файлы затем можно внедрять компилятором языка в исполняемый файл приложения.  Дополнительные сведения о создании ресурсов см. в разделе [Создание файлов ресурсов](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md).  
  
 Для ресурсов приложения также можно настроить определенный язык и задать региональные параметры.  Это позволяет создавать локализованные \(переведенные\) версии приложений.  При разработке приложения, которое использует локализованные ресурсы, назначаются региональные настройки, которые служат в качестве нейтральных или резервных региональных настроек, если ресурсы не доступны.  Обычно ресурсы нейтральных региональных настроек хранятся в исполняемом файле приложения.  Остальные ресурсы для индивидуальных региональных настроек хранятся в отдельных вспомогательных сборках.  Для получения дополнительной информации см. [Создание вспомогательных сборок](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md).  
  
## Упаковка и развертывание ресурсов  
 Развертывание локализованных ресурсов приложения происходит во [вспомогательных сборках](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).  Вспомогательная сборка содержит ресурсы для отдельного языка и региональных параметров; в ней не содержится кода приложения.  В модели развертывания вспомогательной сборки создается приложение с одной сборкой по умолчанию \(обычно это основная сборка\) и одной вспомогательной сборкой для каждой из региональных настроек, которые поддерживаются приложением.  Поскольку вспомогательные сборки не являются частью основной сборки, можно легко заменять или обновлять ресурсы, относящиеся к определенному языку и региональным параметрам, не заменяя основную сборку приложения.  
  
 Необходимо тщательно продумать, какие ресурсы войдут в стандартную сборку приложения.  Так как она представляет собой часть основной сборки, внесение в нее любых изменений потребует замены основной сборки.  Если стандартный ресурс не задан, при попытке найти ресурс, предпринимаемой [процессом использования запасного ресурса](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md), возникнет исключение.  В правильно построенном приложении использование ресурсов никогда не приводит к исключениям.  
  
 Дополнительные сведения см. в статье [Упаковка и развертывание ресурсов](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).  
  
## Извлечение ресурсов  
 Во время выполнения приложение загружает соответствующие локализованные ресурсы на базе потока в зависимости от региональных настроек, заданных свойством <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>.  Это значение свойства извлекается следующим образом:  
  
-   Непосредственно присвоить объект <xref:System.Globalization.CultureInfo>, представляющему локализованные региональные настройки, свойству <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=fullName>.  
  
-   Если региональные настройки явным образом не указаны, то восстановить региональные настройки пользовательского интерфейса потока по умолчанию из свойства <xref:System.Globalization.CultureInfo.DefaultThreadCurrentUICulture%2A?displayProperty=fullName>.  
  
-   Если по умолчанию региональные настройки пользовательского интерфейса потока явным образом не указаны, то извлечь региональные настройки для текущего пользователя на локальном компьютере путем вызова функции Windows `GetUserDefaultUILanguage`.  
  
 Дополнительные сведения о том, как установить текущие региональные настройки пользовательского интерфейса, см. по ссылкам <xref:System.Globalization.CultureInfo> и <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>.  
  
 Затем можно извлечь ресурсы для текущих региональных настроек пользовательского интерфейса или для определенных региональных настроек с помощью класса <xref:System.Resources.ResourceManager?displayProperty=fullName>.  Хотя класс <xref:System.Resources.ResourceManager> чаще всего используется для извлечения ресурсов в настольных приложениях, пространство имен <xref:System.Resources?displayProperty=fullName> содержит и дополнительные типы, которые можно использовать для извлечения ресурсов.  К ним относятся:  
  
-   Класс <xref:System.Resources.ResourceReader>, который позволяет перечислять внедренные ресурсы в сборке или сохраненные в автономном бинарном файле ресурсов.  Бывает полезно не знать явные имена доступных ресурсов во время выполнения.  
  
-   Класс <xref:System.Resources.ResXResourceReader>, который позволяет извлекать ресурсы из файла XML \(с расширением .resx\).  
  
-   Класс <xref:System.Resources.ResourceSet>, который позволяет извлекать ресурсы для определенных региональных настроек без контроля правил перехода на запасные ресурсы.  Ресурсы могут храниться в сборке или в автономном бинарном файле ресурсов \(с расширением .resources\).  Можно также разработать реализацию <xref:System.Resources.IResourceReader>, которая позволит использовать класс <xref:System.Resources.ResourceSet> для извлечения ресурсов из какого\-либо другого источника.  
  
-   Класс <xref:System.Resources.ResXResourceSet>, который позволяет извлечь все элементы из файла ресурсов XML в память.  
  
## См. также  
 <xref:System.Globalization.CultureInfo>   
 <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>   
 [Основные сведения о приложениях](../../../docs/standard/application-essentials.md)   
 [Создание файлов ресурсов](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md)   
 [Упаковка и развертывание ресурсов](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)   
 [Создание вспомогательных сборок](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md)   
 [Извлечение ресурсов](../../../docs/framework/resources/retrieving-resources-in-desktop-apps.md)