---
title: "Совместимость версий в .NET Framework"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- .NET Framework, version compatibility
- .NET Framework 4.5, compatibility with earlier versions
- .NET Framework versions, compatibility
ms.assetid: 2f25e522-456a-48c3-8a53-e5f39275649f
caps.latest.revision: 35
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: 741c2d1c49f44a6a7b299845cdc37cc8425c326b
ms.contentlocale: ru-ru
ms.lasthandoff: 07/28/2017

---
# <a name="version-compatibility-in-the-net-framework"></a><span data-ttu-id="8a4f3-102">Совместимость версий в .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8a4f3-102">Version Compatibility in the .NET Framework</span></span>
<span data-ttu-id="8a4f3-103">Обратная совместимость означает, что приложение, разработанное для конкретной версии платформы, будет запускаться и в более поздних версиях этой платформы.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-103">Backward compatibility means that an app that was developed for a particular version of a platform will run on later versions of that platform.</span></span> <span data-ttu-id="8a4f3-104">В платформе .NET Framework в максимально возможной степени обеспечивается обратная совместимость: исходный код, написанный для одной версии платформы .NET Framework, должен компилироваться в более поздних версиях этой платформы, а двоичные файлы, работающие в одной версии платформы .NET Framework, должны точно так же работать в более поздних версиях этой платформы.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-104">The .NET Framework tries to maximize backward compatibility: Source code written for one version of the .NET Framework should compile on later versions of the .NET Framework, and binaries that run on one version of the .NET Framework should behave identically on later versions of the .NET Framework.</span></span>  
  
<a name="Apps"></a>   
## <a name="version-compatibility-for-apps"></a><span data-ttu-id="8a4f3-105">Совместимость версий приложений</span><span class="sxs-lookup"><span data-stu-id="8a4f3-105">Version compatibility for apps</span></span>  
 <span data-ttu-id="8a4f3-106">По умолчанию приложение запускается в той версии платформы .NET Framework, для которой оно было создано.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-106">By default, an app runs on the version of the .NET Framework that it was built for.</span></span> <span data-ttu-id="8a4f3-107">Если эта версия отсутствует и в файле конфигурации приложения не определены поддерживаемые версии, может произойти ошибка инициализации .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-107">If that version is not present and the app configuration file does not define supported versions, a .NET Framework initialization error may occur.</span></span> <span data-ttu-id="8a4f3-108">В этом случае попытка запустить приложение завершится сбоем.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-108">In this case, the attempt to run the app will fail.</span></span>  
  
 <span data-ttu-id="8a4f3-109">Чтобы определить конкретные версии, в которых запускается приложение, добавьте в файл конфигурации этого приложения один или несколько элементов [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md).</span><span class="sxs-lookup"><span data-stu-id="8a4f3-109">To define the specific versions on which your app runs, add one or more [\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) elements to your app's configuration file.</span></span> <span data-ttu-id="8a4f3-110">Каждый элемент `<supportedRuntime>` определяет поддерживаемую версию среды выполнения. При этом первый элемент указывает наиболее предпочтительную версию, а последний элемент — наименее предпочтительную версию.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-110">Each `<supportedRuntime>` element lists a supported version of the runtime, with the first specifying the most preferred version and the last specifying the least preferred version.</span></span>  
  
```xml  
<configuration>  
   <startup>  
      <supportedRuntime version="v2.0.50727" />  
      <supportedRuntime version="v4.0" />  
   </startup>  
</configuration>  
```  
  
 <span data-ttu-id="8a4f3-111">Дополнительные сведения см. в разделе [Практическое руководство. Настройка в приложении поддержки .NET Framework 4 или 4](../../../docs/framework/migration-guide/how-to-configure-an-app-to-support-net-framework-4-or-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="8a4f3-111">For more information, see [How to: Configure an App to Support .NET Framework 4 or 4.x](../../../docs/framework/migration-guide/how-to-configure-an-app-to-support-net-framework-4-or-4-5.md).</span></span>  
  
## <a name="version-compatibility-for-components"></a><span data-ttu-id="8a4f3-112">Совместимость версий компонентов</span><span class="sxs-lookup"><span data-stu-id="8a4f3-112">Version compatibility for components</span></span>  
 <span data-ttu-id="8a4f3-113">Приложение может определять версию платформы .NET Framework, в которой оно запускается, однако компонент не может.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-113">An app can control the version of the .NET Framework on which it runs, but a component cannot.</span></span> <span data-ttu-id="8a4f3-114">Компоненты и библиотеки классов загружаются в контексте конкретного приложения и, следовательно, автоматически запускаются в той версии .NET Framework, в которой запускается это приложение.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-114">Components and class libraries are loaded in the context of a particular app, and therefore automatically run on the version of the .NET Framework that the app runs on.</span></span>  
  
 <span data-ttu-id="8a4f3-115">Из-за этого ограничения гарантии совместимости особенно важны для компонентов.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-115">Because of this restriction, compatibility guarantees are especially important for components.</span></span> <span data-ttu-id="8a4f3-116">Начиная с .NET Framework 4, можно задать, в какой степени компонент должен оставаться совместимым в различных версиях, применив к этому компоненту атрибут <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-116">Starting with the .NET Framework 4, you can specify the degree to which a component is expected to remain compatible across multiple versions by applying the <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute?displayProperty=fullName> attribute to that component.</span></span> <span data-ttu-id="8a4f3-117">Этот атрибут может использоваться разными средствами для обнаружения возможных нарушений гарантии совместимости в будущих версиях компонента.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-117">Tools can use this attribute to detect potential violations of the compatibility guarantee in future versions of a component.</span></span>  
  
## <a name="backward-compatibility-and-the-net-framework-45"></a><span data-ttu-id="8a4f3-118">Обратная совместимость и .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="8a4f3-118">Backward compatibility and the .NET Framework 4.5</span></span>  
 <span data-ttu-id="8a4f3-119">Платформа .NET Framework 4.5 и ее доработанные выпуски (4.5.1, 4.5.2, 4.6, 4.6.1, 4.6.2 и 4.7) обратно совместимы с приложениями, созданными с помощью более ранних версий .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-119">The .NET Framework 4.5 and its point releases (4.5.1, 4.5.2, 4.6, 4.6.1, 4.6.2, and 4.7) are backward-compatible with apps that were built with earlier versions of the .NET Framework.</span></span> <span data-ttu-id="8a4f3-120">Иными словами, приложения и компоненты, созданные с использованием предыдущих версий платформы .NET Framework, будут без внесения изменений работать в .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-120">In other words, apps and components built with previous versions will work without modification on the .NET Framework 4.5.</span></span> <span data-ttu-id="8a4f3-121">Однако по умолчанию приложения выполняются в той версии среды CLR, для которой они были разработаны, поэтому, чтобы обеспечить возможность выполнения приложения в .NET Framework 4.5, может потребоваться предоставить файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-121">However, by default, apps run on the version of the common language runtime for which they were developed, so you may have to provide a configuration file to enable your app to run on the .NET Framework 4.5.</span></span> <span data-ttu-id="8a4f3-122">Дополнительные сведения см. в разделе [Совместимость версий для приложений](#Apps) выше.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-122">For more information, see the [Version compatibility for apps](#Apps) section earlier in this article.</span></span>  
  
 <span data-ttu-id="8a4f3-123">На практике эту совместимость можно нарушить на первый взгляд несущественными изменениями в платформе .NET Framework и изменениями в методах программирования.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-123">In practice, this compatibility can be broken by seemingly inconsequential changes in the .NET Framework and changes in programming techniques.</span></span> <span data-ttu-id="8a4f3-124">Например, улучшения в производительности в платформе .NET Framework 4.5 могут привести к состоянию гонки, которого не было в предыдущих версиях.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-124">For example, performance improvements in the .NET Framework 4.5 can expose a race condition that did not occur on earlier versions.</span></span> <span data-ttu-id="8a4f3-125">Следует также иметь в виду, что такие действия, как использование жестко запрограммированного пути к сборкам .NET Framework, сравнение на равенство с конкретной версией платформы .NET Framework и получение значения частного поля с помощью отражения, нарушают обратную совместимость.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-125">Similarly, using a hard-coded path to .NET Framework assemblies, performing an equality comparison with a particular version of the .NET Framework, and getting the value of a private field by using reflection are not backward-compatible practices.</span></span> <span data-ttu-id="8a4f3-126">Кроме того, каждая версия платформы .NET Framework содержит исправления ошибок и изменения, связанные с безопасностью, которые могут влиять на совместимость некоторых приложений и компонентов.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-126">In addition, each version of the .NET Framework includes bug fixes and security-related changes that can affect the compatibility of some apps and components.</span></span>  
  
 <span data-ttu-id="8a4f3-127">Если приложение или компонент не работает в .NET Framework 4.5 (и в доработанных выпусках [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] 4.5.2, 4.6, 4.6.1, 4.6.2 или 4.7) ожидаемым образом, воспользуйтесь следующими контрольными списками.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-127">If your app or component does not work as expected on the .NET Framework 4.5 (including its point releases, the [!INCLUDE[net_v451](../../../includes/net-v451-md.md)], 4.5.2, 4.6, 4.6.1, 4.6.2, or 4.7, use the following checklists:</span></span>  
  
-   <span data-ttu-id="8a4f3-128">Просмотрите следующие разделы на предмет каких-либо изменений, которые могут повлиять на ваше приложение, и используйте описанный обходной путь:</span><span class="sxs-lookup"><span data-stu-id="8a4f3-128">Check these topics  for any changes that might affect your app and apply the workaround described:</span></span>  
  
    -   [<span data-ttu-id="8a4f3-129">Проблемы при миграции на .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="8a4f3-129">.NET Framework 4 Migration Issues</span></span>](../../../docs/framework/migration-guide/net-framework-4-migration-issues.md)  
  
    -   [<span data-ttu-id="8a4f3-130">Совместимость приложений в 4.5</span><span class="sxs-lookup"><span data-stu-id="8a4f3-130">Application Compatibility in 4.5</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5.md)  
  
    -   [<span data-ttu-id="8a4f3-131">Совместимость приложений в 4.5.1</span><span class="sxs-lookup"><span data-stu-id="8a4f3-131">Application Compatibility in 4.5.1</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5-1.md)  
  
    -   [<span data-ttu-id="8a4f3-132">Совместимость приложений в 4.5.2</span><span class="sxs-lookup"><span data-stu-id="8a4f3-132">Application Compatibility in 4.5.2</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5-2.md)  
  
    -   [<span data-ttu-id="8a4f3-133">Совместимость приложений в 4.6</span><span class="sxs-lookup"><span data-stu-id="8a4f3-133">Application Compatibility in 4.6</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6.md)  
  
    -   [<span data-ttu-id="8a4f3-134">Совместимость приложений в 4.6.1</span><span class="sxs-lookup"><span data-stu-id="8a4f3-134">Application Compatibility in 4.6.1</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6-1.md)  
  
    -   [<span data-ttu-id="8a4f3-135">Совместимость приложений в 4.6.2</span><span class="sxs-lookup"><span data-stu-id="8a4f3-135">Application Compatibility in 4.6.2</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6-2.md)  

    - [<span data-ttu-id="8a4f3-136">Совместимость приложений в 4.7</span><span class="sxs-lookup"><span data-stu-id="8a4f3-136">Application Compatibility in 4.7</span></span>](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6-2.md)
       
-   <span data-ttu-id="8a4f3-137">Если приложение было разработано с помощью .NET Framework 1.1, просмотрите также следующие разделы:</span><span class="sxs-lookup"><span data-stu-id="8a4f3-137">If you have a .NET Framework 1.1 app, also review these topics:</span></span>  
  
    -   [<span data-ttu-id="8a4f3-138">Изменения в .NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="8a4f3-138">Changes in .NET Framework 2.0</span></span>](http://go.microsoft.com/fwlink/?LinkID=125263)  
  
    -   [<span data-ttu-id="8a4f3-139">Изменения в .NET Framework 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="8a4f3-139">Changes in .NET Framework 3.5 SP1</span></span>](http://go.microsoft.com/fwlink/?LinkId=186989)  
  
-   <span data-ttu-id="8a4f3-140">Если вы перекомпилируете существующий исходный код для запуска в платформе .NET Framework 4.5 (или ее доработанных выпусках) или разрабатываете новую версию приложения или компонента для запуска в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] на основе существующей базы исходного кода, просмотрите раздел [Что устарело в .NET Framework](../../../docs/framework/whats-new/whats-obsolete.md) на предмет устаревших типов и членов и используйте описанный обходной путь.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-140">If you are recompiling existing source code to run on the .NET Framework 4.5 or its point releases, or if you are developing a new version of an app or component that targets the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] from an existing source code base, check [What's Obsolete in the Class Library](../../../docs/framework/whats-new/whats-obsolete.md) for obsolete types and members, and apply the workaround described.</span></span> <span data-ttu-id="8a4f3-141">(Скомпилированный ранее код будет продолжать работать с типами и членами, которые отмечены как устаревшие.)</span><span class="sxs-lookup"><span data-stu-id="8a4f3-141">(Previously compiled code will continue to run against types and members that have been marked as obsolete.)</span></span>  
  
-   <span data-ttu-id="8a4f3-142">Если обнаруживается, что изменение в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] нарушило работу приложения, обратитесь к разделу [Схема параметров среды выполнения](../../../docs/framework/configure-apps/file-schema/runtime/index.md), чтобы определить, можно ли использовать параметры среды выполнения в файле конфигурации приложения для восстановления предыдущего поведения.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-142">If you determine that a change in the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] has broken your app, check the [Runtime Settings Schema](../../../docs/framework/configure-apps/file-schema/runtime/index.md) to determine whether you can use a runtime setting in your app's configuration file to restore the previous behavior.</span></span>  
  
-   <span data-ttu-id="8a4f3-143">В случае обнаружения недокументированной проблемы зарегистрируйте ошибку в [Microsoft Connect](http://go.microsoft.com/fwlink/?LinkID=154815) и обратитесь по адресу [netfxcf@microsoft.com](mailto:netfxcf@microsoft.com) с указанием номера ошибки.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-143">If you encounter an issue that is not documented, file a [Microsoft Connect](http://go.microsoft.com/fwlink/?LinkID=154815) bug and contact [netfxcf@microsoft.com](mailto:netfxcf@microsoft.com) with the bug number.</span></span>  
  
## <a name="compatibility-and-side-by-side-execution"></a><span data-ttu-id="8a4f3-144">Совместимость и параллельное выполнение</span><span class="sxs-lookup"><span data-stu-id="8a4f3-144">Compatibility and side-by-side execution</span></span>  
 <span data-ttu-id="8a4f3-145">Если найти подходящий обходной путь для проблемы не удается, помните, что платформа .NET Framework 4.5 (или один из ее доработанных выпусков) работает параллельно с версиями 1.1, 2.0 и 3.5 и представляет собой обновление "на месте", заменяющее версию 4.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-145">If you cannot find a suitable workaround for your issue, remember that the .NET Framework 4.5 (or one of its point releases) runs side by side with versions 1.1, 2.0, and 3.5, and is an in-place update that replaces version 4.</span></span> <span data-ttu-id="8a4f3-146">Для приложений, предназначенных для версий 1.1, 2.0 и 3.5, можно установить на целевом компьютере соответствующую версию .NET Framework и запускать приложение в оптимальной для него среде.</span><span class="sxs-lookup"><span data-stu-id="8a4f3-146">For apps that target versions 1.1, 2.0, and 3.5, you can install the appropriate version of the .NET Framework on the target machine to run the app in its best environment.</span></span> <span data-ttu-id="8a4f3-147">Дополнительные сведения о параллельном выполнении см. в разделе [Параллельное выполнение](../../../docs/framework/deployment/side-by-side-execution.md).</span><span class="sxs-lookup"><span data-stu-id="8a4f3-147">For more information about side-by-side execution, see [Side-by-Side Execution](../../../docs/framework/deployment/side-by-side-execution.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8a4f3-148">См. также</span><span class="sxs-lookup"><span data-stu-id="8a4f3-148">See Also</span></span>  
 <span data-ttu-id="8a4f3-149">[Новые возможности](../../../docs/framework/whats-new/index.md) </span><span class="sxs-lookup"><span data-stu-id="8a4f3-149">[What's New](../../../docs/framework/whats-new/index.md) </span></span>  
 <span data-ttu-id="8a4f3-150">[Устаревшие классы библиотеки классов](../../../docs/framework/whats-new/whats-obsolete.md) </span><span class="sxs-lookup"><span data-stu-id="8a4f3-150">[What's Obsolete in the Class Library](../../../docs/framework/whats-new/whats-obsolete.md) </span></span>  
 <span data-ttu-id="8a4f3-151">[Совместимость приложений](../../../docs/framework/migration-guide/application-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="8a4f3-151">[Application Compatibility](../../../docs/framework/migration-guide/application-compatibility.md) </span></span>  
 <span data-ttu-id="8a4f3-152">[Политика жизненного цикла поддержки Microsoft .NET Framework](http://go.microsoft.com/fwlink/p/?LinkId=248212) </span><span class="sxs-lookup"><span data-stu-id="8a4f3-152">[Microsoft .NET Framework Support Lifecycle Policy](http://go.microsoft.com/fwlink/p/?LinkId=248212) </span></span>  
 [<span data-ttu-id="8a4f3-153">Проблемы при миграции на .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="8a4f3-153">.NET Framework 4 Migration Issues</span></span>](../../../docs/framework/migration-guide/net-framework-4-migration-issues.md)

