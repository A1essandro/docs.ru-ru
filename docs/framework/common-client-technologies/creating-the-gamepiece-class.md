---
title: "Создание класса GamePiece"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 37a27a86-ac1c-47be-b477-cb4b819459d3
caps.latest.revision: 9
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: 7ac9884766812cd635b5a70c028cf15c19838511
ms.contentlocale: ru-ru
ms.lasthandoff: 07/28/2017

---
# <a name="creating-the-gamepiece-class"></a><span data-ttu-id="4b84e-102">Создание класса GamePiece</span><span class="sxs-lookup"><span data-stu-id="4b84e-102">Creating the GamePiece Class</span></span>
<span data-ttu-id="4b84e-103">Класс **GamePiece** инкапсулирует все функциональные возможности, необходимые для загрузки изображения элемента игры Microsoft XNA, отслеживания состояния мыши относительно элемента игры, захвата мыши, обеспечения обработки манипуляции и инерции, а также обеспечения возможности возвращения, когда элемент игры достигнет ограничений порта просмотра.</span><span class="sxs-lookup"><span data-stu-id="4b84e-103">The **GamePiece** class encapsulates all the functionality required to load a Microsoft XNA game piece image, track the state of the mouse in relation to the game piece, capture the mouse, provide manipulation and inertia processing, and provide bouncing capability when the game piece reaches the limits of the view port.</span></span>  
  
## <a name="private-members"></a><span data-ttu-id="4b84e-104">Закрытые члены</span><span class="sxs-lookup"><span data-stu-id="4b84e-104">Private Members</span></span>  
 <span data-ttu-id="4b84e-105">В верхней части класса **GamePiece** объявляется несколько закрытых членов.</span><span class="sxs-lookup"><span data-stu-id="4b84e-105">At the top of the **GamePiece** class, several private members are declared.</span></span>  
  
 <span data-ttu-id="4b84e-106">[!code-csharp[ManipulationXNA#_GamePiece_PrivateMembers](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privatemembers)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-106">[!code-csharp[ManipulationXNA#_GamePiece_PrivateMembers](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privatemembers)]</span></span>  
  
## <a name="public-properties"></a><span data-ttu-id="4b84e-107">Открытые свойства</span><span class="sxs-lookup"><span data-stu-id="4b84e-107">Public Properties</span></span>  
 <span data-ttu-id="4b84e-108">Три из этих закрытых членов предоставляются через открытые свойства.</span><span class="sxs-lookup"><span data-stu-id="4b84e-108">Three of these private members are exposed through public properties.</span></span> <span data-ttu-id="4b84e-109">Свойства **Scale** и **PieceColor** позволяют приложению задавать соответственно масштаб и цвет элемента.</span><span class="sxs-lookup"><span data-stu-id="4b84e-109">The **Scale** and **PieceColor** properties enable the application to specify the scale and the color of the piece, respectively.</span></span> <span data-ttu-id="4b84e-110">Свойство **Bounds** предоставляется, чтобы разрешить одному элементу использовать границы другого элемента для своей отрисовки, например когда один элемент должен накладываться на другой.</span><span class="sxs-lookup"><span data-stu-id="4b84e-110">The **Bounds** property is exposed to enable one piece to use the bounds of another to render itself, such as when one piece should overlay another.</span></span> <span data-ttu-id="4b84e-111">В следующем коде показано объявление открытых свойств.</span><span class="sxs-lookup"><span data-stu-id="4b84e-111">The following code shows the declaration of the public properties.</span></span>  
  
 <span data-ttu-id="4b84e-112">[!code-csharp[ManipulationXNA#_GamePiece_PublicProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_publicproperties)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-112">[!code-csharp[ManipulationXNA#_GamePiece_PublicProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_publicproperties)]</span></span>  
  
## <a name="class-constructor"></a><span data-ttu-id="4b84e-113">Конструктор класса</span><span class="sxs-lookup"><span data-stu-id="4b84e-113">Class Constructor</span></span>  
 <span data-ttu-id="4b84e-114">Конструктор класса **GamePiece** принимает следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-114">The constructor for the **GamePiece** class accepts the following parameters:</span></span>  
  
-   <span data-ttu-id="4b84e-115">Тип [SpriteBatch](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b84e-115">A [SpriteBatch](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.aspx) type.</span></span> <span data-ttu-id="4b84e-116">Ссылка, передаваемая здесь, назначается закрытому члену `spriteBatch` и используется для доступа к методу [SpriteBatch.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.draw.aspx), когда элемент игры отрисовывается сам.</span><span class="sxs-lookup"><span data-stu-id="4b84e-116">The reference passed here is assigned to the private member `spriteBatch`, and is used to access the [SpriteBatch.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.draw.aspx) method when the game piece renders itself.</span></span> <span data-ttu-id="4b84e-117">Кроме того, свойство [GraphicsDevice](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.graphicsdevice.aspx) используется для создания объекта [Texture](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.texture.aspx), связанного с элементом игры, а также для получения размера порта просмотра для обнаружения, когда элемент игры встретит границу окна, чтобы этот элемент мог вернуться.</span><span class="sxs-lookup"><span data-stu-id="4b84e-117">In addition, the [GraphicsDevice](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.graphicsdevice.aspx) property is used to create the [Texture](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.texture.aspx) object associated with the game piece, and to obtain the size of the view port in order to detect when the game piece encounters a window boundary so that the piece can bounce.</span></span>  
  
-   <span data-ttu-id="4b84e-118">Строка, указывающая имя файла изображения, используемого для элемента игры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-118">A string that specifies the file name of the image to use for the game piece.</span></span>  
  
 <span data-ttu-id="4b84e-119">Этот конструктор также создает объект <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> и объект <xref:System.Windows.Input.Manipulations.InertiaProcessor2D>, а также устанавливает обработчики событий для их событий.</span><span class="sxs-lookup"><span data-stu-id="4b84e-119">The constructor also creates a <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object and an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object, and establishes event handlers for their events.</span></span>  
  
 <span data-ttu-id="4b84e-120">В следующем коде показан конструктор класса **GamePiece**.</span><span class="sxs-lookup"><span data-stu-id="4b84e-120">The following code shows the constructor for the **GamePiece** class.</span></span>  
  
 <span data-ttu-id="4b84e-121">[!code-csharp[ManipulationXNA#_GamePiece_Constructor](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_constructor)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-121">[!code-csharp[ManipulationXNA#_GamePiece_Constructor](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_constructor)]</span></span>  
  
## <a name="capturing-mouse-input"></a><span data-ttu-id="4b84e-122">Захват ввода мыши</span><span class="sxs-lookup"><span data-stu-id="4b84e-122">Capturing Mouse Input</span></span>  
 <span data-ttu-id="4b84e-123">Метод **UpdateFromMouse** отвечает за обнаружение нажатия кнопки мыши, когда указатель мыши находится в пределах границ элемента игры, и обнаружение освобождения кнопки мыши.</span><span class="sxs-lookup"><span data-stu-id="4b84e-123">The **UpdateFromMouse** method is responsible for detecting when a mouse button is pressed while the mouse is within the boundaries of the game piece, and for detecting when the mouse button has been released.</span></span>  
  
 <span data-ttu-id="4b84e-124">При нажатии левой кнопки мыши (когда указатель мыши находится в пределах границ элемента) этот метод устанавливает флаг, указывающий, что этот элемент игры захватил мышь, и начинает обработку манипуляции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-124">When the left mouse button is pressed (while the mouse is inside the piece boundaries), this method sets a flag to indicate that this game piece has captured the mouse, and begins manipulation processing.</span></span>  
  
 <span data-ttu-id="4b84e-125">Обработка манипуляции начинается с создания массива объектов <xref:System.Windows.Input.Manipulations.Manipulator2D> и передачи их в объект <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-125">Manipulation processing is started by creating an array of <xref:System.Windows.Input.Manipulations.Manipulator2D> objects and passing them to the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object.</span></span> <span data-ttu-id="4b84e-126">Это заставляет обработчик манипуляции оценить манипуляторы (в данном случае один манипулятор) и инициировать события манипуляции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-126">This causes the manipulation processor to evaluate the manipulators (in this case a single manipulator), and raise manipulation events.</span></span>  
  
 <span data-ttu-id="4b84e-127">Кроме того, точка, в которой возникает перетаскивание, сохраняется.</span><span class="sxs-lookup"><span data-stu-id="4b84e-127">In addition, the point at which the drag is occurring is saved.</span></span> <span data-ttu-id="4b84e-128">Она используется позднее, во время события <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta>, для настройки разностных значений транзакций, чтобы элемент игры поворачивался в строку за точкой перетаскивания.</span><span class="sxs-lookup"><span data-stu-id="4b84e-128">This is used later during the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event to adjust the delta translation values so that the game piece swings into line behind the drag point.</span></span>  
  
 <span data-ttu-id="4b84e-129">Наконец, этот метод возвращает состояние захвата мыши.</span><span class="sxs-lookup"><span data-stu-id="4b84e-129">Finally, this method returns the state of the mouse capture.</span></span> <span data-ttu-id="4b84e-130">Это позволяет объекту [GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) управлять захватом при наличии нескольких элементов игры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-130">This enables the [GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) object to manage capturing when there are multiple game pieces.</span></span>  
  
 <span data-ttu-id="4b84e-131">В следующем примере кода показан метод **UpdateFromMouse**.</span><span class="sxs-lookup"><span data-stu-id="4b84e-131">The following code shows the **UpdateFromMouse** method.</span></span>  
  
 <span data-ttu-id="4b84e-132">[!code-csharp[ManipulationXNA#_GamePiece_UpdateFromMouse](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_updatefrommouse)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-132">[!code-csharp[ManipulationXNA#_GamePiece_UpdateFromMouse](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_updatefrommouse)]</span></span>  
  
## <a name="processing-manipulations"></a><span data-ttu-id="4b84e-133">Обработка манипуляций</span><span class="sxs-lookup"><span data-stu-id="4b84e-133">Processing Manipulations</span></span>  
 <span data-ttu-id="4b84e-134">В начале манипуляции возникает событие <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-134">When manipulation begins, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> event is raised.</span></span> <span data-ttu-id="4b84e-135">Обработчик этого события останавливает обработку инерции, если она выполняется, и устанавливает для флага *processInertia* значение `false`.</span><span class="sxs-lookup"><span data-stu-id="4b84e-135">The handler for this event stops inertia processing if it is occurring, and sets the *processInertia* flag to `false`.</span></span>  
  
 <span data-ttu-id="4b84e-136">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationStarted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationstarted)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-136">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationStarted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationstarted)]</span></span>  
  
 <span data-ttu-id="4b84e-137">При изменении значений, связанных с этой манипуляцией, возникает событие <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-137">As the values associated with the manipulation change, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="4b84e-138">Обработчик этого события использует разностные значения, переданные в аргументы событий, для изменения значений положения и поворота элемента игры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-138">The handler for this event uses the delta values passed in the event arguments to make changes to the position and rotation values of the game piece.</span></span>  
  
 <span data-ttu-id="4b84e-139">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationdelta)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-139">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationdelta)]</span></span>  
  
 <span data-ttu-id="4b84e-140">При удалении всех манипуляторов (в данном случае одного манипулятора), связанных с манипуляцией, обработчик манипуляции инициирует событие <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-140">When all of the manipulators (in this case, a single manipulator) that are associated with a manipulation are removed, the manipulation processor raises the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> event.</span></span> <span data-ttu-id="4b84e-141">Обработчик этого события запускает обработку инерции, устанавливая для начальных скоростей обработчика инерции значения, сообщенные в аргументах события, и устанавливает для флага *processInertia* значение `true`.</span><span class="sxs-lookup"><span data-stu-id="4b84e-141">The handler for this event begins inertia processing by setting the initial velocities of the inertia processor to those reported by the event arguments, and sets the *processInertia* flag to `true`.</span></span>  
  
 <span data-ttu-id="4b84e-142">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationcompleted)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-142">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationcompleted)]</span></span>  
  
## <a name="processing-inertia"></a><span data-ttu-id="4b84e-143">Обработка инерции</span><span class="sxs-lookup"><span data-stu-id="4b84e-143">Processing Inertia</span></span>  
 <span data-ttu-id="4b84e-144">Когда обработка инерции экстраполирует новые значения для угловой и линейной скоростей, координат положения (перевода) и поворота, вызывается событие <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-144">As inertia processing extrapolates new values for angular and linear velocities, position (translation) coordinates, and rotation, the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="4b84e-145">Обработчик этого события использует разностные значения, переданные в аргументы событий, для изменения положения и поворота элемента игры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-145">The handler for this event uses the delta values passed in the event arguments to modify the position and rotation of the game piece.</span></span>  
  
 <span data-ttu-id="4b84e-146">Если новые координаты приводят к перемещению элемента игры за границы порта просмотра, скорость обработки инерции поворачивается в обратном направлении.</span><span class="sxs-lookup"><span data-stu-id="4b84e-146">If the new coordinates result in the game piece moving beyond the view port boundaries, the velocity of the inertia processing is reversed.</span></span> <span data-ttu-id="4b84e-147">Это приводит к повороту элемента игры от встреченной границы порта просмотра.</span><span class="sxs-lookup"><span data-stu-id="4b84e-147">This causes the game piece to bounce off the view port boundary that it has encountered.</span></span>  
  
 <span data-ttu-id="4b84e-148">Вы не можете изменять свойства объекта <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> во время выполнения экстраполяции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-148">You cannot change the properties of an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object while it is running extrapolation.</span></span> <span data-ttu-id="4b84e-149">Таким образом, при обращении скорости X или Y обработчик события сначала останавливает инерцию путем вызова метода <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Complete%2A>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-149">Therefore, when reversing the X or Y velocity, the event handler first stops inertia by calling the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Complete%2A> method.</span></span> <span data-ttu-id="4b84e-150">Затем он назначает новые начальные значения скорости текущими значениями (с учетом неупругого поведения) и устанавливает для флага *processInertia* значение `true`.</span><span class="sxs-lookup"><span data-stu-id="4b84e-150">It then assigns the new initial velocity values to be the current velocity values (adjusted for sponge behavior), and sets the *processInertia* flag to `true`.</span></span>  
  
 <span data-ttu-id="4b84e-151">В следующем примере кода показан обработчик событий для события <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-151">The following code shows the event handler for the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event.</span></span>  
  
 <span data-ttu-id="4b84e-152">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiadelta)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-152">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiadelta)]</span></span>  
  
 <span data-ttu-id="4b84e-153">После завершения обработки инерции обработчик инерции вызывает событие <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Completed>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-153">When inertia processing is complete, the inertia processor raises the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Completed> event.</span></span> <span data-ttu-id="4b84e-154">Обработчик для этого события устанавливает флаг *processInertia* в значение `false`.</span><span class="sxs-lookup"><span data-stu-id="4b84e-154">The handler for this event sets the *processInertia* flag to `false`.</span></span>  
  
 <span data-ttu-id="4b84e-155">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiacompleted)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-155">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiacompleted)]</span></span>  
  
 <span data-ttu-id="4b84e-156">Ни одна из логик, представленных выше, в действительности не вызывает выполнение экстраполяции инерции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-156">None of the logic presented so far actually causes inertia extrapolation to occur.</span></span> <span data-ttu-id="4b84e-157">Это выполняется в методе **ProcessInertia**.</span><span class="sxs-lookup"><span data-stu-id="4b84e-157">This is accomplished in the **ProcessInertia** method.</span></span> <span data-ttu-id="4b84e-158">Этот метод, который повторно вызывается из цикла обновления игры (метод [Game.Update](http://msdn.microsoft.com/library/microsoft.xna.framework.game.update.aspx)), проверяет, имеет ли флаг *processInertia* значение `true`, и если да, вызывает метод <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Process%2A>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-158">This method, which is called repeatedly from the game update loop (the [Game.Update](http://msdn.microsoft.com/library/microsoft.xna.framework.game.update.aspx) method) checks to see if the *processInertia* flag is set to `true`, and if so, calls the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Process%2A> method.</span></span> <span data-ttu-id="4b84e-159">Вызов этого метода приводит к выполнению экстраполяции и вызывает событие <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta>.</span><span class="sxs-lookup"><span data-stu-id="4b84e-159">Calling this method causes extrapolation to occur, and raises the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event.</span></span>  
  
 <span data-ttu-id="4b84e-160">[!code-csharp[ManipulationXNA#_GamePiece_ProcessInertia](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_processinertia)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-160">[!code-csharp[ManipulationXNA#_GamePiece_ProcessInertia](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_processinertia)]</span></span>  
  
 <span data-ttu-id="4b84e-161">Элемент игры фактически не отображается до тех пор, пока не будет вызвана одна из перегрузок метода Draw.</span><span class="sxs-lookup"><span data-stu-id="4b84e-161">The game piece is not actually rendered until one of the Draw method overloads is called.</span></span> <span data-ttu-id="4b84e-162">Первая перегрузка этого метода вызывается повторно из цикла рисования игры (метод [Game.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.game.draw.aspx)).</span><span class="sxs-lookup"><span data-stu-id="4b84e-162">The first overload of this method is called repeatedly from the game draw loop (the [Game.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.game.draw.aspx) method).</span></span> <span data-ttu-id="4b84e-163">Это отрисовывает элемент игры с текущим положением, поворотом и масштабом.</span><span class="sxs-lookup"><span data-stu-id="4b84e-163">This renders the game piece with the current position, rotation, and scale factors.</span></span>  
  
 <span data-ttu-id="4b84e-164">[!code-csharp[ManipulationXNA#_GamePiece_Draw](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_draw)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-164">[!code-csharp[ManipulationXNA#_GamePiece_Draw](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_draw)]</span></span>  
  
## <a name="additional-properties"></a><span data-ttu-id="4b84e-165">Дополнительные свойства</span><span class="sxs-lookup"><span data-stu-id="4b84e-165">Additional Properties</span></span>  
 <span data-ttu-id="4b84e-166">Класс **GamePiece** использует три закрытых свойства.</span><span class="sxs-lookup"><span data-stu-id="4b84e-166">Three private properties are used by the **GamePiece** class.</span></span>  
  
1.  <span data-ttu-id="4b84e-167">**Timestamp** — получает значение метки времени, которая будет использоваться обработчиками манипуляции и инерции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-167">**Timestamp** – Gets a timestamp value to be used by the manipulation and inertia processors.</span></span>  
  
2.  <span data-ttu-id="4b84e-168">**X** — возвращает или задает координату X элемента игры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-168">**X** – Gets or sets the X coordinate of the game piece.</span></span> <span data-ttu-id="4b84e-169">Если это свойство установлено, то настраивает границы, используемые для проверки попадания и места поворота обработчика манипуляции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-169">When setting, adjusts the bounds used for hit testing and the pivot location of the manipulation processor.</span></span>  
  
3.  <span data-ttu-id="4b84e-170">**Y** — возвращает или задает координату Y элемента игры.</span><span class="sxs-lookup"><span data-stu-id="4b84e-170">**Y** – Gets or sets the Y coordinate of the game piece.</span></span> <span data-ttu-id="4b84e-171">Если это свойство установлено, то настраивает границы, используемые для проверки попадания и места поворота обработчика манипуляции.</span><span class="sxs-lookup"><span data-stu-id="4b84e-171">When setting, adjusts the bounds used for hit testing and the pivot location of the manipulation processor.</span></span>  
  
 <span data-ttu-id="4b84e-172">[!code-csharp[ManipulationXNA#_GamePiece_PrivateProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privateproperties)]</span><span class="sxs-lookup"><span data-stu-id="4b84e-172">[!code-csharp[ManipulationXNA#_GamePiece_PrivateProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privateproperties)]</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4b84e-173">См. также</span><span class="sxs-lookup"><span data-stu-id="4b84e-173">See Also</span></span>  
 <span data-ttu-id="4b84e-174">[Манипуляции и инерция](../../../docs/framework/common-client-technologies/manipulations-and-inertia.md) </span><span class="sxs-lookup"><span data-stu-id="4b84e-174">[Manipulations and Inertia](../../../docs/framework/common-client-technologies/manipulations-and-inertia.md) </span></span>  
 <span data-ttu-id="4b84e-175">[Использование манипуляций и инерции в приложении XNA](../../../docs/framework/common-client-technologies/use-manipulations-and-inertia-in-an-xna-application.md) </span><span class="sxs-lookup"><span data-stu-id="4b84e-175">[Using Manipulations and Inertia in an XNA Application](../../../docs/framework/common-client-technologies/use-manipulations-and-inertia-in-an-xna-application.md) </span></span>  
 <span data-ttu-id="4b84e-176">[Создание класса GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) </span><span class="sxs-lookup"><span data-stu-id="4b84e-176">[Creating the GamePieceCollection Class](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) </span></span>  
 [<span data-ttu-id="4b84e-177">Создание класса Game1</span><span class="sxs-lookup"><span data-stu-id="4b84e-177">Creating the Game1 Class</span></span>](../../../docs/framework/common-client-technologies/creating-the-game1-class.md)

