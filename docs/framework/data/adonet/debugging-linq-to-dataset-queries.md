---
title: "Отладка запросов LINQ to DataSet | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-ado"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: f4c54015-8ce2-4c5c-8d18-7038144cc66d
caps.latest.revision: 3
author: "JennieHubbard"
ms.author: "jhubbard"
manager: "jhubbard"
caps.handback.revision: 3
---
# Отладка запросов LINQ to DataSet
Среда [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] поддерживает отладку кода [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  Однако есть некоторые отличия между отладкой кода [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] и кодом, не управляемым [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]. Большинство функций отладки работают с инструкциями [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], включая пошаговое выполнение, установку точек останова и просмотр результатов в окнах отладчика.  Тем не менее отложенное выполнение запроса имеет некоторые побочные эффекты, которые нужно учитывать при отладке кода [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], и есть некоторые ограничения, которые нужно учитывать при использовании технологии «Изменить и продолжить».  В этом разделе обсуждаются аспекты отладки, которые свойственны только для [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] в сравнении с кодом, не управляемым [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  
  
## Просмотр результатов  
 Результаты инструкций [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] можно просматривать с помощью элементов DataTip, окна просмотра и диалогового окна быстрого просмотра.  В окне исходного текста можно остановить указатель на запросе, после чего появится элемент DataTip.  Можно скопировать переменную [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] и вставить ее в окно просмотра или диалоговое окно быстрого просмотра. В [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] результат запроса вычисляется не при создании или объявлении запроса, а при его выполнении.  Это называется *отложенным выполнением*.  Поэтому переменная запроса не имеет значения, пока запрос не выполнен.  Для получения дополнительной информации см. [Запросы в LINQ to DataSet](../../../../docs/framework/data/adonet/queries-in-linq-to-dataset.md).  
  
 Отладчик должен выполнить запрос, чтобы отобразить его результаты.  Скрытое выполнение происходит, когда просматривается результат запроса [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] в отладчике, что дает некоторые эффекты, которые нужно учитывать.  Каждое вычисление запроса занимает время.  Разворачивание узла результатов занимает время.  В некоторых запросах повторные вычисления могу вызвать заметное снижение производительности.  Вычисление запроса может также вызвать побочные эффекты, которые изменяют значение данных или состояние программы.  Не все запросы имеют побочные эффекты.  Чтобы определить, может ли запрос быть выполнен безопасно, без побочных эффектов, нужно понимать программный код, которым реализован запрос.  Для получения дополнительной информации см. [Побочные эффекты и выражения](../Topic/Side%20Effects%20and%20Expressions.md).  
  
## Изменить и продолжить  
 Технология «Изменить и продолжить» не поддерживает редактирование запросов [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  При добавлении или изменении инструкции [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] во время сеанса отладки появится диалоговое окно, информирующее о том, что правка не поддерживается технологией «Изменить и продолжить».  На этом этапе можно либо отменить изменения, либо остановить сеанс отладки и запустить новый сеанс с отредактированным кодом.  
  
 Кроме того, технология «Изменить и продолжить» не поддерживает изменение типа или значения переменной, которая используется в инструкции [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  Снова можно либо отменить изменения либо остановить и перезапустить сеанс отладки.  
  
 В Visual C\# в Visual Studio нельзя использовать технологию «Изменить и продолжить» с каким\-либо кодом в методе, который содержит запрос [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  
  
 В Visual Basic в Visual Studio можно использовать технологию «Изменить и продолжить» в коде, не использующем [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], в том числе в методе, содержащем запрос [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  Можно добавлять или удалять программный код перед инструкцией [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], даже если изменения затронут количество строк запроса [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  Возможности отладки программного кода Visual Basic, не использующего [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], после появления технологии [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] не изменились.  Тем не менее нельзя изменять, добавлять или удалять запросы [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], не остановив отладку для сохранения изменений.  
  
## См. также  
 [Отладка управляемого кода](../Topic/Debugging%20Managed%20Code.md)   
 [Руководство по программированию](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)