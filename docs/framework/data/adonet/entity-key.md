---
title: "ключ сущности"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0d447a6d-fa7a-4db0-8e7a-fd45e385fca0
caps.latest.revision: "4"
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.openlocfilehash: d0d7df7ff1a0e8e732688e10befb4bffa86599d0
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="entity-key"></a>ключ сущности
*Ключ сущности* — [свойство](../../../../docs/framework/data/adonet/property.md) или набор свойств [тип сущности](../../../../docs/framework/data/adonet/entity-type.md) , которые используются для установления личности. Свойства, составляющие ключ сущности, выбираются во время разработки. Значения свойств ключа сущности должен однозначно идентифицировать экземпляр типа сущности внутри [набора сущностей](../../../../docs/framework/data/adonet/entity-set.md) во время выполнения. Свойства, составляющие ключ сущности, должны гарантировать уникальность экземпляра набора сущностей.  
  
 Ниже приводятся требования к набору свойств, входящих в ключ сущности.  
  
-   Два ключа сущностей не могут быть идентичными в одном наборе сущностей. То есть для любых двух сущностей внутри набора сущностей значения для всех свойств, составляющих ключ, не могут быть одинаковыми. Тем не менее, некоторые (но не все) значения, составляющие ключ сущности, могут быть одинаковыми.  
  
-   Ключ сущности должен состоять из набора не допускает значение NULL, неизменяемый, [свойств примитивного типа](../../../../docs/framework/data/adonet/entity-data-model-primitive-data-types.md).  
  
-   Свойства, составляющие ключ сущности для данного типа сущности, не могут быть изменены. Для одного типа сущности возможен только один ключ сущности; суррогатные ключи не поддерживаются.  
  
-   Если сущность участвует в иерархии наследования, корневая сущность должна содержать все свойства, составляющие ключ сущности, а ключ сущности должен быть определен в типе корневой сущности. Дополнительные сведения см. в разделе [модель EDM: наследование](../../../../docs/framework/data/adonet/entity-data-model-inheritance.md).  
  
## <a name="example"></a>Пример  
 На приведенной ниже схеме показана концептуальная модель с тремя типами сущностей: `Book`, `Publisher` и `Author`. Свойства каждого типа сущности, составляющие его ключ сущности, обозначаются знаком «(Ключ)». Обратите внимание, что тип сущности `Author` имеет ключ сущности, состоящий из двух свойств - `Name` и `Address`.  
  
 ![Пример модели](../../../../docs/framework/data/adonet/media/examplemodel.gif "ExampleModel")  
  
 [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md) использует доменный язык (DSL), называемый языком определения концептуальной схемы ([CSDL](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)) для определения концептуальных моделей. Ниже язык определения концептуальной схемы определяет тип сущности `Book`, который ранее приводился в схеме. Обратите внимание, что ключ сущности определяется ссылкой на свойство `ISBN` типа сущности.  
  
 [!code-xml[EDM_Example_Model#EntityExample](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books.edmx#entityexample)]  
  
 Свойство `ISBN` хорошо подойдет для использования в качестве ключа сущности, поскольку международный стандартный номер книги (ISBN) уникально определяет книгу.  
  
 Ниже язык определения концептуальной схемы определяет тип сущности `Author`, который ранее приводился в схеме. Обратите внимание, что ключ сущности состоит из двух свойств - `Name` и `Address`.  
  
 [!code-xml[EDM_Example_Model#CompositeKeyExample](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books.edmx#compositekeyexample)]  
  
 Использование в качестве ключа сущности параметров `Name` и `Address` является неплохим выбором, поскольку маловероятно, что у двух авторов с одинаковыми именами будет один и тот же адрес. Однако такой выбор ключа сущности не гарантирует уникальность ключей сущности в наборе сущностей. В данном случае рекомендуется добавить свойство, такое как `AuthorId`, которое может быть использовано для уникальной идентификации автора.  
  
## <a name="see-also"></a>См. также  
 [Основные понятия модели данных сущности](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md)  
 [Модель EDM](../../../../docs/framework/data/adonet/entity-data-model.md)
