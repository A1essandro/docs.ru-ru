---
title: "Обязанности разработчика при переопределении поведения по умолчанию | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-ado"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: c6909ddd-e053-46a8-980c-0e12a9797be1
caps.latest.revision: 2
author: "JennieHubbard"
ms.author: "jhubbard"
manager: "jhubbard"
caps.handback.revision: 2
---
# Обязанности разработчика при переопределении поведения по умолчанию
Представленные ниже требования не являются обязательными в [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], однако, если их не выполнить, поведение будет неопределенным.  
  
-   Метод переопределения не должен вызывать методы <xref:System.Data.Linq.DataContext.SubmitChanges%2A> и <xref:System.Data.Linq.Table%601.Attach%2A>.  Если эти методы вызываются в методе переопределения, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] создает исключение.  
  
-   Методы переопределения нельзя использовать для начала, фиксации или остановки транзакции.  Операция <xref:System.Data.Linq.DataContext.SubmitChanges%2A> выполняется в составе транзакции.  Внутренняя вложенная транзакция может помешать выполнения внешней транзакции.  Методы переопределения загрузки могут начать транзакцию, лишь определив, что операция не выполняется в рамках <xref:System.Transactions.Transaction>.  
  
-   Ожидается, что методы переопределения соответствуют применимому сопоставлению оптимистического параллелизма.  Ожидается, что при возникновении конфликта оптимистичного параллелизма метод переопределения вызывает исключение <xref:System.Data.Linq.ChangeConflictException>.  [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] перехватывает это исключение, давая разработчику возможность правильно обработать параметр <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, переданный методу <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.  
  
-   Ожидается, что методы переопределения операций создания \(`Insert`\) и обновления \(`Update`\) отправляют значения созданных базой данных столбцов обратно соответствующим членам объекта при успешном завершении операции.  
  
     Например, если член `Order.OrderID` сопоставлен столбцу идентификаций \(первичный ключ с *автоувеличением*\), тогда метод переопределения `InsertOrder()` должен извлекать созданный базой данных код и устанавливать для члена `Order.OrderID` значение этого кода.  Аналогичным образом, чтобы гарантировать согласованность обновленных объектов, члены отметок времени должны обновляться значениями отметок времени, созданными базой данных.  Если не распространить созданные базой данных значения на члены, может возникнуть несогласованность между базой данных и объектами, отслеживаемыми классом <xref:System.Data.Linq.DataContext>.  
  
-   Пользователь обязан вызвать правильный динамический API\-интерфейс.  Например, в методе переопределения обновления может быть вызван только метод <xref:System.Data.Linq.DataContext.ExecuteDynamicUpdate%2A>.  [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] не обнаруживает и не проверяет вызванный динамический метод на предмет соответствия применяемой операции.  Если вызывается неприменимый метод \(например, метод <xref:System.Data.Linq.DataContext.ExecuteDynamicDelete%2A> для обновления объекта\), результаты не определены.  
  
-   Наконец, ожидается, что метод переопределения выполняет объявленную операцию.  Семантика таких операций [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], как безотложная загрузка, отложенная загрузка и <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, требует, чтобы переопределения представляли объявленные службы. Например, переопределение загрузки, которое лишь возвращает пустую коллекцию без проверки содержимого в базе данных, скорее всего, приведет к несогласованности данных.  
  
## См. также  
 [Настройка операций вставки, обновления и удаления](../../../../../../docs/framework/data/adonet/sql/linq/customizing-insert-update-and-delete-operations.md)