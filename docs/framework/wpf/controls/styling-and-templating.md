---
title: Стилизация и использование шаблонов
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- triggers [WPF]
- styles [WPF], referencing
- event triggers [WPF]
- styles [WPF], prerequisites
- styles [WPF], declaring
- styles [WPF], overview
- styles [WPF], extending
- styles [WPF], triggers
- styles [WPF], event triggers
ms.assetid: 481765e5-5467-4a75-9f7b-e10e2ac410d9
ms.openlocfilehash: 85911647c089d51bafe2d65d1c5db907599b06d4
ms.sourcegitcommit: 89c93d05c2281b4c834f48f6c8df1047e1410980
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2018
---
# <a name="styling-and-templating"></a><span data-ttu-id="a398c-102">Стилизация и использование шаблонов</span><span class="sxs-lookup"><span data-stu-id="a398c-102">Styling and Templating</span></span>
<span data-ttu-id="a398c-103">Стилизация и использование шаблонов [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] относятся к набору возможностей (стили, шаблоны, триггеры и раскадровки), которые позволяют разработчикам и дизайнерам создавать визуально привлекательные эффекты, а также создавать согласованный внешний вид своих продуктов.</span><span class="sxs-lookup"><span data-stu-id="a398c-103">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] styling and templating refer to a suite of features (styles, templates, triggers, and storyboards) that allow developers and designers to create visually compelling effects and to create a consistent appearance for their product.</span></span> <span data-ttu-id="a398c-104">Несмотря на то что разработчики и дизайнеры могут создавать внешний вид отдельно для каждого приложения, надежная модель стилизации и использования шаблонов необходима для поддержки и совместного использования внешнего вида как внутри одного приложения, так и в ряде приложений.</span><span class="sxs-lookup"><span data-stu-id="a398c-104">Although developers and or designers can customize the appearance extensively on an application-by-application basis, a strong styling and templating model is necessary to allow maintenance and sharing of the appearance within and among applications.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]<span data-ttu-id="a398c-105"> предоставляет такую модель.</span><span class="sxs-lookup"><span data-stu-id="a398c-105"> provides that model.</span></span>  
  
 <span data-ttu-id="a398c-106">Еще одной возможностью модели стилизации [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] является разделение представления и логики.</span><span class="sxs-lookup"><span data-stu-id="a398c-106">Another feature of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] styling model is the separation of presentation and logic.</span></span> <span data-ttu-id="a398c-107">Это означает, что дизайнеры могут создавать внешний вид приложения только с помощью [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] в то же самое время, когда разработчики работают над логикой программы, используя языки C# или Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="a398c-107">This means that designers can work on the appearance of an application by using only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] at the same time that developers work on the programming logic by using C# or Visual Basic.</span></span>  
  
 <span data-ttu-id="a398c-108">В этом обзоре основное внимание уделяется аспектам стилизации и использования шаблонов приложения и не рассматриваются концепции привязки данных.</span><span class="sxs-lookup"><span data-stu-id="a398c-108">This overview focuses on the styling and templating aspects of the application and does not discuss any data binding concepts.</span></span> <span data-ttu-id="a398c-109">Подробнее о привязке данных см. в разделе [Общие сведения о привязке данных](../../../../docs/framework/wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-109">For information about data binding, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).</span></span>  
  
 <span data-ttu-id="a398c-110">Также важно иметь представление о ресурсах, которые позволяют повторно использовать стили и шаблоны.</span><span class="sxs-lookup"><span data-stu-id="a398c-110">In addition, it is important to understand resources, which are what enable styles and templates to be reused.</span></span> <span data-ttu-id="a398c-111">Дополнительные сведения о ресурсах см. в разделе [Ресурсы XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-111">For more information about resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
 
  
<a name="styling_and_templating_sample"></a>   
## <a name="styling-and-templating-sample"></a><span data-ttu-id="a398c-112">Пример стилизации и использования шаблонов</span><span class="sxs-lookup"><span data-stu-id="a398c-112">Styling and Templating Sample</span></span>  
 <span data-ttu-id="a398c-113">В примерах кода, приведенных в этом обзоре, используется простой пример фото, показанный ниже:</span><span class="sxs-lookup"><span data-stu-id="a398c-113">The code examples used in this overview are based on a simple photo sample shown in the following illustration:</span></span>  
  
 <span data-ttu-id="a398c-114">![Стилизированный ListView](../../../../docs/framework/wpf/controls/media/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="a398c-114">![Styled ListView](../../../../docs/framework/wpf/controls/media/stylingintro-triggers.png "StylingIntro_triggers")</span></span>  
  
 <span data-ttu-id="a398c-115">В этом простом примере фото стилизация и шаблоны применяются для создания привлекательного интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a398c-115">This simple photo sample uses styling and templating to create a visually compelling user experience.</span></span> <span data-ttu-id="a398c-116">Образец содержит два <xref:System.Windows.Controls.TextBlock> элементы и <xref:System.Windows.Controls.ListBox> элемента управления, к которому привязан список образов.</span><span class="sxs-lookup"><span data-stu-id="a398c-116">The sample has two <xref:System.Windows.Controls.TextBlock> elements and a <xref:System.Windows.Controls.ListBox> control that is bound to a list of images.</span></span> <span data-ttu-id="a398c-117">Полный пример см. в разделе [Вводная часть примера стилизации и использования шаблонов](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="a398c-117">For the complete sample, see [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
<a name="styling_basics"></a>   
## <a name="style-basics"></a><span data-ttu-id="a398c-118">Основы стилей</span><span class="sxs-lookup"><span data-stu-id="a398c-118">Style Basics</span></span>  
 <span data-ttu-id="a398c-119">Можно представить <xref:System.Windows.Style> — удобный способ применения набора значений свойств к более одного элемента.</span><span class="sxs-lookup"><span data-stu-id="a398c-119">You can think of a <xref:System.Windows.Style> as a convenient way to apply a set of property values to more than one element.</span></span> <span data-ttu-id="a398c-120">Например, рассмотрим следующие <xref:System.Windows.Controls.TextBlock> элементы и их внешний вид по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="a398c-120">For example, consider the following <xref:System.Windows.Controls.TextBlock> elements and their default appearance:</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#TextBlocks](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#textblocks)]  
  
 <span data-ttu-id="a398c-121">![Пример стилизации (снимок экрана)](../../../../docs/framework/wpf/controls/media/stylingintro-textblocksbefore.PNG "StylingIntro_TextBlocksBefore")</span><span class="sxs-lookup"><span data-stu-id="a398c-121">![Styling sample screen shot](../../../../docs/framework/wpf/controls/media/stylingintro-textblocksbefore.PNG "StylingIntro_TextBlocksBefore")</span></span>  
  
 <span data-ttu-id="a398c-122">Внешний вид по умолчанию можно изменить путем задания свойств, таких как <xref:System.Windows.Controls.Control.FontSize%2A> и <xref:System.Windows.Controls.Control.FontFamily%2A>, на каждом <xref:System.Windows.Controls.TextBlock> напрямую.</span><span class="sxs-lookup"><span data-stu-id="a398c-122">You can change the default appearance by setting properties, such as <xref:System.Windows.Controls.Control.FontSize%2A> and <xref:System.Windows.Controls.Control.FontFamily%2A>, on each <xref:System.Windows.Controls.TextBlock> element directly.</span></span> <span data-ttu-id="a398c-123">Тем не менее если требуется вашей <xref:System.Windows.Controls.TextBlock> элементы совместно использовать некоторые свойства, можно создать <xref:System.Windows.Style> в `Resources` части вашего [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] файла, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="a398c-123">However, if you want your <xref:System.Windows.Controls.TextBlock> elements to share some properties, you can create a <xref:System.Windows.Style> in the `Resources` section of your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#tb1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#tb1)]  
[!code-xaml[StylingIntroSnippet#Resources2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="a398c-124">При задании <xref:System.Windows.Style.TargetType%2A> стиля <xref:System.Windows.Controls.TextBlock> тип, стиль будет применен ко всем <xref:System.Windows.Controls.TextBlock> элементам в окне.</span><span class="sxs-lookup"><span data-stu-id="a398c-124">When you set the <xref:System.Windows.Style.TargetType%2A> of your style to the <xref:System.Windows.Controls.TextBlock> type, the style is applied to all the <xref:System.Windows.Controls.TextBlock> elements in the window.</span></span>  
  
 <span data-ttu-id="a398c-125">Теперь <xref:System.Windows.Controls.TextBlock> элементы отображаются следующим образом:</span><span class="sxs-lookup"><span data-stu-id="a398c-125">Now the <xref:System.Windows.Controls.TextBlock> elements appear as follows:</span></span>  
  
 <span data-ttu-id="a398c-126">![Пример стилизации (снимок экрана)](../../../../docs/framework/wpf/controls/media/stylingintro-textblocksbasestyle.PNG "StylingIntro_TextBlocksBaseStyle")</span><span class="sxs-lookup"><span data-stu-id="a398c-126">![Styling sample screen shot](../../../../docs/framework/wpf/controls/media/stylingintro-textblocksbasestyle.PNG "StylingIntro_TextBlocksBaseStyle")</span></span>  
  
### <a name="extending-styles"></a><span data-ttu-id="a398c-127">Расширение стилей</span><span class="sxs-lookup"><span data-stu-id="a398c-127">Extending Styles</span></span>  
 <span data-ttu-id="a398c-128">Возможно, вам необходимо два <xref:System.Windows.Controls.TextBlock> элементов, совместно использовать некоторые свойства, такие как <xref:System.Windows.Controls.Control.FontFamily%2A> и выравнивается по центру <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>, и требуется текст «Мои рисунки», чтобы иметь дополнительные свойства.</span><span class="sxs-lookup"><span data-stu-id="a398c-128">Perhaps you want your two <xref:System.Windows.Controls.TextBlock> elements to share some property values, such as the <xref:System.Windows.Controls.Control.FontFamily%2A> and the centered <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>, but you also want the text "My Pictures" to have some additional properties.</span></span> <span data-ttu-id="a398c-129">Это можно сделать, создав новый стиль на основе первого стиля, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="a398c-129">You can do that by creating a new style that is based on the first style, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#tb2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#tb2)]  
[!code-xaml[StylingIntroSnippet#Resources2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="a398c-130">Обратите внимание, что предыдущий стиль получил атрибут `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="a398c-130">Notice that the previous style is given an `x:Key`.</span></span> <span data-ttu-id="a398c-131">Чтобы применить стиль, задайте <xref:System.Windows.FrameworkElement.Style%2A> свойство вашей <xref:System.Windows.Controls.TextBlock> для `x:Key` значение, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="a398c-131">To apply the style, you set the <xref:System.Windows.FrameworkElement.Style%2A> property on your <xref:System.Windows.Controls.TextBlock> to the `x:Key` value, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#UIText](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#uitext)]  
  
 <span data-ttu-id="a398c-132">Это <xref:System.Windows.Controls.TextBlock> теперь имеет стиль <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A> значение <xref:System.Windows.HorizontalAlignment.Center>, <xref:System.Windows.Controls.TextBlock.FontFamily%2A> значение `Comic Sans MS`, <xref:System.Windows.Controls.TextBlock.FontSize%2A> значение 26 и <xref:System.Windows.Controls.TextBlock.Foreground%2A> значение <xref:System.Windows.Media.LinearGradientBrush> показано в примере.</span><span class="sxs-lookup"><span data-stu-id="a398c-132">This <xref:System.Windows.Controls.TextBlock> style now has a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A> value of <xref:System.Windows.HorizontalAlignment.Center>, a <xref:System.Windows.Controls.TextBlock.FontFamily%2A> value of `Comic Sans MS`, a <xref:System.Windows.Controls.TextBlock.FontSize%2A> value of 26, and a <xref:System.Windows.Controls.TextBlock.Foreground%2A> value set to the <xref:System.Windows.Media.LinearGradientBrush> shown in the example.</span></span> <span data-ttu-id="a398c-133">Обратите внимание, что он переопределяет <xref:System.Windows.Controls.Control.FontSize%2A> значение базового стиля.</span><span class="sxs-lookup"><span data-stu-id="a398c-133">Notice that it overrides the <xref:System.Windows.Controls.Control.FontSize%2A> value of the base style.</span></span> <span data-ttu-id="a398c-134">Если имеется более одного <xref:System.Windows.Setter> одного свойства <xref:System.Windows.Style>, <xref:System.Windows.Setter> , объявленный последнего имеет приоритет.</span><span class="sxs-lookup"><span data-stu-id="a398c-134">If there is more than one <xref:System.Windows.Setter> setting the same property in a <xref:System.Windows.Style>, the <xref:System.Windows.Setter> that is declared last takes precedence.</span></span>  
  
 <span data-ttu-id="a398c-135">В следующем примере показаны новые <xref:System.Windows.Controls.TextBlock> элементов будет выглядеть так:</span><span class="sxs-lookup"><span data-stu-id="a398c-135">The following shows what the <xref:System.Windows.Controls.TextBlock> elements now look like:</span></span>  
  
 <span data-ttu-id="a398c-136">![Стилизированный TextBlocks](../../../../docs/framework/wpf/controls/media/stylingintro-textblocks.png "StylingIntro_TextBlocks")</span><span class="sxs-lookup"><span data-stu-id="a398c-136">![Styled TextBlocks](../../../../docs/framework/wpf/controls/media/stylingintro-textblocks.png "StylingIntro_TextBlocks")</span></span>  
  
 <span data-ttu-id="a398c-137">Это `TitleText` стиль расширяет стиль, который был создан для <xref:System.Windows.Controls.TextBlock> типа.</span><span class="sxs-lookup"><span data-stu-id="a398c-137">This `TitleText` style extends the style that has been created for the <xref:System.Windows.Controls.TextBlock> type.</span></span> <span data-ttu-id="a398c-138">Можно также расширить стиль, имеющий атрибут `x:Key`, используя значение атрибута `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="a398c-138">You can also extend a style that has an `x:Key` by using the `x:Key` value.</span></span> <span data-ttu-id="a398c-139">Пример см. в разделе примера для <xref:System.Windows.Style.BasedOn%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="a398c-139">For an example, see the example provided for the <xref:System.Windows.Style.BasedOn%2A> property.</span></span>  
  
### <a name="relationship-of-the-targettype-property-and-the-xkey-attribute"></a><span data-ttu-id="a398c-140">Связь свойства TargetType и атрибута x:Key</span><span class="sxs-lookup"><span data-stu-id="a398c-140">Relationship of the TargetType Property and the x:Key Attribute</span></span>  
 <span data-ttu-id="a398c-141">Как показано в первом примере задание <xref:System.Windows.Style.TargetType%2A> свойства `TextBlock` без присвоения стиля `x:Key` вызывает стиль, применяемый ко всем <xref:System.Windows.Controls.TextBlock> элементов.</span><span class="sxs-lookup"><span data-stu-id="a398c-141">As shown in the first example, setting the <xref:System.Windows.Style.TargetType%2A> property to `TextBlock` without assigning the style an `x:Key` causes the style to be applied to all <xref:System.Windows.Controls.TextBlock> elements.</span></span> <span data-ttu-id="a398c-142">В этом случае для `x:Key` неявно устанавливается значение `{x:Type TextBlock}`.</span><span class="sxs-lookup"><span data-stu-id="a398c-142">In this case, the `x:Key` is implicitly set to `{x:Type TextBlock}`.</span></span> <span data-ttu-id="a398c-143">Это означает, что если явно задать `x:Key` значений к чему-либо, кроме `{x:Type TextBlock}`, <xref:System.Windows.Style> не применяется ко всем <xref:System.Windows.Controls.TextBlock> элементы автоматически.</span><span class="sxs-lookup"><span data-stu-id="a398c-143">This means that if you explicitly set the `x:Key` value to anything other than `{x:Type TextBlock}`, the <xref:System.Windows.Style> is not applied to all <xref:System.Windows.Controls.TextBlock> elements automatically.</span></span> <span data-ttu-id="a398c-144">Вместо этого необходимо применить стиль (с помощью `x:Key` значение) для <xref:System.Windows.Controls.TextBlock> элементов явным образом.</span><span class="sxs-lookup"><span data-stu-id="a398c-144">Instead, you must apply the style (by using the `x:Key` value) to the <xref:System.Windows.Controls.TextBlock> elements explicitly.</span></span> <span data-ttu-id="a398c-145">Если стиль находится в разделе "ресурсы" и не устанавливайте <xref:System.Windows.Style.TargetType%2A> свойства стилей, то необходимо предоставить `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="a398c-145">If your style is in the resources section and you do not set the <xref:System.Windows.Style.TargetType%2A> property on your style, then you must provide an `x:Key`.</span></span>  
  
 <span data-ttu-id="a398c-146">Помимо значение по умолчанию для `x:Key`, <xref:System.Windows.Style.TargetType%2A> свойство задает тип, к которому применяются свойства установщика.</span><span class="sxs-lookup"><span data-stu-id="a398c-146">In addition to providing a default value for the `x:Key`, the <xref:System.Windows.Style.TargetType%2A> property specifies the type to which setter properties apply.</span></span> <span data-ttu-id="a398c-147">Если вы не укажете <xref:System.Windows.Style.TargetType%2A>, необходимо уточнить свойства в вашей <xref:System.Windows.Setter> объектов с именем класса, используя синтаксис `Property="ClassName.Property"`.</span><span class="sxs-lookup"><span data-stu-id="a398c-147">If you do not specify a <xref:System.Windows.Style.TargetType%2A>, you must qualify the properties in your <xref:System.Windows.Setter> objects with a class name by using the syntax `Property="ClassName.Property"`.</span></span> <span data-ttu-id="a398c-148">Например, вместо параметра `Property="FontSize"`, необходимо задать <xref:System.Windows.Setter.Property%2A> для `"TextBlock.FontSize"` или `"Control.FontSize"`.</span><span class="sxs-lookup"><span data-stu-id="a398c-148">For example, instead of setting `Property="FontSize"`, you must set <xref:System.Windows.Setter.Property%2A> to `"TextBlock.FontSize"` or `"Control.FontSize"`.</span></span>  
  
 <span data-ttu-id="a398c-149">Также обратите внимание, что многие элементы управления [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] являются сочетанием других элементов управления [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a398c-149">Also note that many [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls consist of a combination of other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls.</span></span> <span data-ttu-id="a398c-150">Если создать стиль, который применяется ко всем элементам управления типа, можно получить непредвиденные результаты.</span><span class="sxs-lookup"><span data-stu-id="a398c-150">If you create a style that applies to all controls of a type, you might get unexpected results.</span></span> <span data-ttu-id="a398c-151">Например, если создать стиль, предназначенное <xref:System.Windows.Controls.TextBlock> введите в <xref:System.Windows.Window>, стиль будет применен ко всем <xref:System.Windows.Controls.TextBlock> элементов управления в окне, даже если <xref:System.Windows.Controls.TextBlock> является частью другого элемента управления, такие как <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="a398c-151">For example, if you create a style that targets the <xref:System.Windows.Controls.TextBlock> type in a <xref:System.Windows.Window>, the style is applied to all <xref:System.Windows.Controls.TextBlock> controls in the window, even if the <xref:System.Windows.Controls.TextBlock> is part of another control, such as a <xref:System.Windows.Controls.ListBox>.</span></span>  
  
### <a name="styles-and-resources"></a><span data-ttu-id="a398c-152">Стили и ресурсы</span><span class="sxs-lookup"><span data-stu-id="a398c-152">Styles and Resources</span></span>  
 <span data-ttu-id="a398c-153">Стиль может использоваться для любого элемента, производного от <xref:System.Windows.FrameworkElement> или <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="a398c-153">You can use a style on any element that derives from <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="a398c-154">Наиболее распространенный способ объявления стиля — это его объявление в качестве ресурса в разделе `Resources` файла [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], как было показано в предыдущих примерах.</span><span class="sxs-lookup"><span data-stu-id="a398c-154">The most common way to declare a style is as a resource in the `Resources` section in a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, as shown in the previous examples.</span></span> <span data-ttu-id="a398c-155">Так как стили являются ресурсами, для них действуют те же правила области видимости, которые применяются ко всем ресурсам. Область, в которой объявлен стиль, влияет на область применения стиля.</span><span class="sxs-lookup"><span data-stu-id="a398c-155">Because styles are resources, they obey the same scoping rules that apply to all resources; where you declare a style affects where the style can be applied.</span></span> <span data-ttu-id="a398c-156">Например, если объявить стиль в корневом элементе файла [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] определения приложения, стиль может использоваться в любом месте приложения.</span><span class="sxs-lookup"><span data-stu-id="a398c-156">For example, if you declare the style in the root element of your application definition [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, the style can be used anywhere in your application.</span></span> <span data-ttu-id="a398c-157">Если вы создаете приложение навигации и объявляете стиль в одном из файлов [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] приложения, стиль можно будет использовать только в этом файле [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a398c-157">If you create a navigation application and declare the style in one of the application's [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, the style can be used only in that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="a398c-158">Подробнее о правилах видимости ресурсов см. в разделе [Ресурсы XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-158">For more information about scoping rules for resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
 <span data-ttu-id="a398c-159">Кроме того, дополнительные сведения о стилях и ресурсах можно найти в разделе [Совместно используемые ресурсы и темы](#styling_themes) данного обзора.</span><span class="sxs-lookup"><span data-stu-id="a398c-159">In addition, you can find more information about styles and resources in [Shared Resources and Themes](#styling_themes) later in this overview.</span></span>  
  
### <a name="setting-styles-programmatically"></a><span data-ttu-id="a398c-160">Программная установка стилей</span><span class="sxs-lookup"><span data-stu-id="a398c-160">Setting Styles Programmatically</span></span>  
 <span data-ttu-id="a398c-161">Для присвоения именованного стиля к элементу программными средствами получите стиль из коллекции ресурсов и назначьте его на элемент <xref:System.Windows.FrameworkElement.Style%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="a398c-161">To assign a named style to an element programmatically, get the style from the resources collection and assign it to the element's <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="a398c-162">Обратите внимание, что элементы в коллекции ресурсов имеют тип <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="a398c-162">Note that the items in a resources collection are of type <xref:System.Object>.</span></span> <span data-ttu-id="a398c-163">Таким образом, необходимо привести извлеченный стиль к <xref:System.Windows.Style> перед назначением их <xref:System.Windows.FrameworkElement.Style%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="a398c-163">Therefore, you must cast the retrieved style to a <xref:System.Windows.Style> before assigning it to the <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="a398c-164">Например, чтобы задать определенный `TitleText` стиля на <xref:System.Windows.Controls.TextBlock> с именем `textblock1`, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="a398c-164">For example, to set the defined `TitleText` style on a <xref:System.Windows.Controls.TextBlock> named `textblock1`, do the following:</span></span>  
  
 [!code-csharp[StylingIntroSample_snippet#Code](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml.cs#code)]
 [!code-vb[StylingIntroSample_snippet#Code](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StylingIntroSample_snippet/visualbasic/window1.xaml.vb#code)]  
  
 <span data-ttu-id="a398c-165">Обратите внимание, что после применения стиля он фиксируется и не может быть изменен.</span><span class="sxs-lookup"><span data-stu-id="a398c-165">Note that once a style has been applied, it is sealed and cannot be changed.</span></span> <span data-ttu-id="a398c-166">Если необходимо динамически изменить стиль, который уже был применен, нужно создать новый стиль для замены существующего.</span><span class="sxs-lookup"><span data-stu-id="a398c-166">If you want to dynamically change a style that has already been applied, you must create a new style to replace the existing one.</span></span> <span data-ttu-id="a398c-167">Дополнительные сведения см. в описании свойства <xref:System.Windows.Style.IsSealed%2A>.</span><span class="sxs-lookup"><span data-stu-id="a398c-167">For more information, see the <xref:System.Windows.Style.IsSealed%2A> property.</span></span>  
  
 <span data-ttu-id="a398c-168">Можно создать объект, который выбирает стиль, который нужно применить, основываясь на собственной логике.</span><span class="sxs-lookup"><span data-stu-id="a398c-168">You can create an object that chooses a style to apply based on custom logic.</span></span> <span data-ttu-id="a398c-169">Пример см. в разделе примера для <xref:System.Windows.Controls.StyleSelector> класса.</span><span class="sxs-lookup"><span data-stu-id="a398c-169">For an example, see the example provided for the <xref:System.Windows.Controls.StyleSelector> class.</span></span>  
  
<a name="styling_binding_dynamicresource"></a>   
### <a name="bindings-dynamic-resources-and-event-handlers"></a><span data-ttu-id="a398c-170">Привязки, динамические ресурсы и обработчики событий</span><span class="sxs-lookup"><span data-stu-id="a398c-170">Bindings, Dynamic Resources, and Event Handlers</span></span>  
 <span data-ttu-id="a398c-171">Обратите внимание, что свойство `Setter.Value` можно использовать для задания [привязки расширения разметки](../../../../docs/framework/wpf/advanced/binding-markup-extension.md) или [расширения разметки DynamicResource](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-171">Note that you can use the `Setter.Value` property to specify a [Binding Markup Extension](../../../../docs/framework/wpf/advanced/binding-markup-extension.md) or a [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="a398c-172">Дополнительные сведения см. в разделе примеры, приведенные для <xref:System.Windows.Setter.Value%2A?displayProperty=nameWithType> свойства.</span><span class="sxs-lookup"><span data-stu-id="a398c-172">For more information, see the examples provided for the <xref:System.Windows.Setter.Value%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="a398c-173">На данный момент этот обзор касается только использования методов задания для установки значений свойств.</span><span class="sxs-lookup"><span data-stu-id="a398c-173">So far, this overview only discusses the use of setters to set property value.</span></span> <span data-ttu-id="a398c-174">В стиле также можно задать обработчики событий.</span><span class="sxs-lookup"><span data-stu-id="a398c-174">You can also specify event handlers in a style.</span></span> <span data-ttu-id="a398c-175">Дополнительные сведения см. в разделе <xref:System.Windows.EventSetter>.</span><span class="sxs-lookup"><span data-stu-id="a398c-175">For more information, see <xref:System.Windows.EventSetter>.</span></span>  
  
<a name="styling_datatemplates"></a>   
## <a name="data-templates"></a><span data-ttu-id="a398c-176">Шаблоны данных</span><span class="sxs-lookup"><span data-stu-id="a398c-176">Data Templates</span></span>  
 <span data-ttu-id="a398c-177">В этом образце приложения нет <xref:System.Windows.Controls.ListBox> элемент управления, который связан со списком фотографий:</span><span class="sxs-lookup"><span data-stu-id="a398c-177">In this sample application, there is a <xref:System.Windows.Controls.ListBox> control that is bound to a list of photos:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#UIListBox](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#uilistbox)]  
  
 <span data-ttu-id="a398c-178">Это <xref:System.Windows.Controls.ListBox> в данный момент выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="a398c-178">This <xref:System.Windows.Controls.ListBox> currently looks like the following:</span></span>  
  
 <span data-ttu-id="a398c-179">![ListBox до применения шаблона](../../../../docs/framework/wpf/controls/media/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span><span class="sxs-lookup"><span data-stu-id="a398c-179">![ListBox before applying template](../../../../docs/framework/wpf/controls/media/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span></span>  
  
 <span data-ttu-id="a398c-180">Большинство элементов управления имеют некое содержимое, и это содержимое часто поступает из данных, к которым осуществляется привязка.</span><span class="sxs-lookup"><span data-stu-id="a398c-180">Most controls have some type of content, and that content often comes from data that you are binding to.</span></span> <span data-ttu-id="a398c-181">В этом примере такими данными является список фотографий.</span><span class="sxs-lookup"><span data-stu-id="a398c-181">In this sample, the data is the list of photos.</span></span> <span data-ttu-id="a398c-182">В [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], используется <xref:System.Windows.DataTemplate> для определения визуального представления данных.</span><span class="sxs-lookup"><span data-stu-id="a398c-182">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you use a <xref:System.Windows.DataTemplate> to define the visual representation of data.</span></span> <span data-ttu-id="a398c-183">По сути, что будет помещено в <xref:System.Windows.DataTemplate> определяет вид данных в отображаемом приложении.</span><span class="sxs-lookup"><span data-stu-id="a398c-183">Basically, what you put into a <xref:System.Windows.DataTemplate> determines what the data looks like in the rendered application.</span></span>  
  
 <span data-ttu-id="a398c-184">В нашем примере приложения каждый пользовательский объект `Photo` имеет свойство `Source` строкового типа, которое задает путь к файлу изображения.</span><span class="sxs-lookup"><span data-stu-id="a398c-184">In our sample application, each custom `Photo` object has a `Source` property of type string that specifies the file path of the image.</span></span> <span data-ttu-id="a398c-185">Сейчас объекты фотографий отображаются как пути к файлам.</span><span class="sxs-lookup"><span data-stu-id="a398c-185">Currently, the photo objects appear as file paths.</span></span>  
  
 <span data-ttu-id="a398c-186">Для фотографий, отображаются в виде изображений, можно создавать <xref:System.Windows.DataTemplate> как ресурс:</span><span class="sxs-lookup"><span data-stu-id="a398c-186">For the photos to appear as images, you create a <xref:System.Windows.DataTemplate> as a resource:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#DataTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#datatemplate)]  
[!code-xaml[StylingIntroSnippet#Resources2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="a398c-187">Обратите внимание, что <xref:System.Windows.DataTemplate.DataType%2A> свойство очень похож на <xref:System.Windows.Style.TargetType%2A> свойство <xref:System.Windows.Style>.</span><span class="sxs-lookup"><span data-stu-id="a398c-187">Notice that the <xref:System.Windows.DataTemplate.DataType%2A> property is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style>.</span></span> <span data-ttu-id="a398c-188">Если ваш <xref:System.Windows.DataTemplate> находится в разделе ресурсов, при указании <xref:System.Windows.DataTemplate.DataType%2A> свойство с типом и не назначить `x:Key`, <xref:System.Windows.DataTemplate> применяется при каждом появлении этого типа.</span><span class="sxs-lookup"><span data-stu-id="a398c-188">If your <xref:System.Windows.DataTemplate> is in the resources section, when you specify the <xref:System.Windows.DataTemplate.DataType%2A> property to a type and not assign it an `x:Key`, the <xref:System.Windows.DataTemplate> is applied whenever that type appears.</span></span> <span data-ttu-id="a398c-189">Вы всегда можете присвоить <xref:System.Windows.DataTemplate> с `x:Key` и задайте его как `StaticResource` для свойств, которые принимают <xref:System.Windows.DataTemplate> типы, такие как <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> свойство или <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="a398c-189">You always have the option to assign the <xref:System.Windows.DataTemplate> with an `x:Key` and then set it as a `StaticResource` for properties that take <xref:System.Windows.DataTemplate> types, such as the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property or the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>  
  
 <span data-ttu-id="a398c-190">По существу <xref:System.Windows.DataTemplate> в приведенном выше примере, определяет, при каждом запуске `Photo` объекта, он должен быть <xref:System.Windows.Controls.Image> в <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="a398c-190">Essentially, the <xref:System.Windows.DataTemplate> in the above example defines that whenever there is a `Photo` object, it should appear as an <xref:System.Windows.Controls.Image> within a <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="a398c-191">С этим <xref:System.Windows.DataTemplate>, теперь приложение выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="a398c-191">With this <xref:System.Windows.DataTemplate>, our application now looks like this:</span></span>  
  
 <span data-ttu-id="a398c-192">![Фотоизображение](../../../../docs/framework/wpf/controls/media/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span><span class="sxs-lookup"><span data-stu-id="a398c-192">![Photo image](../../../../docs/framework/wpf/controls/media/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span></span>  
  
 <span data-ttu-id="a398c-193">Модель использования шаблонов данных предоставляет и другие возможности.</span><span class="sxs-lookup"><span data-stu-id="a398c-193">The data templating model provides other features.</span></span> <span data-ttu-id="a398c-194">Например, при отображении данных коллекции, которая содержит другие коллекции с помощью <xref:System.Windows.Controls.HeaderedItemsControl> типов, такие как <xref:System.Windows.Controls.Menu> или <xref:System.Windows.Controls.TreeView>, имеется <xref:System.Windows.HierarchicalDataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="a398c-194">For example, if you are displaying collection data that contains other collections using a <xref:System.Windows.Controls.HeaderedItemsControl> type such as a <xref:System.Windows.Controls.Menu> or a <xref:System.Windows.Controls.TreeView>, there is the <xref:System.Windows.HierarchicalDataTemplate>.</span></span> <span data-ttu-id="a398c-195">Другой возможностью шаблонов данных является <xref:System.Windows.Controls.DataTemplateSelector>, который позволяет выбрать <xref:System.Windows.DataTemplate> для использования на основе пользовательской логики.</span><span class="sxs-lookup"><span data-stu-id="a398c-195">Another data templating feature is the <xref:System.Windows.Controls.DataTemplateSelector>, which allows you to choose a <xref:System.Windows.DataTemplate> to use based on custom logic.</span></span> <span data-ttu-id="a398c-196">Дополнительные сведения см. в разделе [Общие сведения о шаблонах данных](../../../../docs/framework/wpf/data/data-templating-overview.md), в котором более подробно рассматриваются различные возможности использования шаблонов данных.</span><span class="sxs-lookup"><span data-stu-id="a398c-196">For more information, see [Data Templating Overview](../../../../docs/framework/wpf/data/data-templating-overview.md), which provides a more in-depth discussion of the different data templating features.</span></span>  
  
<a name="styling_controltemplates"></a>   
## <a name="control-templates"></a><span data-ttu-id="a398c-197">Шаблоны элементов управления</span><span class="sxs-lookup"><span data-stu-id="a398c-197">Control Templates</span></span>  
 <span data-ttu-id="a398c-198">В [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], <xref:System.Windows.Controls.ControlTemplate> элемента управления определяет внешний вид элемента управления.</span><span class="sxs-lookup"><span data-stu-id="a398c-198">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Controls.ControlTemplate> of a control defines the appearance of the control.</span></span> <span data-ttu-id="a398c-199">Можно изменить структуру и внешний вид элемента управления, определив новый <xref:System.Windows.Controls.ControlTemplate> для элемента управления.</span><span class="sxs-lookup"><span data-stu-id="a398c-199">You can change the structure and appearance of a control by defining a new <xref:System.Windows.Controls.ControlTemplate> for the control.</span></span> <span data-ttu-id="a398c-200">Во многих случаях это является достаточно гибким средством, и вам не придется писать собственные пользовательские элементы управления.</span><span class="sxs-lookup"><span data-stu-id="a398c-200">In many cases, this gives you enough flexibility so that you do not have to write your own custom controls.</span></span> <span data-ttu-id="a398c-201">Подробнее см. в разделе [Настройка внешнего вида существующего элемента управления путем создания объекта ControlTemplate](../../../../docs/framework/wpf/controls/customizing-the-appearance-of-an-existing-control.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-201">For more information, see [Customizing the Appearance of an Existing Control by Creating a ControlTemplate](../../../../docs/framework/wpf/controls/customizing-the-appearance-of-an-existing-control.md).</span></span>  
  
<a name="styling_triggers"></a>   
## <a name="triggers"></a><span data-ttu-id="a398c-202">Триггеры</span><span class="sxs-lookup"><span data-stu-id="a398c-202">Triggers</span></span>  
 <span data-ttu-id="a398c-203">Триггер задает значения свойств или активирует различные действия (например, анимацию) при изменении значения свойства или при возникновении какого-либо события.</span><span class="sxs-lookup"><span data-stu-id="a398c-203">A trigger sets properties or starts actions, such as an animation, when a property value changes or when an event is raised.</span></span> <span data-ttu-id="a398c-204"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, и <xref:System.Windows.DataTemplate> имеют `Triggers` свойство, которое может содержать набор триггеров.</span><span class="sxs-lookup"><span data-stu-id="a398c-204"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, and <xref:System.Windows.DataTemplate> all have a `Triggers` property that can contain a set of triggers.</span></span> <span data-ttu-id="a398c-205">Существуют различные типы триггеров.</span><span class="sxs-lookup"><span data-stu-id="a398c-205">There are various types of triggers.</span></span>  
  
### <a name="property-triggers"></a><span data-ttu-id="a398c-206">Триггеры свойств</span><span class="sxs-lookup"><span data-stu-id="a398c-206">Property Triggers</span></span>  
 <span data-ttu-id="a398c-207">Объект <xref:System.Windows.Trigger> , задает значения свойств или запускает действия на основе значения свойства, называется триггером свойства.</span><span class="sxs-lookup"><span data-stu-id="a398c-207">A <xref:System.Windows.Trigger> that sets property values or starts actions based on the value of a property is called a property trigger.</span></span>  
  
 <span data-ttu-id="a398c-208">Чтобы продемонстрировать использование триггеров свойств, можно сделать каждый <xref:System.Windows.Controls.ListBoxItem> частично прозрачным, если он установлен.</span><span class="sxs-lookup"><span data-stu-id="a398c-208">To demonstrate how to use property triggers, you can make each <xref:System.Windows.Controls.ListBoxItem> partially transparent unless it is selected.</span></span> <span data-ttu-id="a398c-209">Следующий стиль устанавливает <xref:System.Windows.UIElement.Opacity%2A> значение <xref:System.Windows.Controls.ListBoxItem> для `0.5`.</span><span class="sxs-lookup"><span data-stu-id="a398c-209">The following style sets the <xref:System.Windows.UIElement.Opacity%2A> value of a <xref:System.Windows.Controls.ListBoxItem> to `0.5`.</span></span> <span data-ttu-id="a398c-210">Когда <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> свойство `true`, но при этом <xref:System.Windows.UIElement.Opacity%2A> равно `1.0`:</span><span class="sxs-lookup"><span data-stu-id="a398c-210">When the <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> property is `true`, however, the <xref:System.Windows.UIElement.Opacity%2A> is set to `1.0`:</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#Triggers](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#triggers)]  
[!code-xaml[StylingIntroSample_snippet#EndTriggers](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#endtriggers)]  
  
 <span data-ttu-id="a398c-211">В этом примере используется <xref:System.Windows.Trigger> для задания значения свойства, но Обратите внимание, что <xref:System.Windows.Trigger> класс также содержит <xref:System.Windows.TriggerBase.EnterActions%2A> и <xref:System.Windows.TriggerBase.ExitActions%2A> свойства, позволяющие выполнять действия триггера.</span><span class="sxs-lookup"><span data-stu-id="a398c-211">This example uses a <xref:System.Windows.Trigger> to set a property value, but note that the <xref:System.Windows.Trigger> class also has the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that enable a trigger to perform actions.</span></span>  
  
 <span data-ttu-id="a398c-212">Обратите внимание, что <xref:System.Windows.FrameworkElement.MaxHeight%2A> свойство <xref:System.Windows.Controls.ListBoxItem> равно `75`.</span><span class="sxs-lookup"><span data-stu-id="a398c-212">Notice that the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property of the <xref:System.Windows.Controls.ListBoxItem> is set to `75`.</span></span> <span data-ttu-id="a398c-213">На следующем рисунке третий элемент является выбранным:</span><span class="sxs-lookup"><span data-stu-id="a398c-213">In the following illustration, the third item is the selected item:</span></span>  
  
 <span data-ttu-id="a398c-214">![Стилизированный ListView](../../../../docs/framework/wpf/controls/media/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="a398c-214">![Styled ListView](../../../../docs/framework/wpf/controls/media/stylingintro-triggers.png "StylingIntro_triggers")</span></span>  
  
### <a name="eventtriggers-and-storyboards"></a><span data-ttu-id="a398c-215">Объекты EventTrigger и раскадровки</span><span class="sxs-lookup"><span data-stu-id="a398c-215">EventTriggers and Storyboards</span></span>  
 <span data-ttu-id="a398c-216">Другой тип триггера — <xref:System.Windows.EventTrigger>, которая запускает набор действий на основе вхождения события.</span><span class="sxs-lookup"><span data-stu-id="a398c-216">Another type of trigger is the <xref:System.Windows.EventTrigger>, which starts a set of actions based on the occurrence of an event.</span></span> <span data-ttu-id="a398c-217">Например, следующая <xref:System.Windows.EventTrigger> объектов указать, что при наведении указателя мыши <xref:System.Windows.Controls.ListBoxItem>, <xref:System.Windows.FrameworkElement.MaxHeight%2A> анимирует свойство в значение `90` над `0.2` второй период.</span><span class="sxs-lookup"><span data-stu-id="a398c-217">For example, the following <xref:System.Windows.EventTrigger> objects specify that when the mouse pointer enters the <xref:System.Windows.Controls.ListBoxItem>, the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property animates to a value of `90` over a `0.2` second period.</span></span> <span data-ttu-id="a398c-218">Когда указатель мыши перемещается за пределы этого элемента, свойство возвращается к исходному значению в течение `1` сек.</span><span class="sxs-lookup"><span data-stu-id="a398c-218">When the mouse moves away from the item, the property returns to the original value over a period of `1` second.</span></span> <span data-ttu-id="a398c-219">Обратите внимание, каким образом не требуется указывать <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> значение для <xref:System.Windows.ContentElement.MouseLeave> анимации.</span><span class="sxs-lookup"><span data-stu-id="a398c-219">Note how it is not necessary to specify a <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> value for the <xref:System.Windows.ContentElement.MouseLeave> animation.</span></span> <span data-ttu-id="a398c-220">Анимация сама может отслеживать исходное значение.</span><span class="sxs-lookup"><span data-stu-id="a398c-220">This is because the animation is able to keep track of the original value.</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#EventTriggers](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#eventtriggers)]  
  
 <span data-ttu-id="a398c-221">Подробнее см. в разделе [Общие сведения о раскадровках](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-221">For more information, see the [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="a398c-222">На следующем рисунке указатель мыши указывает на третий элемент:</span><span class="sxs-lookup"><span data-stu-id="a398c-222">In the following illustration, the mouse is pointing to the third item:</span></span>  
  
 <span data-ttu-id="a398c-223">![Пример стилизации (снимок экрана)](../../../../docs/framework/wpf/controls/media/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span><span class="sxs-lookup"><span data-stu-id="a398c-223">![Styling sample screen shot](../../../../docs/framework/wpf/controls/media/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span></span>  
  
### <a name="multitriggers-datatriggers-and-multidatatriggers"></a><span data-ttu-id="a398c-224">Объекты MultiTrigger, DataTrigger и MultiDataTrigger</span><span class="sxs-lookup"><span data-stu-id="a398c-224">MultiTriggers, DataTriggers, and MultiDataTriggers</span></span>  
 <span data-ttu-id="a398c-225">В дополнение к <xref:System.Windows.Trigger> и <xref:System.Windows.EventTrigger>, существуют другие типы триггеров.</span><span class="sxs-lookup"><span data-stu-id="a398c-225">In addition to <xref:System.Windows.Trigger> and <xref:System.Windows.EventTrigger>, there are other types of triggers.</span></span> <span data-ttu-id="a398c-226"><xref:System.Windows.MultiTrigger> позволяет задавать значения свойств на основе нескольких условий.</span><span class="sxs-lookup"><span data-stu-id="a398c-226"><xref:System.Windows.MultiTrigger> allows you to set property values based on multiple conditions.</span></span> <span data-ttu-id="a398c-227">Вы используете <xref:System.Windows.DataTrigger> и <xref:System.Windows.MultiDataTrigger> при свойство условия с привязкой к данным.</span><span class="sxs-lookup"><span data-stu-id="a398c-227">You use <xref:System.Windows.DataTrigger> and <xref:System.Windows.MultiDataTrigger> when the property of your condition is data-bound.</span></span>  
  
<a name="styling_themes"></a>   
## <a name="shared-resources-and-themes"></a><span data-ttu-id="a398c-228">Общие ресурсы и темы</span><span class="sxs-lookup"><span data-stu-id="a398c-228">Shared Resources and Themes</span></span>  
 <span data-ttu-id="a398c-229">Типичное приложение Windows Presentation Foundation (WPF) может иметь несколько ресурсов пользовательского интерфейса (UI), которые применяются во всем приложении.</span><span class="sxs-lookup"><span data-stu-id="a398c-229">A typical Windows Presentation Foundation (WPF) application might have multiple user interface (UI) resources that are applied throughout the application.</span></span> <span data-ttu-id="a398c-230">В совокупности этот набор ресурсов можно рассматривать как тему приложения.</span><span class="sxs-lookup"><span data-stu-id="a398c-230">Collectively, this set of resources can be considered the theme for the application.</span></span> <span data-ttu-id="a398c-231">Windows Presentation Foundation (WPF) предоставляет поддержку для упаковки ресурсов пользовательского интерфейса как тему с помощью словаря ресурсов, который инкапсулируется в качестве <xref:System.Windows.ResourceDictionary> класса.</span><span class="sxs-lookup"><span data-stu-id="a398c-231">Windows Presentation Foundation (WPF) provides support for packaging user interface (UI) resources as a theme by using a resource dictionary that is encapsulated as the <xref:System.Windows.ResourceDictionary> class.</span></span>  
  
 <span data-ttu-id="a398c-232">Темы Windows Presentation Foundation (WPF) определяются с помощью механизмов стилизации и шаблонов, предоставляющую Windows Presentation Foundation (WPF) для настройки отображения любого элемента.</span><span class="sxs-lookup"><span data-stu-id="a398c-232">Windows Presentation Foundation (WPF) themes are defined by using the styling and templating mechanism that Windows Presentation Foundation (WPF) exposes for customizing the visuals of any element.</span></span>  
  
 <span data-ttu-id="a398c-233">Ресурсы темы Windows Presentation Foundation (WPF), хранятся в словарях внедренных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a398c-233">Windows Presentation Foundation (WPF) theme resources are stored in embedded resource dictionaries.</span></span> <span data-ttu-id="a398c-234">Эти словари ресурсов должны быть внедрены в подписанную сборку и могут быть внедрены либо в ту же сборку, что и сам код, либо в параллельную сборку.</span><span class="sxs-lookup"><span data-stu-id="a398c-234">These resource dictionaries must be embedded within a signed assembly, and can either be embedded in the same assembly as the code itself or in a side-by-side assembly.</span></span> <span data-ttu-id="a398c-235">В случае PresentationFramework.dll сборку, которая содержит элементы управления Windows Presentation Foundation (WPF), ресурсы тем находятся в ряд side-by-side сборки.</span><span class="sxs-lookup"><span data-stu-id="a398c-235">In the case of PresentationFramework.dll, the assembly which contains Windows Presentation Foundation (WPF) controls, theme resources are in a series of side-by-side assemblies.</span></span>  
  
 <span data-ttu-id="a398c-236">Тема становится последним местом поиска стиля элемента.</span><span class="sxs-lookup"><span data-stu-id="a398c-236">The theme becomes the last place to look when searching for the style of an element.</span></span> <span data-ttu-id="a398c-237">Как правило, процесс поиска начинается с прохода вверх по дереву элементов в поисках соответствующего ресурса, затем выполняется поиск в коллекции ресурсов приложения и, наконец, в последнюю очередь осуществляется запрос к системе.</span><span class="sxs-lookup"><span data-stu-id="a398c-237">Typically, the search will begin by walking up the element tree searching for an appropriate resource, then look in the application resource collection and finally query the system.</span></span> <span data-ttu-id="a398c-238">Это дает разработчикам приложений возможность переопределить стиль для любого объекта на уровне дерева или приложения до достижения темы.</span><span class="sxs-lookup"><span data-stu-id="a398c-238">This gives application developers a chance to redefine the style for any object at the tree or application level before reaching the theme.</span></span>  
  
 <span data-ttu-id="a398c-239">Словари ресурсов, оформленные в виде отдельных файлов, позволяют повторно использовать тему в нескольких приложениях.</span><span class="sxs-lookup"><span data-stu-id="a398c-239">You can define resource dictionaries as individual files that enable you to reuse a theme across multiple applications.</span></span> <span data-ttu-id="a398c-240">Также можно создать изменяемые темы, определив несколько словарей ресурсов, которые обеспечивают одни и те же типы ресурсов, но с разными значениями.</span><span class="sxs-lookup"><span data-stu-id="a398c-240">You can also create swappable themes by defining multiple resource dictionaries that provide the same types of resources but with different values.</span></span> <span data-ttu-id="a398c-241">Переопределение этих стилей или других ресурсов на уровне приложения является рекомендуемым способом смены тем приложения.</span><span class="sxs-lookup"><span data-stu-id="a398c-241">Redefining these styles or other resources at the application level is the recommended approach for skinning an application.</span></span>  
  
 <span data-ttu-id="a398c-242">Чтобы совместно используют набор ресурсов, включая стили и шаблоны в приложениях, можно создать [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] и укажите <xref:System.Windows.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="a398c-242">To share a set of resources, including styles and templates, across applications, you can create a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file and define a <xref:System.Windows.ResourceDictionary>.</span></span> <span data-ttu-id="a398c-243">Например, посмотрите на следующую иллюстрацию — часть [примера "Стилизация с помощью ControlTemplate"](http://go.microsoft.com/fwlink/?LinkID=160041):</span><span class="sxs-lookup"><span data-stu-id="a398c-243">For example, take a look at the following illustration that shows part of the [Styling with ControlTemplates Sample](http://go.microsoft.com/fwlink/?LinkID=160041):</span></span>  
  
 <span data-ttu-id="a398c-244">![Примеры шаблонов элементов управления](../../../../docs/framework/wpf/controls/media/stylingintro-controltemplateexamples.png "StylingIntro_ControlTemplateExamples")</span><span class="sxs-lookup"><span data-stu-id="a398c-244">![Control Template Examples](../../../../docs/framework/wpf/controls/media/stylingintro-controltemplateexamples.png "StylingIntro_ControlTemplateExamples")</span></span>  
  
 <span data-ttu-id="a398c-245">Если взглянуть на файлы [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] в примере, можно заметить, что все файлы имеют следующий код:</span><span class="sxs-lookup"><span data-stu-id="a398c-245">If you look at the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the sample, you will notice that the files all have the following:</span></span>  
  
 [!code-xaml[ControlTemplateExamples#MergedDictionaries](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ControlTemplateExamples/CS/resources/button.xaml#mergeddictionaries)]  
  
 <span data-ttu-id="a398c-246">Он представляет собой `shared.xaml`, который определяет <xref:System.Windows.ResourceDictionary> , содержащий набор стилей и ресурсов кисти, который включает элементы управления в образце иметь согласованный внешний вид.</span><span class="sxs-lookup"><span data-stu-id="a398c-246">It is the sharing of `shared.xaml`, which defines a <xref:System.Windows.ResourceDictionary> that contains a set of style and brush resources that enables the controls in the sample to have a consistent look.</span></span>  
  
 <span data-ttu-id="a398c-247">Подробнее см. в разделе [Объединенные словари ресурсов](../../../../docs/framework/wpf/advanced/merged-resource-dictionaries.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-247">For more information, see [Merged Resource Dictionaries](../../../../docs/framework/wpf/advanced/merged-resource-dictionaries.md).</span></span>  
  
 <span data-ttu-id="a398c-248">Если вы создаете тему для пользовательского элемента управления, ознакомьтесь с разделом "Внешняя библиотека элементов управления" в материале [Общие сведения о разработке элементов управления](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a398c-248">If you are creating a theme for you custom control, see the External Control Library section of the [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a398c-249">См. также</span><span class="sxs-lookup"><span data-stu-id="a398c-249">See Also</span></span>  
 [<span data-ttu-id="a398c-250">URI типа "pack" в WPF</span><span class="sxs-lookup"><span data-stu-id="a398c-250">Pack URIs in WPF</span></span>](../../../../docs/framework/wpf/app-development/pack-uris-in-wpf.md)  
 [<span data-ttu-id="a398c-251">Поиск элемента, созданного шаблоном ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="a398c-251">How to: Find ControlTemplate-Generated Elements</span></span>](../../../../docs/framework/wpf/controls/how-to-find-controltemplate-generated-elements.md)  
 [<span data-ttu-id="a398c-252">Поиск элементов, созданных с использованием шаблона DataTemplate</span><span class="sxs-lookup"><span data-stu-id="a398c-252">Find DataTemplate-Generated Elements</span></span>](../../../../docs/framework/wpf/data/how-to-find-datatemplate-generated-elements.md)
