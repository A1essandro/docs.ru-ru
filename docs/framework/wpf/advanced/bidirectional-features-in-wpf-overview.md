---
title: "Общие сведения о двусторонних возможностях в WPF"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Span elements [WPF]
- bidirectional features [WPF]
ms.assetid: fd850e25-7dba-408c-b521-8873e51dc968
caps.latest.revision: "22"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b50d98d5f02a59a013d7577f0e312e6ffde35690
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="bidirectional-features-in-wpf-overview"></a><span data-ttu-id="aa124-102">Общие сведения о двусторонних возможностях в WPF</span><span class="sxs-lookup"><span data-stu-id="aa124-102">Bidirectional Features in WPF Overview</span></span>
<span data-ttu-id="aa124-103">В отличие от любых других платформ разработки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] имеет множество функций, поддерживающих быструю разработку двунаправленного содержимого, например, смешанных слева направо и справа оставить данные в одном документе.</span><span class="sxs-lookup"><span data-stu-id="aa124-103">Unlike any other development platform, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has many features that support rapid development of bidirectional content, for example, mixed left to right and right to left data in the same document.</span></span> <span data-ttu-id="aa124-104">В то же время [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] отличный опыт, для пользователей, которым необходимы двунаправленные возможности, например арабский или иврит произношения пользователей.</span><span class="sxs-lookup"><span data-stu-id="aa124-104">At the same time, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] creates an excellent experience for users who require bidirectional features such as Arabic and Hebrew speaking users.</span></span>  
  
 <span data-ttu-id="aa124-105">В следующих разделах описаны различные возможности двунаправленного письма с примерами, иллюстрирующими способы достижения наилучшего отображения двунаправленного содержимого на экране.</span><span class="sxs-lookup"><span data-stu-id="aa124-105">The following sections explain many bidirectional features together with examples illustrating how to achieve the best display of bidirectional content.</span></span> <span data-ttu-id="aa124-106">В большинстве примеров используется [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)], хотя можно легко применить концепции [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] или [!INCLUDE[TLA#tla_visualb](../../../../includes/tlasharptla-visualb-md.md)] кода.</span><span class="sxs-lookup"><span data-stu-id="aa124-106">Most of the samples use [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)], though you can easily apply the concepts to [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] or [!INCLUDE[TLA#tla_visualb](../../../../includes/tlasharptla-visualb-md.md)] code.</span></span>  
  

  
<a name="FlowDirection"></a>   
## <a name="flowdirection"></a><span data-ttu-id="aa124-107">FlowDirection</span><span class="sxs-lookup"><span data-stu-id="aa124-107">FlowDirection</span></span>  
 <span data-ttu-id="aa124-108">Основные свойство, которое определяет направление потока содержимого в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложение <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span><span class="sxs-lookup"><span data-stu-id="aa124-108">The basic property that defines the content flow direction in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application is <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span> <span data-ttu-id="aa124-109">Это свойство может быть присвоено одно из двух значений перечисления, <xref:System.Windows.FlowDirection.LeftToRight> или <xref:System.Windows.FlowDirection.RightToLeft>.</span><span class="sxs-lookup"><span data-stu-id="aa124-109">This property can be set to one of two enumeration values, <xref:System.Windows.FlowDirection.LeftToRight> or <xref:System.Windows.FlowDirection.RightToLeft>.</span></span> <span data-ttu-id="aa124-110">Это свойство доступно для всех [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] элементы, которые наследуют от <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="aa124-110">The property is available to all [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that inherit from <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="aa124-111">В следующем примере задается направление потока <xref:System.Windows.Controls.TextBox> элемента.</span><span class="sxs-lookup"><span data-stu-id="aa124-111">The following examples set the flow direction of a <xref:System.Windows.Controls.TextBox> element.</span></span>  
  
 <span data-ttu-id="aa124-112">**Направление потока слева направо**</span><span class="sxs-lookup"><span data-stu-id="aa124-112">**Left-to-right flow direction**</span></span>  
  
 [!code-xaml[LTRRTL#LTR](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#ltr)]  
  
 <span data-ttu-id="aa124-113">**Направление потока справа налево**</span><span class="sxs-lookup"><span data-stu-id="aa124-113">**Right-to-left flow direction**</span></span>  
  
 [!code-xaml[LTRRTL#RTL](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#rtl)]  
  
 <span data-ttu-id="aa124-114">На следующем рисунке показано, как работает указанный код.</span><span class="sxs-lookup"><span data-stu-id="aa124-114">The following graphic shows how the previous code renders.</span></span>  
  
 <span data-ttu-id="aa124-115">**Рисунок, иллюстрирующий направление потока**</span><span class="sxs-lookup"><span data-stu-id="aa124-115">**Graphic That Illustrates FlowDirection**</span></span>  
  
 <span data-ttu-id="aa124-116">![Выравнивание блока текста](../../../../docs/framework/wpf/advanced/media/lefttorightrighttoleft.PNG "Слева направо Справа налево")</span><span class="sxs-lookup"><span data-stu-id="aa124-116">![TextBlock alignment](../../../../docs/framework/wpf/advanced/media/lefttorightrighttoleft.PNG "LefttoRightRighttoLeft")</span></span>  
  
 <span data-ttu-id="aa124-117">Элемент в пределах [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] дерева будут наследовать <xref:System.Windows.FrameworkElement.FlowDirection%2A> из контейнера.</span><span class="sxs-lookup"><span data-stu-id="aa124-117">An element within a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] tree will inherit the <xref:System.Windows.FrameworkElement.FlowDirection%2A> from its container.</span></span> <span data-ttu-id="aa124-118">В следующем примере <xref:System.Windows.Controls.TextBlock> находится внутри <xref:System.Windows.Controls.Grid>, который находится в <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="aa124-118">In the following example, the <xref:System.Windows.Controls.TextBlock> is inside a <xref:System.Windows.Controls.Grid>, which resides in a <xref:System.Windows.Window>.</span></span> <span data-ttu-id="aa124-119">Установка <xref:System.Windows.FrameworkElement.FlowDirection%2A> для <xref:System.Windows.Window> подразумевает его для задание <xref:System.Windows.Controls.Grid> и <xref:System.Windows.Controls.TextBlock> также.</span><span class="sxs-lookup"><span data-stu-id="aa124-119">Setting the <xref:System.Windows.FrameworkElement.FlowDirection%2A> for the <xref:System.Windows.Window> implies setting it for the <xref:System.Windows.Controls.Grid> and <xref:System.Windows.Controls.TextBlock> as well.</span></span>  
  
 <span data-ttu-id="aa124-120">В следующем примере показано задание <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span><span class="sxs-lookup"><span data-stu-id="aa124-120">The following example demonstrates setting <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span>  
  
 [!code-xaml[FlowDirection#FlowDirection](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FlowDirection/CS/Window1.xaml#flowdirection)]  
  
 <span data-ttu-id="aa124-121">Верхний уровень <xref:System.Windows.Window> имеет <xref:System.Windows.FlowDirection.RightToLeft> <xref:System.Windows.FlowDirection>, поэтому все элементы, содержащиеся в нем, наследуют то же <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span><span class="sxs-lookup"><span data-stu-id="aa124-121">The top level <xref:System.Windows.Window> has a <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection>, so all elements contained within it also inherit the same <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span> <span data-ttu-id="aa124-122">Для элемента переопределить заданное <xref:System.Windows.FrameworkElement.FlowDirection%2A> его необходимо добавить явное изменение направления например второй <xref:System.Windows.Controls.TextBlock> в предыдущем примере, который изменяется на <xref:System.Windows.FlowDirection.LeftToRight>.</span><span class="sxs-lookup"><span data-stu-id="aa124-122">For an element to override a specified <xref:System.Windows.FrameworkElement.FlowDirection%2A> it must add an explicit direction change such as the second <xref:System.Windows.Controls.TextBlock> in the previous example which changes to <xref:System.Windows.FlowDirection.LeftToRight>.</span></span> <span data-ttu-id="aa124-123">Если аргумент <xref:System.Windows.FrameworkElement.FlowDirection%2A> определена, значение по умолчанию <xref:System.Windows.FlowDirection.LeftToRight> применяется.</span><span class="sxs-lookup"><span data-stu-id="aa124-123">When no <xref:System.Windows.FrameworkElement.FlowDirection%2A> is defined, the default <xref:System.Windows.FlowDirection.LeftToRight> applies.</span></span>  
  
 <span data-ttu-id="aa124-124">На следующем рисунке показан результат выполнения предыдущего примера.</span><span class="sxs-lookup"><span data-stu-id="aa124-124">The following graphic shows the output of the previous example.</span></span>  
  
 <span data-ttu-id="aa124-125">**Рисунок, иллюстрирующий явное определение направления потока**</span><span class="sxs-lookup"><span data-stu-id="aa124-125">**Graphic That Illustrates Explicitly Assigned FlowDirection**</span></span>  
  
 <span data-ttu-id="aa124-126">![Иллюстрация направления потока](../../../../docs/framework/wpf/advanced/media/flowdir.PNG "Направление потока")</span><span class="sxs-lookup"><span data-stu-id="aa124-126">![Flow direction illustration](../../../../docs/framework/wpf/advanced/media/flowdir.PNG "FlowDir")</span></span>  
  
<a name="FlowDocument"></a>   
## <a name="flowdocument"></a><span data-ttu-id="aa124-127">FlowDocument</span><span class="sxs-lookup"><span data-stu-id="aa124-127">FlowDocument</span></span>  
 <span data-ttu-id="aa124-128">Многие платформы разработки, такие как [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)], [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] и Java, обеспечивают специальную поддержку развития двунаправленного содержимого.</span><span class="sxs-lookup"><span data-stu-id="aa124-128">Many development platforms such as [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)], [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] and Java provide special support for bidirectional content development.</span></span> <span data-ttu-id="aa124-129">Языки разметки, таких как [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] предоставляют редакторы записи необходимой разметки для отображения текста в любом требуемом направлении, например [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] 4.0 тег, «dir», которая принимает в качестве значения «rtl» или «ltr».</span><span class="sxs-lookup"><span data-stu-id="aa124-129">Markup languages such as [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] give content writers the necessary markup to display text in any required direction, for example the [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] 4.0 tag, "dir" that takes "rtl" or "ltr" as values.</span></span> <span data-ttu-id="aa124-130">Этот тег аналогичен <xref:System.Windows.FrameworkElement.FlowDirection%2A> свойства, но <xref:System.Windows.FrameworkElement.FlowDirection%2A> свойство работает более сложные, к текстовому содержимому макета и может использоваться для содержимого, отличное от текста.</span><span class="sxs-lookup"><span data-stu-id="aa124-130">This tag is similar to the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property, but the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property works in a more advanced way to layout textual content and can be used for content other than text.</span></span>  
  
 <span data-ttu-id="aa124-131">В [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], <xref:System.Windows.Documents.FlowDocument> является универсальным [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] элемент, который может содержать сочетание текста, таблицы, изображения и другие элементы.</span><span class="sxs-lookup"><span data-stu-id="aa124-131">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a <xref:System.Windows.Documents.FlowDocument> is a versatile [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element that can host a combination of text, tables, images and other elements.</span></span> <span data-ttu-id="aa124-132">Этот элемент используется в примерах, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="aa124-132">The samples in the following sections use this element.</span></span>  
  
 <span data-ttu-id="aa124-133">Добавление текста к <xref:System.Windows.Documents.FlowDocument> можно сделать более таким образом один.</span><span class="sxs-lookup"><span data-stu-id="aa124-133">Adding text to a <xref:System.Windows.Documents.FlowDocument> can be done in more that one way.</span></span> <span data-ttu-id="aa124-134">Простой способ сделать это — через <xref:System.Windows.Documents.Paragraph> которого является элемент уровня блока, используемый для группировки содержимого, такие как текст.</span><span class="sxs-lookup"><span data-stu-id="aa124-134">A simple way to do so is through a <xref:System.Windows.Documents.Paragraph> which is a block-level element used to group content such as text.</span></span> <span data-ttu-id="aa124-135">Добавление текста в элементы встроенного уровня, примеры используют <xref:System.Windows.Documents.Span> и <xref:System.Windows.Documents.Run>.</span><span class="sxs-lookup"><span data-stu-id="aa124-135">To add text to inline-level elements the samples use <xref:System.Windows.Documents.Span> and <xref:System.Windows.Documents.Run>.</span></span> <span data-ttu-id="aa124-136"><xref:System.Windows.Documents.Span>Представляет элемент содержимого потока встроенного уровня, используемые для группировки других встроенных элементов, пока <xref:System.Windows.Documents.Run> — элемент предназначен для содержания цепочки неформатированного текста содержимого потока встроенного уровня.</span><span class="sxs-lookup"><span data-stu-id="aa124-136"><xref:System.Windows.Documents.Span> is an inline-level flow content element used for grouping other inline elements, while a <xref:System.Windows.Documents.Run> is an inline-level flow content element intended to contain a run of unformatted text.</span></span> <span data-ttu-id="aa124-137">Объект <xref:System.Windows.Documents.Span> может содержать несколько <xref:System.Windows.Documents.Run> элементов.</span><span class="sxs-lookup"><span data-stu-id="aa124-137">A <xref:System.Windows.Documents.Span> can contain multiple <xref:System.Windows.Documents.Run> elements.</span></span>  
  
 <span data-ttu-id="aa124-138">Первый пример документа содержит документ, который имеет несколько сетевых совместно используемых имен; например `\\server1\folder\file.ext`.</span><span class="sxs-lookup"><span data-stu-id="aa124-138">The first document example contains a document that has a number of network share names; for example `\\server1\folder\file.ext`.</span></span> <span data-ttu-id="aa124-139">Независимо от того на каком языке написан документ, в котором содержится эта сетевая ссылка, на арабском или английском, нам хотелось бы, чтобы он выглядел всегда одинаково.</span><span class="sxs-lookup"><span data-stu-id="aa124-139">Whether you have this network link in an Arabic or English document, you always want it to appear in the same way.</span></span> <span data-ttu-id="aa124-140">Приведенный ниже рисунок показывает ссылку в арабском <xref:System.Windows.FlowDirection.RightToLeft> документа.</span><span class="sxs-lookup"><span data-stu-id="aa124-140">The following graphic shows the link in an Arabic <xref:System.Windows.FlowDirection.RightToLeft> document.</span></span>  
  
 <span data-ttu-id="aa124-141">**Рисунок, иллюстрирующий использование элемента Span**</span><span class="sxs-lookup"><span data-stu-id="aa124-141">**Graphic That Illustrates Using the Span Element**</span></span>  
  
 <span data-ttu-id="aa124-142">![Документ с направлением потока справа налево](../../../../docs/framework/wpf/advanced/media/flowdocument.PNG "FlowDocument")</span><span class="sxs-lookup"><span data-stu-id="aa124-142">![Document that flows from right to left](../../../../docs/framework/wpf/advanced/media/flowdocument.PNG "FlowDocument")</span></span>  
  
 <span data-ttu-id="aa124-143">Поскольку текст <xref:System.Windows.FlowDirection.RightToLeft>, все специальные знаки, такие как «\\», разделяют текст справа налево.</span><span class="sxs-lookup"><span data-stu-id="aa124-143">Because the text is <xref:System.Windows.FlowDirection.RightToLeft>, all special characters, such as the "\\", separate the text in a right to left order.</span></span> <span data-ttu-id="aa124-144">Приводит ссылки не отображаются в правильном порядке, таким образом устранить неполадки, текст должен быть включен для сохранения отдельного <xref:System.Windows.Documents.Run> передачи <xref:System.Windows.FlowDirection.LeftToRight>.</span><span class="sxs-lookup"><span data-stu-id="aa124-144">That results in the link not being shown in the correct order, therefore to solve the problem, the text must be embedded to preserve a separate <xref:System.Windows.Documents.Run> flowing <xref:System.Windows.FlowDirection.LeftToRight>.</span></span> <span data-ttu-id="aa124-145">Вместо того, отдельные <xref:System.Windows.Documents.Run> для каждого языка, более эффективный способ устранить неполадки является внедрение менее часто используемый текст на английском языке в больших арабский <xref:System.Windows.Documents.Span>.</span><span class="sxs-lookup"><span data-stu-id="aa124-145">Instead of having a separate <xref:System.Windows.Documents.Run> for each language, a better way to solve the problem is to embed the less frequently used English text into a larger Arabic <xref:System.Windows.Documents.Span>.</span></span>  
  
 <span data-ttu-id="aa124-146">Следующий рисунок иллюстрирует это.</span><span class="sxs-lookup"><span data-stu-id="aa124-146">The following graphic illustrates this.</span></span>  
  
 <span data-ttu-id="aa124-147">**Пример использования элемента Run, внедренного в элемент Span**</span><span class="sxs-lookup"><span data-stu-id="aa124-147">**Graphic That Illustrates Using the Run Element Embedded in a Span Element**</span></span>  
  
 <span data-ttu-id="aa124-148">![Снимок экрана XamlPad](../../../../docs/framework/wpf/advanced/media/runspan.PNG "RunSpan")</span><span class="sxs-lookup"><span data-stu-id="aa124-148">![XamlPad screen shot](../../../../docs/framework/wpf/advanced/media/runspan.PNG "RunSpan")</span></span>  
  
 <span data-ttu-id="aa124-149">В следующем примере показано использование <xref:System.Windows.Documents.Run> и <xref:System.Windows.Documents.Span> элементов в документах.</span><span class="sxs-lookup"><span data-stu-id="aa124-149">The following example demonstrates using <xref:System.Windows.Documents.Run> and <xref:System.Windows.Documents.Span> elements in documents.</span></span>  
  
 [!code-xaml[RunSpan#RunSpan](../../../../samples/snippets/csharp/VS_Snippets_Wpf/RunSpan/CS/Window1.xaml#runspan)]  
  
<a name="SpanElements"></a>   
## <a name="span-elements"></a><span data-ttu-id="aa124-150">Элементы Span</span><span class="sxs-lookup"><span data-stu-id="aa124-150">Span Elements</span></span>  
 <span data-ttu-id="aa124-151"><xref:System.Windows.Documents.Span> Элемент работает как разделитель границ между тексты с различными направлениями потоков.</span><span class="sxs-lookup"><span data-stu-id="aa124-151">The <xref:System.Windows.Documents.Span> element works as a boundary separator between texts with different flow directions.</span></span>  <span data-ttu-id="aa124-152">Даже <xref:System.Windows.Documents.Span> элементы с тем же направлением потока, рассматриваются как имеющие различные двунаправленные области, т. е., <xref:System.Windows.Documents.Span> упорядочены элементы в контейнере <xref:System.Windows.FlowDirection>, только содержимое в <xref:System.Windows.Documents.Span> элемент соответствует <xref:System.Windows.FlowDirection> из <xref:System.Windows.Documents.Span>.</span><span class="sxs-lookup"><span data-stu-id="aa124-152">Even <xref:System.Windows.Documents.Span> elements with the same flow direction are considered to have different bidirectional scopes which means that the <xref:System.Windows.Documents.Span> elements are ordered in the container’s <xref:System.Windows.FlowDirection>, only the content within the <xref:System.Windows.Documents.Span> element follows the <xref:System.Windows.FlowDirection> of the <xref:System.Windows.Documents.Span>.</span></span>  
  
 <span data-ttu-id="aa124-153">Приведенный ниже рисунок показывает направление потока нескольких <xref:System.Windows.Controls.TextBlock> элементов.</span><span class="sxs-lookup"><span data-stu-id="aa124-153">The following graphic shows the flow direction of several <xref:System.Windows.Controls.TextBlock> elements.</span></span>  
  
 <span data-ttu-id="aa124-154">**Рисунок, иллюстрирующий направление потока в нескольких элементах TextBlock**</span><span class="sxs-lookup"><span data-stu-id="aa124-154">**Graphic That Illustrates FlowDirection in Several TextBlock Elements**</span></span>  
  
 <span data-ttu-id="aa124-155">![Текстовые блоки с различными направлениями потоков](../../../../docs/framework/wpf/advanced/media/span.PNG "Span")</span><span class="sxs-lookup"><span data-stu-id="aa124-155">![Text blocks with different flow directions](../../../../docs/framework/wpf/advanced/media/span.PNG "Span")</span></span>  
  
 <span data-ttu-id="aa124-156">В следующем примере показано, как использовать <xref:System.Windows.Documents.Span> и <xref:System.Windows.Documents.Run> элементы для получения результатов, показанный на предыдущем рисунке.</span><span class="sxs-lookup"><span data-stu-id="aa124-156">The following example shows how to use the <xref:System.Windows.Documents.Span> and <xref:System.Windows.Documents.Run> elements to produce the results shown in the previous graphic.</span></span>  
  
 [!code-xaml[Span#Span](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Span/CS/Window1.xaml#span)]  
  
 <span data-ttu-id="aa124-157">В <xref:System.Windows.Controls.TextBlock> элементы в образце <xref:System.Windows.Documents.Span> элементы располагаются в соответствии с <xref:System.Windows.FlowDirection> их родительских объектов, но текст внутри каждого <xref:System.Windows.Documents.Span> элемент располагается согласно своему собственному <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="aa124-157">In the <xref:System.Windows.Controls.TextBlock> elements in the sample, the <xref:System.Windows.Documents.Span> elements are laid out according to the <xref:System.Windows.FlowDirection> of their parents, but the text within each <xref:System.Windows.Documents.Span> element flows according to its own <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="aa124-158">Это применимо для латинского, арабского или любого другого языка.</span><span class="sxs-lookup"><span data-stu-id="aa124-158">This is applicable to Latin and Arabic – or any other language.</span></span>  
  
### <a name="adding-xmllang"></a><span data-ttu-id="aa124-159">Добавление XML: lang</span><span class="sxs-lookup"><span data-stu-id="aa124-159">Adding xml:lang</span></span>  
 <span data-ttu-id="aa124-160">На следующем рисунке показан другой пример, использующий номера и арифметические выражения, такие как `"200.0+21.4=221.4"`.</span><span class="sxs-lookup"><span data-stu-id="aa124-160">The following graphic shows another example that uses numbers and arithmetic expressions, such as `"200.0+21.4=221.4"`.</span></span> <span data-ttu-id="aa124-161">Обратите внимание, что только <xref:System.Windows.FlowDirection> имеет значение.</span><span class="sxs-lookup"><span data-stu-id="aa124-161">Notice that only the <xref:System.Windows.FlowDirection> is set.</span></span>  
  
 <span data-ttu-id="aa124-162">**Рисунок, иллюстрирующий отображение чисел только в направлении FlowDirection**</span><span class="sxs-lookup"><span data-stu-id="aa124-162">**Graphic That Displays Numbers Using Only FlowDirection**</span></span>  
  
 <span data-ttu-id="aa124-163">![Числа с направлением потока справа налево](../../../../docs/framework/wpf/advanced/media/langattribute.PNG "LangAttribute")</span><span class="sxs-lookup"><span data-stu-id="aa124-163">![Numbers that flow from right to left](../../../../docs/framework/wpf/advanced/media/langattribute.PNG "LangAttribute")</span></span>  
  
 <span data-ttu-id="aa124-164">Пользователи данного приложения будут разочарованы выходных данных, даже если <xref:System.Windows.FlowDirection> правильно числа не становятся арабскими цифрами должно иметь форму.</span><span class="sxs-lookup"><span data-stu-id="aa124-164">Users of this application will be disappointed by the output, even though the <xref:System.Windows.FlowDirection> is correct the numbers are not shaped as Arabic numbers should be shaped.</span></span>  
  
 <span data-ttu-id="aa124-165">Элементы XAML могут включать [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] атрибут (`xml:lang`), определяющий язык каждого элемента.</span><span class="sxs-lookup"><span data-stu-id="aa124-165">XAML elements can include an [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] attribute (`xml:lang`) that defines the language of each element.</span></span> <span data-ttu-id="aa124-166">XAML также поддерживает [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] принцип языка при котором `xml:lang` дочерними элементами используются значения, примененные к родительским элементам в дереве.</span><span class="sxs-lookup"><span data-stu-id="aa124-166">XAML also supports a [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] language principle whereby `xml:lang` values applied to parent elements in the tree are used by child elements.</span></span> <span data-ttu-id="aa124-167">В предыдущем примере поскольку язык не был определен для <xref:System.Windows.Documents.Run> элементов, значение по умолчанию уровня элемента или любого из его верхней `xml:lang` использовался, являющийся `en-US` для XAML.</span><span class="sxs-lookup"><span data-stu-id="aa124-167">In the previous example, because a language was not defined for the <xref:System.Windows.Documents.Run> element or any of its top level elements, the default `xml:lang` was used, which is `en-US` for XAML.</span></span> <span data-ttu-id="aa124-168">Внутренний номер алгоритм из [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] выбирает числа в соответствующем языке, в данном случае английский.</span><span class="sxs-lookup"><span data-stu-id="aa124-168">The internal number shaping algorithm of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] selects numbers in the corresponding language – in this case English.</span></span> <span data-ttu-id="aa124-169">Делать арабские цифры отрисовки правильно `xml:lang` должно быть задано.</span><span class="sxs-lookup"><span data-stu-id="aa124-169">To make the Arabic numbers render correctly `xml:lang` needs to be set.</span></span>  
  
 <span data-ttu-id="aa124-170">На следующем рисунке показан пример с `xml:lang` добавлен.</span><span class="sxs-lookup"><span data-stu-id="aa124-170">The following graphic shows the example with `xml:lang` added.</span></span>  
  
 <span data-ttu-id="aa124-171">**Рисунок, иллюстрирующий использование атрибута xml:lang**</span><span class="sxs-lookup"><span data-stu-id="aa124-171">**Graphic That Illustrates Using the xml:lang Attribute**</span></span>  
  
 <span data-ttu-id="aa124-172">![Арабские числа с направлением потока справа налево](../../../../docs/framework/wpf/advanced/media/langattribute2.PNG "LangAttribute2")</span><span class="sxs-lookup"><span data-stu-id="aa124-172">![Arabic numbers that flow from right to left](../../../../docs/framework/wpf/advanced/media/langattribute2.PNG "LangAttribute2")</span></span>  
  
 <span data-ttu-id="aa124-173">В следующем примере добавляется `xml:lang` в приложение.</span><span class="sxs-lookup"><span data-stu-id="aa124-173">The following example adds `xml:lang` to the application.</span></span>  
  
 [!code-xaml[LangAttribute#LangAttribute](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LangAttribute/CS/Window1.xaml#langattribute)]  
  
 <span data-ttu-id="aa124-174">Имейте в виду, что многие языки имеют различные `xml:lang` значения в зависимости от целевого региона, например, `"ar-SA"` и `"ar-EG"` представляют собой два диалекта арабского языка.</span><span class="sxs-lookup"><span data-stu-id="aa124-174">Be aware that many languages have different `xml:lang` values depending on the targeted region, for example, `"ar-SA"` and `"ar-EG"` represent two variations of Arabic.</span></span> <span data-ttu-id="aa124-175">В предыдущих примерах показано, что необходимо определить оба `xml:lang` и <xref:System.Windows.FlowDirection> значения.</span><span class="sxs-lookup"><span data-stu-id="aa124-175">The previous examples illustrate that you need to define both the `xml:lang` and <xref:System.Windows.FlowDirection> values.</span></span>  
  
<a name="FlowDirectionNontext"></a>   
## <a name="flowdirection-with-non-text-elements"></a><span data-ttu-id="aa124-176">Направление потока применительно к нетекстовым элементам</span><span class="sxs-lookup"><span data-stu-id="aa124-176">FlowDirection with Non-text Elements</span></span>  
 <span data-ttu-id="aa124-177"><xref:System.Windows.FlowDirection>Определяет не только как текст проходит в текстовом элементе, но также направление потока практически любого другого [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] элемента.</span><span class="sxs-lookup"><span data-stu-id="aa124-177"><xref:System.Windows.FlowDirection> defines not only how text flows in a textual element but also the flow direction of almost every other [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element.</span></span> <span data-ttu-id="aa124-178">Показано на следующем рисунке <xref:System.Windows.Controls.ToolBar> , использующий горизонтальной <xref:System.Windows.Media.LinearGradientBrush> для рисования фона его.</span><span class="sxs-lookup"><span data-stu-id="aa124-178">The following graphic shows a <xref:System.Windows.Controls.ToolBar> that uses a horizontal <xref:System.Windows.Media.LinearGradientBrush> to draw its background.</span></span>  
  
 <span data-ttu-id="aa124-179">**Рисунок, показывающий элемент ToolBar с градиентом слева направо**</span><span class="sxs-lookup"><span data-stu-id="aa124-179">**Graphic That Shows a ToolBar with a Left to Right Gradient**</span></span>  
  
 <span data-ttu-id="aa124-180">![Снимок экрана градиента](../../../../docs/framework/wpf/advanced/media/gradient.PNG "Gradient")</span><span class="sxs-lookup"><span data-stu-id="aa124-180">![Gradient screen shot](../../../../docs/framework/wpf/advanced/media/gradient.PNG "Gradient")</span></span>  
  
 <span data-ttu-id="aa124-181">После установки параметра <xref:System.Windows.FlowDirection> для <xref:System.Windows.FlowDirection.RightToLeft>, не только <xref:System.Windows.Controls.ToolBar> кнопок, расположенных справа налево, но даже <xref:System.Windows.Media.LinearGradientBrush> перестраивает свои смещения для потока справа налево.</span><span class="sxs-lookup"><span data-stu-id="aa124-181">After setting the <xref:System.Windows.FlowDirection> to <xref:System.Windows.FlowDirection.RightToLeft>, not only the <xref:System.Windows.Controls.ToolBar> buttons are arranged from right to left, but even the <xref:System.Windows.Media.LinearGradientBrush> realigns its offsets to flow from right to left.</span></span>  
  
 <span data-ttu-id="aa124-182">На следующем рисунке показан перестройку <xref:System.Windows.Media.LinearGradientBrush>.</span><span class="sxs-lookup"><span data-stu-id="aa124-182">The following graphic shows the realignment of the <xref:System.Windows.Media.LinearGradientBrush>.</span></span>  
  
 <span data-ttu-id="aa124-183">**Рисунок, показывающий элемент ToolBar с градиентом справа налево**</span><span class="sxs-lookup"><span data-stu-id="aa124-183">**Graphic That Shows a ToolBar with a Right to Left Gradient**</span></span>  
  
 <span data-ttu-id="aa124-184">![Градиент с направлением справа налево](../../../../docs/framework/wpf/advanced/media/gradient2-wpf.PNG "Gradient2_WPF")</span><span class="sxs-lookup"><span data-stu-id="aa124-184">![A gradient that flows from right to left](../../../../docs/framework/wpf/advanced/media/gradient2-wpf.PNG "Gradient2_WPF")</span></span>  
  
 <span data-ttu-id="aa124-185">В следующем примере рисуется <xref:System.Windows.FlowDirection.RightToLeft> <xref:System.Windows.Controls.ToolBar>.</span><span class="sxs-lookup"><span data-stu-id="aa124-185">The following example draws a <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.Controls.ToolBar>.</span></span> <span data-ttu-id="aa124-186">(Он расположен слева направо, удалите <xref:System.Windows.FlowDirection> атрибут <xref:System.Windows.Controls.ToolBar>.</span><span class="sxs-lookup"><span data-stu-id="aa124-186">(To draw it left to right, remove the <xref:System.Windows.FlowDirection> attribute on the <xref:System.Windows.Controls.ToolBar>.</span></span>  
  
 [!code-xaml[Gradient#Gradient](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Gradient/CS/Window1.xaml#gradient)]  
  
<a name="FlowDirectionExceptions"></a>   
### <a name="flowdirection-exceptions"></a><span data-ttu-id="aa124-187">Исключения направления потока</span><span class="sxs-lookup"><span data-stu-id="aa124-187">FlowDirection Exceptions</span></span>  
 <span data-ttu-id="aa124-188">Существует несколько вариантов где <xref:System.Windows.FlowDirection> вести себя неожиданным образом.</span><span class="sxs-lookup"><span data-stu-id="aa124-188">There are a few cases where <xref:System.Windows.FlowDirection> does not behave as expected.</span></span> <span data-ttu-id="aa124-189">В этом разделе рассматриваются два таких исключения.</span><span class="sxs-lookup"><span data-stu-id="aa124-189">This section covers two of these exceptions.</span></span>  
  
 <span data-ttu-id="aa124-190">**Изображение**</span><span class="sxs-lookup"><span data-stu-id="aa124-190">**Image**</span></span>  
  
 <span data-ttu-id="aa124-191"><xref:System.Windows.Controls.Image> Представляет элемент управления, отображающий изображение.</span><span class="sxs-lookup"><span data-stu-id="aa124-191">An <xref:System.Windows.Controls.Image> represents a control that displays an image.</span></span> <span data-ttu-id="aa124-192">В [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] может использоваться с <xref:System.Windows.Controls.Image.Source%2A> свойство, определяющее [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] из <xref:System.Windows.Controls.Image> для отображения.</span><span class="sxs-lookup"><span data-stu-id="aa124-192">In [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] it can be used with a <xref:System.Windows.Controls.Image.Source%2A> property that defines the [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] of the <xref:System.Windows.Controls.Image> to display.</span></span>  
  
 <span data-ttu-id="aa124-193">В отличие от других [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] элементов, <xref:System.Windows.Controls.Image> не наследует <xref:System.Windows.FlowDirection> из контейнера.</span><span class="sxs-lookup"><span data-stu-id="aa124-193">Unlike other [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements, an <xref:System.Windows.Controls.Image> does not inherit the <xref:System.Windows.FlowDirection> from the container.</span></span> <span data-ttu-id="aa124-194">Однако если <xref:System.Windows.FlowDirection> явно присвоено значение <xref:System.Windows.FlowDirection.RightToLeft>, <xref:System.Windows.Controls.Image> отображается зеркально по горизонтали.</span><span class="sxs-lookup"><span data-stu-id="aa124-194">However, if the <xref:System.Windows.FlowDirection> is set explicitly to <xref:System.Windows.FlowDirection.RightToLeft>, an <xref:System.Windows.Controls.Image> is displayed flipped horizontally.</span></span> <span data-ttu-id="aa124-195">Это сделано для удобства разработчиков двунаправленного содержимого. В некоторых случаях горизонтальным отражением достигается требуемый эффект.</span><span class="sxs-lookup"><span data-stu-id="aa124-195">This is implemented as a convenient feature for developers of bidirectional content; because in some cases, horizontally flipping the image produces the desired effect.</span></span>  
  
 <span data-ttu-id="aa124-196">На следующем рисунке показан отраженных <xref:System.Windows.Controls.Image>.</span><span class="sxs-lookup"><span data-stu-id="aa124-196">The following graphic shows a flipped <xref:System.Windows.Controls.Image>.</span></span>  
  
 <span data-ttu-id="aa124-197">**Рисунок, иллюстрирующий перевернутое изображение**</span><span class="sxs-lookup"><span data-stu-id="aa124-197">**Graphic That Illustrates a Flipped Image**</span></span>  
  
 <span data-ttu-id="aa124-198">![Снимок экрана XamlPad](../../../../docs/framework/wpf/advanced/media/image.PNG "Image")</span><span class="sxs-lookup"><span data-stu-id="aa124-198">![XamlPad screen shot](../../../../docs/framework/wpf/advanced/media/image.PNG "Image")</span></span>  
  
 <span data-ttu-id="aa124-199">В следующем примере показано, что <xref:System.Windows.Controls.Image> не удается наследовать <xref:System.Windows.FlowDirection> из <xref:System.Windows.Controls.StackPanel> , которая его содержит.</span><span class="sxs-lookup"><span data-stu-id="aa124-199">The following example demonstrates that the <xref:System.Windows.Controls.Image> fails to inherit the <xref:System.Windows.FlowDirection> from the <xref:System.Windows.Controls.StackPanel> that contains it.</span></span> <span data-ttu-id="aa124-200">**Примечание** необходимо иметь файл с именем **ms_logo.jpg** на диске C:\ для запуска этого примера.</span><span class="sxs-lookup"><span data-stu-id="aa124-200">**Note** You must have a file named **ms_logo.jpg** on your C:\ drive to run this example.</span></span>  
  
 [!code-xaml[Image#Image](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Image/CS/Window1.xaml#image)]  
  
 <span data-ttu-id="aa124-201">**Примечание** включенные в состав загружаемых файлов является **ms_logo.jpg** файла.</span><span class="sxs-lookup"><span data-stu-id="aa124-201">**Note** Included in the download files is an **ms_logo.jpg** file.</span></span> <span data-ttu-id="aa124-202">В коде предполагается, что JPG-файл находится не внутри проекта, а где-нибудь на диске C:\.</span><span class="sxs-lookup"><span data-stu-id="aa124-202">The code assumes that the .jpg file is not inside your project but somewhere on the C:\ drive.</span></span> <span data-ttu-id="aa124-203">Необходимо скопировать JPG-файл из файлов проекта на диск C:\ или изменить код так, чтобы выполнялся поиск файла внутри проекта.</span><span class="sxs-lookup"><span data-stu-id="aa124-203">You must copy the .jpg from the project files to your C:\ drive or change the code to look for the file inside the project.</span></span> <span data-ttu-id="aa124-204">Для этого перейдите `Source="file://c:/ms_logo.jpg"` для `Source="ms_logo.jpg"`.</span><span class="sxs-lookup"><span data-stu-id="aa124-204">To do this change `Source="file://c:/ms_logo.jpg"` to `Source="ms_logo.jpg"`.</span></span>  
  
 <span data-ttu-id="aa124-205">**Paths**</span><span class="sxs-lookup"><span data-stu-id="aa124-205">**Paths**</span></span>  
  
 <span data-ttu-id="aa124-206">В дополнение к <xref:System.Windows.Controls.Image>, другим интересным элементом является <xref:System.Windows.Shapes.Path>.</span><span class="sxs-lookup"><span data-stu-id="aa124-206">In addition to an <xref:System.Windows.Controls.Image>, another interesting element is <xref:System.Windows.Shapes.Path>.</span></span> <span data-ttu-id="aa124-207">Контур — это объект, который может нарисовать последовательность соединенных линий и кривых.</span><span class="sxs-lookup"><span data-stu-id="aa124-207">A Path is an object that can draw a series of connected lines and curves.</span></span> <span data-ttu-id="aa124-208">Он ведет себя так же, как <xref:System.Windows.Controls.Image> относительно его <xref:System.Windows.FlowDirection>, например его <xref:System.Windows.FlowDirection.RightToLeft> <xref:System.Windows.FlowDirection> является отражением относительно горизонтали его <xref:System.Windows.FlowDirection.LeftToRight> одно.</span><span class="sxs-lookup"><span data-stu-id="aa124-208">It behaves in a manner similar to an <xref:System.Windows.Controls.Image> regarding its <xref:System.Windows.FlowDirection>; for example its <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection> is a horizontal mirror of its <xref:System.Windows.FlowDirection.LeftToRight> one.</span></span> <span data-ttu-id="aa124-209">Однако в отличие от <xref:System.Windows.Controls.Image>, <xref:System.Windows.Shapes.Path> наследует его <xref:System.Windows.FlowDirection> из контейнера и не требуется указывать явно.</span><span class="sxs-lookup"><span data-stu-id="aa124-209">However, unlike an <xref:System.Windows.Controls.Image>, <xref:System.Windows.Shapes.Path> inherits its <xref:System.Windows.FlowDirection> from the container and one does not need to specify it explicitly.</span></span>  
  
 <span data-ttu-id="aa124-210">В следующем примере рисуется простая стрелка, использующая три линии.</span><span class="sxs-lookup"><span data-stu-id="aa124-210">The following example draws a simple arrow using 3 lines.</span></span> <span data-ttu-id="aa124-211">Первая стрелка наследует <xref:System.Windows.FlowDirection.RightToLeft> направление из потока <xref:System.Windows.Controls.StackPanel> , чтобы его начальную и конечную точки отсчитываются от корня справа от оператора.</span><span class="sxs-lookup"><span data-stu-id="aa124-211">The first arrow inherits the <xref:System.Windows.FlowDirection.RightToLeft> flow direction from the <xref:System.Windows.Controls.StackPanel> so that its start and end points are measured from a root on the right side.</span></span> <span data-ttu-id="aa124-212">Вторая стрелка, имеющая явно <xref:System.Windows.FlowDirection.RightToLeft> <xref:System.Windows.FlowDirection> также запускается с правой стороны.</span><span class="sxs-lookup"><span data-stu-id="aa124-212">The second arrow which has an explicit <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection> also starts on the right side.</span></span> <span data-ttu-id="aa124-213">Однако третья стрелка начинается от корня с левой стороны.</span><span class="sxs-lookup"><span data-stu-id="aa124-213">However, the third arrow has its starting root on the left side.</span></span> <span data-ttu-id="aa124-214">Дополнительные сведения о рисовании содержатся <xref:System.Windows.Media.LineGeometry> и <xref:System.Windows.Media.GeometryGroup>.</span><span class="sxs-lookup"><span data-stu-id="aa124-214">For more information on drawing see <xref:System.Windows.Media.LineGeometry> and <xref:System.Windows.Media.GeometryGroup>.</span></span>  
  
 [!code-xaml[Paths#Paths](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Paths/CS/Window1.xaml#paths)]  
  
 <span data-ttu-id="aa124-215">На следующем рисунке показан результат выполнения предыдущего примера.</span><span class="sxs-lookup"><span data-stu-id="aa124-215">The following graphic shows the output of the previous example.</span></span>  
  
 <span data-ttu-id="aa124-216">**Рисунок, иллюстрирующий стрелки, нарисованные с помощью элемента Path**</span><span class="sxs-lookup"><span data-stu-id="aa124-216">**Graphic That Illustrates Arrows Drawn Using the Path Element**</span></span>  
  
 <span data-ttu-id="aa124-217">![Paths](../../../../docs/framework/wpf/advanced/media/paths.PNG "Paths")</span><span class="sxs-lookup"><span data-stu-id="aa124-217">![Paths](../../../../docs/framework/wpf/advanced/media/paths.PNG "Paths")</span></span>  
  
 <span data-ttu-id="aa124-218"><xref:System.Windows.Controls.Image> И <xref:System.Windows.Shapes.Path> представлены два примера того, как [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] использует <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="aa124-218">The <xref:System.Windows.Controls.Image> and <xref:System.Windows.Shapes.Path> are two examples of a how [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] uses <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="aa124-219">Рядом с макетом [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] элементов в определенном направлении внутри контейнера, <xref:System.Windows.FlowDirection> можно использовать с элементами, такие как <xref:System.Windows.Controls.InkPresenter> отображаемое штриха на поверхности, <xref:System.Windows.Media.LinearGradientBrush>, <xref:System.Windows.Media.RadialGradientBrush>.</span><span class="sxs-lookup"><span data-stu-id="aa124-219">Beside laying out [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements in a specific direction within a container, <xref:System.Windows.FlowDirection> can be used with elements such as <xref:System.Windows.Controls.InkPresenter> which renders ink on a surface, <xref:System.Windows.Media.LinearGradientBrush>, <xref:System.Windows.Media.RadialGradientBrush>.</span></span> <span data-ttu-id="aa124-220">Каждый раз, когда требуется поведение справа налево для содержимого, которая имитирует поведение слева направо, или наоборот, [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] предоставляет эту возможность.</span><span class="sxs-lookup"><span data-stu-id="aa124-220">Whenever you need a right to left behavior for your content that mimics a left to right behavior, or vice versa, [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides that capability.</span></span>  
  
<a name="NumberSubstitution"></a>   
## <a name="number-substitution"></a><span data-ttu-id="aa124-221">Подстановки чисел</span><span class="sxs-lookup"><span data-stu-id="aa124-221">Number Substitution</span></span>  
 <span data-ttu-id="aa124-222">Исторически [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] поддерживало замену чисел посредством возможности представления различных культурных фигур для одних цифр во время сохранения внутреннего хранения этих цифр, объединенных среди различных языковых стандартах, например, числа хранятся в их хорошо известных шестнадцатеричных значений, 0x40, 0x41, но отображаются в зависимости от выбранного языка.</span><span class="sxs-lookup"><span data-stu-id="aa124-222">Historically, [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] has supported number substitution by allowing the representation of different cultural shapes for the same digits while keeping the internal storage of these digits unified among different locales, for example numbers are stored in their well known hexadecimal values, 0x40, 0x41, but displayed according to the selected language.</span></span>  
  
 <span data-ttu-id="aa124-223">Это позволяет приложениям для обработки числовых значений, без необходимости преобразовывать их с одного языка на другой, например пользователь может открыть [!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)] электронной таблицы в локализованных арабский [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] просмотра номеров, которые были сформированы на арабском языке и откройте его в Европейской версии [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] и просмотреть европейских представление и те же номера.</span><span class="sxs-lookup"><span data-stu-id="aa124-223">This has allowed applications to process numerical values without the need to convert them from one language to another, for example a user can open an [!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)] spreadsheet in a localized Arabic [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see the numbers shaped in Arabic, but open it in a European version of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see European representation of the same numbers.</span></span> <span data-ttu-id="aa124-224">Это также необходимо для других символов, например запятая или символ процента, так как они обычно сопровождают числа в одном документе.</span><span class="sxs-lookup"><span data-stu-id="aa124-224">This is also necessary for other symbols such as comma separators and percentage symbol because they usually accompany numbers in the same document.</span></span>  
  
 <span data-ttu-id="aa124-225">Платформа [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] продолжает эту традицию и добавляет новые возможности, позволяющие пользователю более точно определять, когда и как должна применяться подстановка.</span><span class="sxs-lookup"><span data-stu-id="aa124-225">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] continues the same tradition, and adds further support for this feature that allows more user control over when and how substitution is used.</span></span> <span data-ttu-id="aa124-226">Эта функция может использоваться со всеми языками, но особенно полезна она в обработке двунаправленного содержимого, когда представление чисел для разных региональных стандартов становится проблемой для разработчиков приложений, предназначенных для использования в разных странах.</span><span class="sxs-lookup"><span data-stu-id="aa124-226">While this feature is designed for any language, it is particularly useful in bidirectional content where shaping digits for a specific language is usually a challenge for application developers because of the various cultures an application might run on.</span></span>  
  
 <span data-ttu-id="aa124-227">Свойство core, управляющее подстановки как чисел работает в [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] — <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> свойства зависимостей.</span><span class="sxs-lookup"><span data-stu-id="aa124-227">The core property controlling how number substitution works in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is the <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> dependency property.</span></span> <span data-ttu-id="aa124-228"><xref:System.Windows.Media.NumberSubstitution> Класс указывает, как должны отображаться числа в тексте.</span><span class="sxs-lookup"><span data-stu-id="aa124-228">The <xref:System.Windows.Media.NumberSubstitution> class specifies how numbers in text are to be displayed.</span></span> <span data-ttu-id="aa124-229">Он имеет три открытых свойства, определяющих его поведение.</span><span class="sxs-lookup"><span data-stu-id="aa124-229">It has three public properties that define its behavior.</span></span> <span data-ttu-id="aa124-230">Ниже приведен краткий обзор каждого из свойств.</span><span class="sxs-lookup"><span data-stu-id="aa124-230">Following is a summary of each of the properties.</span></span>  
  
 <span data-ttu-id="aa124-231">**CultureSource.**</span><span class="sxs-lookup"><span data-stu-id="aa124-231">**CultureSource:**</span></span>  
  
 <span data-ttu-id="aa124-232">Это свойство задает способ определения регионального стандарта для чисел.</span><span class="sxs-lookup"><span data-stu-id="aa124-232">This property specifies how the culture for numbers is determined.</span></span> <span data-ttu-id="aa124-233">Оно принимает одно из трех <xref:System.Windows.Media.NumberCultureSource> значений перечисления.</span><span class="sxs-lookup"><span data-stu-id="aa124-233">It takes one of three <xref:System.Windows.Media.NumberCultureSource> enumeration values.</span></span>  
  
-   <span data-ttu-id="aa124-234">Переопределение: Номер языка и региональных параметров, представляет <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="aa124-234">Override: Number culture is that of <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property.</span></span>  
  
-   <span data-ttu-id="aa124-235">Text (текст). Региональный стандарт для чисел определяется по региональному стандарту фрагмента текста.</span><span class="sxs-lookup"><span data-stu-id="aa124-235">Text: Number culture is the culture of the text run.</span></span> <span data-ttu-id="aa124-236">В разметке, это будет `xml:lang`, или ее псевдоним `Language` свойство (<xref:System.Windows.FrameworkElement.Language%2A> или <xref:System.Windows.FrameworkContentElement.Language%2A>).</span><span class="sxs-lookup"><span data-stu-id="aa124-236">In markup, this would be `xml:lang`, or its alias `Language` property (<xref:System.Windows.FrameworkElement.Language%2A> or <xref:System.Windows.FrameworkContentElement.Language%2A>).</span></span> <span data-ttu-id="aa124-237">Кроме того, это значение по умолчанию для классов, производных от <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="aa124-237">Also, it is the default for classes deriving from <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="aa124-238">Такие классы содержат <xref:System.Windows.Documents.Paragraph?displayProperty=nameWithType>, <xref:System.Windows.Documents.Table?displayProperty=nameWithType>, <xref:System.Windows.Documents.TableCell?displayProperty=nameWithType> и т. д.</span><span class="sxs-lookup"><span data-stu-id="aa124-238">Such classes include <xref:System.Windows.Documents.Paragraph?displayProperty=nameWithType>, <xref:System.Windows.Documents.Table?displayProperty=nameWithType>, <xref:System.Windows.Documents.TableCell?displayProperty=nameWithType> and so forth.</span></span>  
  
-   <span data-ttu-id="aa124-239">User (пользователь). Региональный стандарт для чисел определяется по региональному стандарту текущего потока.</span><span class="sxs-lookup"><span data-stu-id="aa124-239">User: Number culture is the culture of the current thread.</span></span> <span data-ttu-id="aa124-240">Это свойство имеет значение по умолчанию для всех подклассов <xref:System.Windows.FrameworkElement> например <xref:System.Windows.Controls.Page>, <xref:System.Windows.Window> и <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="aa124-240">This property is the default for all subclasses of <xref:System.Windows.FrameworkElement> such as <xref:System.Windows.Controls.Page>, <xref:System.Windows.Window> and <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="aa124-241">**CultureOverride**.</span><span class="sxs-lookup"><span data-stu-id="aa124-241">**CultureOverride**:</span></span>  
  
 <span data-ttu-id="aa124-242"><xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> Свойство используется только в том случае, если <xref:System.Windows.Media.NumberSubstitution.CultureSource%2A> свойству <xref:System.Windows.Media.NumberCultureSource.Override> , а в противном случае значение игнорируется.</span><span class="sxs-lookup"><span data-stu-id="aa124-242">The <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property is used only if the <xref:System.Windows.Media.NumberSubstitution.CultureSource%2A> property is set to <xref:System.Windows.Media.NumberCultureSource.Override> and is ignored otherwise.</span></span> <span data-ttu-id="aa124-243">Оно определяет региональный стандарт для чисел.</span><span class="sxs-lookup"><span data-stu-id="aa124-243">It specifies the number culture.</span></span> <span data-ttu-id="aa124-244">Значение `null`, значение по умолчанию, интерпретируется как en US.</span><span class="sxs-lookup"><span data-stu-id="aa124-244">A value of `null`, the default value, is interpreted as en-US.</span></span>  
  
 <span data-ttu-id="aa124-245">**Substitution**.</span><span class="sxs-lookup"><span data-stu-id="aa124-245">**Substitution**:</span></span>  
  
 <span data-ttu-id="aa124-246">Это свойство определяет выполняемый тип подстановки чисел.</span><span class="sxs-lookup"><span data-stu-id="aa124-246">This property specifies the type of number substitution to perform.</span></span> <span data-ttu-id="aa124-247">Оно принимает одно из следующих <xref:System.Windows.Media.NumberSubstitutionMethod> значений перечисления.</span><span class="sxs-lookup"><span data-stu-id="aa124-247">It takes one of the following <xref:System.Windows.Media.NumberSubstitutionMethod> enumeration values.</span></span>  
  
-   <span data-ttu-id="aa124-248"><xref:System.Windows.Media.NumberSubstitutionMethod.AsCulture>: Метод подстановки определяется на основе номеров культуры <xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=nameWithType> свойство.</span><span class="sxs-lookup"><span data-stu-id="aa124-248"><xref:System.Windows.Media.NumberSubstitutionMethod.AsCulture>: The substitution method is determined based on the number culture's <xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="aa124-249">Это значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="aa124-249">This is the default.</span></span>  
  
-   <span data-ttu-id="aa124-250"><xref:System.Windows.Media.NumberSubstitutionMethod.Context>: Если номера языка и региональных параметров, арабского или персидский языка и региональных параметров, он указывает, что цифры зависят от контекста.</span><span class="sxs-lookup"><span data-stu-id="aa124-250"><xref:System.Windows.Media.NumberSubstitutionMethod.Context>: If the number culture is an Arabic or Farsi culture, it specifies that the digits depend on the context.</span></span>  
  
-   <span data-ttu-id="aa124-251"><xref:System.Windows.Media.NumberSubstitutionMethod.European>: Числа всегда отображаются как европейские цифры.</span><span class="sxs-lookup"><span data-stu-id="aa124-251"><xref:System.Windows.Media.NumberSubstitutionMethod.European>: Numbers are always rendered as European digits.</span></span>  
  
-   <span data-ttu-id="aa124-252"><xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>: Числа отображаются с использованием национальных цифр номера языка и региональных параметров в соответствии с языком и региональными параметрами <xref:System.Globalization.CultureInfo.NumberFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="aa124-252"><xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>: Numbers are rendered using the national digits for the number culture, as specified by the culture's <xref:System.Globalization.CultureInfo.NumberFormat%2A>.</span></span>  
  
-   <span data-ttu-id="aa124-253"><xref:System.Windows.Media.NumberSubstitutionMethod.Traditional>: Числа отображаются с использованием традиционных цифр номера языком и региональными параметрами.</span><span class="sxs-lookup"><span data-stu-id="aa124-253"><xref:System.Windows.Media.NumberSubstitutionMethod.Traditional>: Numbers are rendered using the traditional digits for the number culture.</span></span> <span data-ttu-id="aa124-254">Для большинства языков и региональных параметров, то же самое происходит <xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>.</span><span class="sxs-lookup"><span data-stu-id="aa124-254">For most cultures, this is the same as <xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>.</span></span> <span data-ttu-id="aa124-255">Однако <xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational> приводит к цифры для некоторых арабского языка и региональных параметров, а это значение приводит к арабские цифры арабского языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="aa124-255">However, <xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational> results in Latin digits for some Arabic cultures, whereas this value results in Arabic digits for all Arabic cultures.</span></span>  
  
 <span data-ttu-id="aa124-256">О чем говорят эти значения разработчикам двунаправленного содержимого?</span><span class="sxs-lookup"><span data-stu-id="aa124-256">What do those values mean for a bidirectional content developer?</span></span> <span data-ttu-id="aa124-257">В большинстве случаев разработчик может потребоваться определить только <xref:System.Windows.FlowDirection> и язык каждое текстовое [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] элемент, например `Language="ar-SA"` и <xref:System.Windows.Media.NumberSubstitution> логику отвечает за отображение номера в соответствии с правильного [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa124-257">In most cases, the developer might need only to define <xref:System.Windows.FlowDirection> and the language of each textual [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element, for example `Language="ar-SA"` and the <xref:System.Windows.Media.NumberSubstitution> logic takes care of displaying the numbers according to the correct [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="aa124-258">В следующем примере показано использование английского и арабского чисел в [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] приложение, работающее в арабском версии [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa124-258">The following example demonstrates using Arabic and English numbers in a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application running in an Arabic version of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].</span></span>  
  
 [!code-xaml[Numbers#Numbers](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers/CS/Window1.xaml#numbers)]  
  
 <span data-ttu-id="aa124-259">На следующем рисунке показан результат предыдущего примера при выполнении в арабском версии [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa124-259">The following graphic shows the output of the previous sample if you are running in an Arabic version of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].</span></span>  
  
 <span data-ttu-id="aa124-260">**Рисунок, иллюстрирующий отображение арабских и английских чисел**</span><span class="sxs-lookup"><span data-stu-id="aa124-260">**Graphic That Shows Arabic and English Numbers Displayed**</span></span>  
  
 <span data-ttu-id="aa124-261">![Снимок экрана XamlPad с числами](../../../../docs/framework/wpf/advanced/media/numbers.PNG "Numbers")</span><span class="sxs-lookup"><span data-stu-id="aa124-261">![XamlPad screen shot with numbers](../../../../docs/framework/wpf/advanced/media/numbers.PNG "Numbers")</span></span>  
  
 <span data-ttu-id="aa124-262"><xref:System.Windows.FlowDirection> Был важные в этом случае, так как задание <xref:System.Windows.FlowDirection> для <xref:System.Windows.FlowDirection.LeftToRight> вместо этого будет появляться европейские цифры.</span><span class="sxs-lookup"><span data-stu-id="aa124-262">The <xref:System.Windows.FlowDirection> was important in this case because setting the <xref:System.Windows.FlowDirection> to <xref:System.Windows.FlowDirection.LeftToRight> instead would have yielded European digits.</span></span> <span data-ttu-id="aa124-263">В следующих разделах рассматривается, как сделать одинаковое отображение цифр по всему документу.</span><span class="sxs-lookup"><span data-stu-id="aa124-263">The following sections discuss how to have a unified display of digits throughout your document.</span></span> <span data-ttu-id="aa124-264">Если этот пример не выполняется на арабской версии Windows, все цифры отображаются на экране как европейские цифры.</span><span class="sxs-lookup"><span data-stu-id="aa124-264">If this example is not running on Arabic Windows, all the digits display as European digits.</span></span>  
  
 <span data-ttu-id="aa124-265">**Определение правил подстановки**</span><span class="sxs-lookup"><span data-stu-id="aa124-265">**Defining Substitution Rules**</span></span>  
  
 <span data-ttu-id="aa124-266">В реальном приложении может возникнуть необходимость установить язык программным путем.</span><span class="sxs-lookup"><span data-stu-id="aa124-266">In a real application you might need to set the Language programmatically.</span></span> <span data-ttu-id="aa124-267">Например, вы хотите установить `xml:lang` атрибут, который будет таким же, как используемое в системе [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], или возможно требуется изменить язык в зависимости от состояния приложения.</span><span class="sxs-lookup"><span data-stu-id="aa124-267">For example, you want to set the `xml:lang` attribute to be the same as the one used by the system’s [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], or maybe change the language depending on the application state.</span></span>  
  
 <span data-ttu-id="aa124-268">Если вы хотите внести изменения на основании состояния приложения, убедитесь, использование других возможностей, предоставляемых [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="aa124-268">If you want to make changes based on the application's state, make use of other features provided by [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span>  
  
 <span data-ttu-id="aa124-269">Во-первых, следует установить компонент приложения `NumberSubstitution.CultureSource="Text"`.</span><span class="sxs-lookup"><span data-stu-id="aa124-269">First, set the application component’s `NumberSubstitution.CultureSource="Text"`.</span></span> <span data-ttu-id="aa124-270">Использование этого параметра гарантирует, что параметры не исходят из [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] для текстовых элементов, содержащих «User» по умолчанию, таких как <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="aa124-270">Using this setting makes sure that the settings do not come from the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] for text elements that have "User" as the default, such as <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="aa124-271">Пример:</span><span class="sxs-lookup"><span data-stu-id="aa124-271">For example:</span></span>  
  
||  
|-|  
|`<TextBlock`<br /><br /> `Name="text1" NumberSubstitution.CultureSource="Text">`<br /><br /> `1234+5679=6913`<br /><br /> `</TextBlock>`|  
  
 <span data-ttu-id="aa124-272">В соответствующем [!INCLUDE[TLA2#tla_lhcshrp](../../../../includes/tla2sharptla-lhcshrp-md.md)] кода, задайте `Language` свойство так, чтобы `"ar-SA"`.</span><span class="sxs-lookup"><span data-stu-id="aa124-272">In the corresponding [!INCLUDE[TLA2#tla_lhcshrp](../../../../includes/tla2sharptla-lhcshrp-md.md)] code, set the `Language` property for example, to `"ar-SA"`.</span></span>  
  
||  
|-|  
|`text1.Language =`<br /><br /> `System.Windows.Markup.XmlLanguage.GetLanguage("ar-SA");`|  
  
 <span data-ttu-id="aa124-273">Если необходимо задать `Language` свойство текущему пользователю [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] языка с помощью следующего кода.</span><span class="sxs-lookup"><span data-stu-id="aa124-273">If you need to set the `Language` property to the current user’s [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] language use the following code.</span></span>  
  
||  
|-|  
|`text1.Language =`<br /><br /> `System.Windows.Markup.XmlLanguage.GetLanguage(`<br /><br /> `System.Globalization.CultureInfo.CurrentUICulture.IetfLanguageTag);`|  
  
 <span data-ttu-id="aa124-274"><xref:System.Globalization.CultureInfo.CurrentCulture%2A>представляет текущий язык и региональные параметры, используемые текущим потоком во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="aa124-274"><xref:System.Globalization.CultureInfo.CurrentCulture%2A> represents the current culture used by the current thread at run time.</span></span>  
  
 <span data-ttu-id="aa124-275">Окончательный [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] примере должен выглядеть следующим образом.</span><span class="sxs-lookup"><span data-stu-id="aa124-275">Your final [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] example should be similar to the following example.</span></span>  
  
 [!code-xaml[Numbers2#Numbers2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers2/CS/Window1.xaml#numbers2)]  
  
 <span data-ttu-id="aa124-276">Окончательный [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] пример должен быть подобен следующему.</span><span class="sxs-lookup"><span data-stu-id="aa124-276">Your final [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] example should be similar to the following.</span></span>  
  
 [!code-csharp[NumbersCSharp#NumbersCSharp](../../../../samples/snippets/csharp/VS_Snippets_Wpf/NumbersCSharp/CSharp/Window1.xaml.cs#numberscsharp)]  
  
 <span data-ttu-id="aa124-277">На следующем рисунке показано, как выглядит окно для каждого языка программирования.</span><span class="sxs-lookup"><span data-stu-id="aa124-277">The following graphic shows what the window looks like for either programming language.</span></span>  
  
 <span data-ttu-id="aa124-278">**Рисунок, иллюстрирующий арабские числа**</span><span class="sxs-lookup"><span data-stu-id="aa124-278">**Graphic That Displays Arabic Numbers**</span></span>  
  
 <span data-ttu-id="aa124-279">![Арабские числа](../../../../docs/framework/wpf/advanced/media/numbers2.PNG "Numbers2")</span><span class="sxs-lookup"><span data-stu-id="aa124-279">![Arabic numbers](../../../../docs/framework/wpf/advanced/media/numbers2.PNG "Numbers2")</span></span>  
  
 <span data-ttu-id="aa124-280">**Использование свойства подстановки**</span><span class="sxs-lookup"><span data-stu-id="aa124-280">**Using the Substitution Property**</span></span>  
  
 <span data-ttu-id="aa124-281">Способ работы замены числа [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] зависит от языка текста элемента и его <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="aa124-281">The way number substitution works in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] depends on both the Language of the text element and its <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="aa124-282">Если <xref:System.Windows.FlowDirection> слева направо, то отображаются европейские цифры.</span><span class="sxs-lookup"><span data-stu-id="aa124-282">If the <xref:System.Windows.FlowDirection> is left to right, then European digits are rendered.</span></span> <span data-ttu-id="aa124-283">Однако если ему предшествует арабский текст или задан язык «ar» и <xref:System.Windows.FlowDirection> — <xref:System.Windows.FlowDirection.RightToLeft>, отображаются арабские цифры.</span><span class="sxs-lookup"><span data-stu-id="aa124-283">However if it is preceded by Arabic text, or has the language set to "ar" and the <xref:System.Windows.FlowDirection> is <xref:System.Windows.FlowDirection.RightToLeft>, Arabic digits are rendered instead.</span></span>  
  
 <span data-ttu-id="aa124-284">В некоторых случаях может потребоваться создание универсального приложения, например с европейскими цифрами для всех пользователей.</span><span class="sxs-lookup"><span data-stu-id="aa124-284">In some cases, however, you might want to create a unified application, for example European digits for all users.</span></span> <span data-ttu-id="aa124-285">Или арабские цифры в <xref:System.Windows.Documents.Table> ячеек с определенным <xref:System.Windows.Style>.</span><span class="sxs-lookup"><span data-stu-id="aa124-285">Or Arabic digits in <xref:System.Windows.Documents.Table> cells with a specific <xref:System.Windows.Style>.</span></span> <span data-ttu-id="aa124-286">Один простой способ выполнения которой используется <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="aa124-286">One easy way to do that is using the <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property.</span></span>  
  
 <span data-ttu-id="aa124-287">В следующем примере первый <xref:System.Windows.Controls.TextBlock> не имеет <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> свойство задано, поэтому алгоритм будет отображаться арабские цифры должным образом.</span><span class="sxs-lookup"><span data-stu-id="aa124-287">In the following example, the first <xref:System.Windows.Controls.TextBlock> does not have the <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property set, so the algorithm displays Arabic digits as expected.</span></span> <span data-ttu-id="aa124-288">Однако во втором <xref:System.Windows.Controls.TextBlock>, подстановка задана как европейская переопределяет замену по умолчанию для арабских цифр и отображаются европейские цифры.</span><span class="sxs-lookup"><span data-stu-id="aa124-288">However in the second <xref:System.Windows.Controls.TextBlock>, the substitution is set to European overriding the default substitution for Arabic numbers, and European digits are displayed.</span></span>  
  
 [!code-xaml[Numbers3#Numbers3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers3/CS/Window1.xaml#numbers3)]
