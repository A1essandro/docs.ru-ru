---
title: "Вопросы, связанные с макетом элемента WindowsFormsHost"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- WindowsFormsHost element layout considerations [WPF]
- dynamic layout [WPF interoperability]
- device-independent pixels
ms.assetid: 3c574597-bbde-440f-95cc-01371f1a5d9d
caps.latest.revision: "20"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: d21077e6012f8e48a1418f67e8f0d156d82003c3
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="layout-considerations-for-the-windowsformshost-element"></a><span data-ttu-id="3bfc8-102">Вопросы, связанные с макетом элемента WindowsFormsHost</span><span class="sxs-lookup"><span data-stu-id="3bfc8-102">Layout Considerations for the WindowsFormsHost Element</span></span>
<span data-ttu-id="3bfc8-103">В этом разделе описывается как <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент взаимодействует с [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] система макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-103">This topic describes how the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element interacts with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="3bfc8-104">и [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] поддерживают разные, но похожую логику для изменения размера и размещения элементов на форму или страницу.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-104"> and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] support different, but similar, logic for sizing and positioning elements on a form or page.</span></span> <span data-ttu-id="3bfc8-105">При создании гибридного пользовательского интерфейса (UI), на котором размещена [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элементы управления в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент объединяет две схемы макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-105">When you create a hybrid user interface (UI) that hosts [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element integrates the two layout schemes.</span></span>  
  
## <a name="differences-in-layout-between-wpf-and-windows-forms"></a><span data-ttu-id="3bfc8-106">Различия в макет WPF и Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3bfc8-106">Differences in Layout Between WPF and Windows Forms</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="3bfc8-107">используя макет зависящая от разрешения.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-107"> uses resolution-independent layout.</span></span> <span data-ttu-id="3bfc8-108">Все [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] измерения макета задаются с помощью *аппаратно независимых пикселях*.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-108">All [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout dimensions are specified using *device-independent pixels*.</span></span> <span data-ttu-id="3bfc8-109">Аппаратно независимый пиксель — одну девяносто шестую дюйма размера и разрешения, чтобы получить аналогичные результаты независимо от того, вы отрисовывают монитор 72 dpi или на принтер 19200 dpi.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-109">A device-independent pixel is one ninety-sixth of an inch in size and resolution-independent, so you get similar results regardless of whether you are rendering to a 72-dpi monitor or a 19,200-dpi printer.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="3bfc8-110">также основана на *динамический макет*.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-110"> is also based on *dynamic layout*.</span></span> <span data-ttu-id="3bfc8-111">Это означает, что элемент пользовательского интерфейса располагается на формы или страницы в соответствии с его содержимым, родительского контейнера макета и доступным размером экрана.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-111">This means that a UI element arranges itself on a form or page according to its content, its parent layout container, and the available screen size.</span></span> <span data-ttu-id="3bfc8-112">Динамический макет упрощает локализацию, автоматически изменяя размер и положение элементов пользовательского интерфейса, когда строки, содержащиеся в них изменения длины.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-112">Dynamic layout facilitates localization by automatically adjusting the size and position of UI elements when the strings they contain change length.</span></span>  
  
 <span data-ttu-id="3bfc8-113">Макет в [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] зависящие от устройства, и скорее всего, будут статическими.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-113">Layout in [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] is device-dependent and more likely to be static.</span></span> <span data-ttu-id="3bfc8-114">Как правило [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элементы управления расположены точно на форме с использованием измерений, указанных в пикселях оборудования.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-114">Typically, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls are positioned absolutely on a form using dimensions specified in hardware pixels.</span></span> <span data-ttu-id="3bfc8-115">Тем не менее [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] поддерживает некоторые возможности динамического макета, показанных в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-115">However, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] does support some dynamic layout features, as summarized in the following table.</span></span>  
  
|<span data-ttu-id="3bfc8-116">Функция разметки</span><span class="sxs-lookup"><span data-stu-id="3bfc8-116">Layout feature</span></span>|<span data-ttu-id="3bfc8-117">Описание</span><span class="sxs-lookup"><span data-stu-id="3bfc8-117">Description</span></span>|  
|--------------------|-----------------|  
|<span data-ttu-id="3bfc8-118">Автоматическое изменение размера</span><span class="sxs-lookup"><span data-stu-id="3bfc8-118">Autosizing</span></span>|<span data-ttu-id="3bfc8-119">Некоторые [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] размера элементов управления, целью верного отображения их содержимого.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-119">Some [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls resize themselves to display their contents properly.</span></span> <span data-ttu-id="3bfc8-120">Дополнительные сведения см. в разделе [Общие](../../../../docs/framework/winforms/controls/autosize-property-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3bfc8-120">For more information, see [AutoSize Property Overview](../../../../docs/framework/winforms/controls/autosize-property-overview.md).</span></span>|  
|<span data-ttu-id="3bfc8-121">Привязка и закрепление</span><span class="sxs-lookup"><span data-stu-id="3bfc8-121">Anchoring and docking</span></span>|[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="3bfc8-122">элементы управления поддерживают размещение и изменение размера, основанное на родительском контейнере.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-122"> controls support positioning and sizing based on the parent container.</span></span> <span data-ttu-id="3bfc8-123">Дополнительные сведения см. в разделах <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> и <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-123">For more information, see <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="3bfc8-124">Автоматическое масштабирование</span><span class="sxs-lookup"><span data-stu-id="3bfc8-124">Autoscaling</span></span>|<span data-ttu-id="3bfc8-125">Контейнерные элементы управления изменение размера себя и своих дочерних элементов, на основе разрешения устройства вывода или размер в пикселях шрифт контейнера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-125">Container controls resize themselves and their children based on the resolution of the output device or the size, in pixels, of the default container font.</span></span> <span data-ttu-id="3bfc8-126">Дополнительные сведения см. в разделе [автоматическое масштабирование в Windows Forms](../../../../docs/framework/winforms/automatic-scaling-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="3bfc8-126">For more information, see [Automatic Scaling in Windows Forms](../../../../docs/framework/winforms/automatic-scaling-in-windows-forms.md).</span></span>|  
|<span data-ttu-id="3bfc8-127">Контейнеры макета</span><span class="sxs-lookup"><span data-stu-id="3bfc8-127">Layout containers</span></span>|<span data-ttu-id="3bfc8-128"><xref:System.Windows.Forms.FlowLayoutPanel> И <xref:System.Windows.Forms.TableLayoutPanel> элементы управления упорядочить их дочерние элементы управления и размер самостоятельно, в зависимости от их содержимого.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-128">The <xref:System.Windows.Forms.FlowLayoutPanel> and <xref:System.Windows.Forms.TableLayoutPanel> controls arrange their child controls and size themselves according to their contents.</span></span>|  
  
## <a name="layout-limitations"></a><span data-ttu-id="3bfc8-129">Ограничения для макета</span><span class="sxs-lookup"><span data-stu-id="3bfc8-129">Layout Limitations</span></span>  
 <span data-ttu-id="3bfc8-130">Как правило [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элементы управления нельзя масштабировать и преобразованы в возможный размер в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3bfc8-130">In general, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls cannot be scaled and transformed to the extent possible in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="3bfc8-131">Ниже перечислены известные ограничения при <xref:System.Windows.Forms.Integration.WindowsFormsHost> пытается интегрировать его вложенный элемент [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] управления в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] система макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-131">The following list describes the known limitations when the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to integrate its hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control into the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
-   <span data-ttu-id="3bfc8-132">В некоторых случаях размеры элемента управления [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] изменять нельзя, или же их можно изменять, но только в фиксированных пределах.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-132">In some cases, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls cannot be resized, or can be sized only to specific dimensions.</span></span> <span data-ttu-id="3bfc8-133">Например [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] <xref:System.Windows.Forms.ComboBox> элемент управления поддерживает только одну высоту, которая определяется размером шрифта элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-133">For example, a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] <xref:System.Windows.Forms.ComboBox> control supports only a single height, which is defined by the control's font size.</span></span> <span data-ttu-id="3bfc8-134">В [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] динамический макет, где элементы можно растянуть по вертикали, вложенный <xref:System.Windows.Forms.ComboBox> управления не растягивается, как ожидалось.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-134">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dynamic layout where elements can stretch vertically, a hosted <xref:System.Windows.Forms.ComboBox> control will not stretch as expected.</span></span>  
  
-   <span data-ttu-id="3bfc8-135">Элементы управления [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] нельзя поворачивать или наклонять.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-135">[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls cannot be rotated or skewed.</span></span> <span data-ttu-id="3bfc8-136"><xref:System.Windows.Forms.Integration.WindowsFormsHost> Вызывает элемент <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> событий при применении преобразования наклона или поворота.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-136">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element raises the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event if you apply a skew or rotation transformation.</span></span> <span data-ttu-id="3bfc8-137">Если не обработать <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> событий, <xref:System.InvalidOperationException> возникает.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-137">If you do not handle the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event, an <xref:System.InvalidOperationException> is raised.</span></span>  
  
-   <span data-ttu-id="3bfc8-138">В большинстве случаев элементы управления [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] не поддерживают пропорциональное масштабирование.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-138">In most cases, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls do not support proportional scaling.</span></span> <span data-ttu-id="3bfc8-139">Несмотря на то, что общий размер элемента управления масштабируется, дочерние элементы управления и компоненты элемента управления могут изменять размеры не так, как ожидается.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-139">Although the overall dimensions of the control will scale, child controls and component elements of the control may not resize as expected.</span></span> <span data-ttu-id="3bfc8-140">Это ограничение зависит от поддержки масштабирования каждым элементом управления [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3bfc8-140">This limitation depends on how well each [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control supports scaling.</span></span> <span data-ttu-id="3bfc8-141">Кроме того, нельзя масштабировать [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элементов управления до размера 0 пикселей.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-141">In addition, you cannot scale [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls down to a size of 0 pixels.</span></span>  
  
-   [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="3bfc8-142">элементы управления поддерживают автоматическое масштабирование, в котором формы будут автоматически изменены и его элементы управления, в зависимости от размера шрифта.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-142"> controls support autoscaling, in which the form will automatically resize itself and its controls based on the font size.</span></span> <span data-ttu-id="3bfc8-143">В пользовательском интерфейсе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] изменение размера шрифта не влечет за собой изменение размера всего макета, хотя отдельные элементы могут динамически изменять размер.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-143">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, changing the font size does not resize the entire layout, although individual elements may dynamically resize.</span></span>  
  
### <a name="z-order"></a><span data-ttu-id="3bfc8-144">Z-порядок</span><span class="sxs-lookup"><span data-stu-id="3bfc8-144">Z-order</span></span>  
 <span data-ttu-id="3bfc8-145">В пользовательском интерфейсе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] можно изменить z-порядок элементов для контроля поведения перекрывания.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-145">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, you can change the z-order of elements to control overlapping behavior.</span></span> <span data-ttu-id="3bfc8-146">Вложенный элемент управления [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] рисуется в отдельном HWND, причем он всегда рисуется поверх элементов [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3bfc8-146">A hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control is drawn in a separate HWND, so it is always drawn on top of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements.</span></span>  
  
 <span data-ttu-id="3bfc8-147">Вложенный [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] управления также отображается поверх любых <xref:System.Windows.Documents.Adorner> элементов.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-147">A hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control is also drawn on top of any <xref:System.Windows.Documents.Adorner> elements.</span></span>  
  
## <a name="layout-behavior"></a><span data-ttu-id="3bfc8-148">Поведение макета</span><span class="sxs-lookup"><span data-stu-id="3bfc8-148">Layout Behavior</span></span>  
 <span data-ttu-id="3bfc8-149">В следующих разделах описаны определенные аспекты поведения макета при размещении [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элементы управления в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3bfc8-149">The following sections describe specific aspects of layout behavior when hosting [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="scaling-unit-conversion-and-device-independence"></a><span data-ttu-id="3bfc8-150">Масштабирование, преобразованием единиц измерения и независимость от оборудования</span><span class="sxs-lookup"><span data-stu-id="3bfc8-150">Scaling, Unit Conversion, and Device Independence</span></span>  
 <span data-ttu-id="3bfc8-151">Каждый раз, когда <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент выполняет операции, связанные с [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] и [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] участвующих измерения две системы координат: аппаратно независимых пикселях для [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] и пикселей оборудования для [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3bfc8-151">Whenever the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element performs operations involving [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] dimensions, two coordinate systems are involved: device-independent pixels for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and hardware pixels for [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span></span> <span data-ttu-id="3bfc8-152">Таким образом необходимо установить правильную модульных и преобразования масштабирования, чтобы добиться согласованного макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-152">Therefore, you must apply proper unit and scaling conversions to achieve a consistent layout.</span></span>  
  
 <span data-ttu-id="3bfc8-153">Преобразование между системами координат зависит от текущего разрешения устройства и любого макета или преобразований отрисовки, примененных к <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент или его предки.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-153">Conversion between the coordinate systems depends on the current device resolution and any layout or rendering transforms applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element or to its ancestors.</span></span>  
  
 <span data-ttu-id="3bfc8-154">Если устройство вывода 96 dpi, без масштабирования, примененных к <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент, один аппаратно независимый пиксель равен одному пикселю оборудования.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-154">If the output device is 96 dpi and no scaling has been applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, one device-independent pixel is equal to one hardware pixel.</span></span>  
  
 <span data-ttu-id="3bfc8-155">Во всех остальных случаях требуется масштабирование системы координат.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-155">All other cases require coordinate system scaling.</span></span> <span data-ttu-id="3bfc8-156">Размещаемый элемент управления не изменяется.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-156">The hosted control is not resized.</span></span> <span data-ttu-id="3bfc8-157">Вместо этого <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент пытается масштабировать размещенного элемента управления и всех его дочерних элементов управления.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-157">Instead, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to scale the hosted control and all of its child controls.</span></span> <span data-ttu-id="3bfc8-158">Поскольку [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] не полностью поддерживает масштабирование, <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент масштабируется до степени, поддерживаемой определенными элементами управления.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-158">Because [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] does not fully support scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element scales to the degree supported by particular controls.</span></span>  
  
 <span data-ttu-id="3bfc8-159">Переопределить <xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> метод для предоставления пользовательского поведения масштабирования для размещаемого [!INCLUDE[TLA2#tla_winforms](../../../../includes/tla2sharptla-winforms-md.md)] элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-159">Override the <xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> method to provide custom scaling behavior for the hosted [!INCLUDE[TLA2#tla_winforms](../../../../includes/tla2sharptla-winforms-md.md)] control.</span></span>  
  
 <span data-ttu-id="3bfc8-160">Дополнение к масштабированию, <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент обрабатывает случаи округления и переполнения, как описано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-160">In addition to scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element handles rounding and overflow cases as described in the following table.</span></span>  
  
|<span data-ttu-id="3bfc8-161">Проблема преобразования</span><span class="sxs-lookup"><span data-stu-id="3bfc8-161">Conversion issue</span></span>|<span data-ttu-id="3bfc8-162">Описание</span><span class="sxs-lookup"><span data-stu-id="3bfc8-162">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="3bfc8-163">Округление</span><span class="sxs-lookup"><span data-stu-id="3bfc8-163">Rounding</span></span>|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="3bfc8-164">аппаратно независимый пиксель измерения задаются в виде `double`, и [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] оборудования пикселах задаются в виде `int`.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-164"> device-independent pixel dimensions are specified as `double`, and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] hardware pixel dimensions are specified as `int`.</span></span> <span data-ttu-id="3bfc8-165">В случаях, где `double`-измерения, основанные на преобразуются в `int`-на основе измерений, <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент использует стандартное округление, поэтому дробные значения меньше 0,5 округляются до 0.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-165">In cases where `double`-based dimensions are converted to `int`-based dimensions, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses standard rounding, so that fractional values less than 0.5 are rounded down to 0.</span></span>|  
|<span data-ttu-id="3bfc8-166">Переполнение</span><span class="sxs-lookup"><span data-stu-id="3bfc8-166">Overflow</span></span>|<span data-ttu-id="3bfc8-167">При <xref:System.Windows.Forms.Integration.WindowsFormsHost> преобразует элемент из `double` значения `int` значения, возможна переполнения.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-167">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element converts from `double` values to `int` values, overflow is possible.</span></span> <span data-ttu-id="3bfc8-168">Значения, превышающие <xref:System.Int32.MaxValue> присваиваются <xref:System.Int32.MaxValue>.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-168">Values that are larger than <xref:System.Int32.MaxValue> are set to <xref:System.Int32.MaxValue>.</span></span>|  
  
### <a name="layout-related-properties"></a><span data-ttu-id="3bfc8-169">Свойства, связанные с макетом</span><span class="sxs-lookup"><span data-stu-id="3bfc8-169">Layout-related Properties</span></span>  
 <span data-ttu-id="3bfc8-170">Свойства, управляющие поведением макета в [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элементов управления и [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] элементов сопоставляются соответствующим образом с <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемента.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-170">Properties that control layout behavior in [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements are mapped appropriately by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element.</span></span> <span data-ttu-id="3bfc8-171">Дополнительные сведения см. в разделе [Сопоставление свойств Windows Forms и WPF](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="3bfc8-171">For more information, see [Windows Forms and WPF Property Mapping](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md).</span></span>  
  
### <a name="layout-changes-in-the-hosted-control"></a><span data-ttu-id="3bfc8-172">Изменения макета в размещенном элементе управления</span><span class="sxs-lookup"><span data-stu-id="3bfc8-172">Layout Changes in the Hosted Control</span></span>  
 <span data-ttu-id="3bfc8-173">Изменения макета в размещаемом [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] управления распространяются на [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] для запуска обновлений макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-173">Layout changes in the hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control are propagated to [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to trigger layout updates.</span></span> <span data-ttu-id="3bfc8-174"><xref:System.Windows.UIElement.InvalidateMeasure%2A> Метод <xref:System.Windows.Forms.Integration.WindowsFormsHost> гарантирует, что изменения макета в размещенном элементе управления вызывают [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] запуск обработчика макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-174">The <xref:System.Windows.UIElement.InvalidateMeasure%2A> method on <xref:System.Windows.Forms.Integration.WindowsFormsHost> ensures that layout changes in the hosted control cause the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout engine to run.</span></span>  
  
### <a name="continuously-sized-windows-forms-controls"></a><span data-ttu-id="3bfc8-175">Постоянно размера элементов управления Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3bfc8-175">Continuously Sized Windows Forms Controls</span></span>  
 [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="3bfc8-176">элементы управления, которые поддерживают непрерывное масштабирование, полностью взаимодействуют с [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] система макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-176"> controls that support continuous scaling fully interact with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span> <span data-ttu-id="3bfc8-177"><xref:System.Windows.Forms.Integration.WindowsFormsHost> Элемент использует <xref:System.Windows.FrameworkElement.MeasureOverride%2A> и <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> методы обычным для определения размеров и расположения размещенного [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-177">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods as usual to size and arrange the hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control.</span></span>  
  
### <a name="sizing-algorithm"></a><span data-ttu-id="3bfc8-178">Алгоритм изменения размера</span><span class="sxs-lookup"><span data-stu-id="3bfc8-178">Sizing Algorithm</span></span>  
 <span data-ttu-id="3bfc8-179"><xref:System.Windows.Forms.Integration.WindowsFormsHost> Элемент использует следующую процедуру для определения размера размещенного элемента управления:</span><span class="sxs-lookup"><span data-stu-id="3bfc8-179">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the following procedure to size the hosted control:</span></span>  
  
1.  <span data-ttu-id="3bfc8-180"><xref:System.Windows.Forms.Integration.WindowsFormsHost> Переопределяет <xref:System.Windows.FrameworkElement.MeasureOverride%2A> и <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> методы.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-180">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element overrides the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods.</span></span>  
  
2.  <span data-ttu-id="3bfc8-181">Для определения размера размещенного элемента управления <xref:System.Windows.FrameworkElement.MeasureOverride%2A> метод вызывает размещенного элемента управления <xref:System.Windows.Forms.Control.GetPreferredSize%2A> метод с ограничением, полученным от ограничения, передаваемый <xref:System.Windows.FrameworkElement.MeasureOverride%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-181">To determine the size of the hosted control, the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method calls the hosted control's <xref:System.Windows.Forms.Control.GetPreferredSize%2A> method with a constraint translated from the constraint passed to the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method.</span></span>  
  
3.  <span data-ttu-id="3bfc8-182"><xref:System.Windows.FrameworkElement.ArrangeOverride%2A> Метод пытается задать размещенного элемента управления с ограничением заданного размера.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-182">The <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> method attempts to set the hosted control to the given size constraint.</span></span>  
  
4.  <span data-ttu-id="3bfc8-183">Если размещенного элемента управления <xref:System.Windows.Forms.Control.Size%2A> соответствует указанным ограничениям, размещенного элемента управления изменяется в ограничение.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-183">If the hosted control's <xref:System.Windows.Forms.Control.Size%2A> property matches the specified constraint, the hosted control is sized to the constraint.</span></span>  
  
 <span data-ttu-id="3bfc8-184">Если <xref:System.Windows.Forms.Control.Size%2A> свойства не соответствует указанным ограничениям, размещаемый элемент управления не поддерживает постоянное изменение размера.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-184">If the <xref:System.Windows.Forms.Control.Size%2A> property does not match the specified constraint, the hosted control does not support continuous sizing.</span></span> <span data-ttu-id="3bfc8-185">Например <xref:System.Windows.Forms.MonthCalendar> управления допускает только дискретные размеры.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-185">For example, the <xref:System.Windows.Forms.MonthCalendar> control allows only discrete sizes.</span></span> <span data-ttu-id="3bfc8-186">Разрешенные размеры для данного элемента управления состоят из целых чисел (представляющие номер месяца) для высоты и ширины.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-186">The permitted sizes for this control consist of integers (representing the number of months) for both height and width.</span></span> <span data-ttu-id="3bfc8-187">В подобных случаях <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент ведет себя следующим образом:</span><span class="sxs-lookup"><span data-stu-id="3bfc8-187">In cases such as this, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element behaves as follows:</span></span>  
  
-   <span data-ttu-id="3bfc8-188">Если <xref:System.Windows.Forms.Control.Size%2A> свойство возвращает большего размера, чем указанное ограничение, <xref:System.Windows.Forms.Integration.WindowsFormsHost> элемент отсекает размещенного элемента управления.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-188">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a larger size than the specified constraint, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element clips the hosted control.</span></span> <span data-ttu-id="3bfc8-189">Высота и ширина обрабатываются отдельно, поэтому размещаемый элемент управления может быть ограничен в любом направлении.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-189">Height and width are handled separately, so the hosted control may be clipped in either direction.</span></span>  
  
-   <span data-ttu-id="3bfc8-190">Если <xref:System.Windows.Forms.Control.Size%2A> свойство возвращает меньший размер, чем указанное ограничение, <xref:System.Windows.Forms.Integration.WindowsFormsHost> принимает это значение размера и возвращает значение для [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] система макета.</span><span class="sxs-lookup"><span data-stu-id="3bfc8-190">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a smaller size than the specified constraint, <xref:System.Windows.Forms.Integration.WindowsFormsHost> accepts this size value and returns the value to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3bfc8-191">См. также</span><span class="sxs-lookup"><span data-stu-id="3bfc8-191">See Also</span></span>  
 <xref:System.Windows.Forms.Integration.ElementHost>  
 <xref:System.Windows.Forms.Integration.WindowsFormsHost>  
 [<span data-ttu-id="3bfc8-192">Пошаговое руководство. Упорядочение элементов управления Windows Forms в приложении WPF</span><span class="sxs-lookup"><span data-stu-id="3bfc8-192">Walkthrough: Arranging Windows Forms Controls in WPF</span></span>](../../../../docs/framework/wpf/advanced/walkthrough-arranging-windows-forms-controls-in-wpf.md)  
 [<span data-ttu-id="3bfc8-193">Элементы управления упорядочение Windows Forms в образце WPF</span><span class="sxs-lookup"><span data-stu-id="3bfc8-193">Arranging Windows Forms Controls in WPF Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159971)  
 [<span data-ttu-id="3bfc8-194">Сопоставление свойств Windows Forms и WPF</span><span class="sxs-lookup"><span data-stu-id="3bfc8-194">Windows Forms and WPF Property Mapping</span></span>](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md)  
 [<span data-ttu-id="3bfc8-195">Миграция и взаимодействие систем</span><span class="sxs-lookup"><span data-stu-id="3bfc8-195">Migration and Interoperability</span></span>](../../../../docs/framework/wpf/advanced/migration-and-interoperability.md)
