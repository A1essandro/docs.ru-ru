---
title: "Уровни графической отрисовки | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-wpf"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "уровни графической отрисовки"
  - "графика, производительность"
  - "графика, уровни отрисовки"
  - "отрисовка графики"
  - "уровни отрисовки"
ms.assetid: 08dd1606-02a2-4122-9351-c0afd2ec3a70
caps.latest.revision: 44
author: "dotnet-bot"
ms.author: "dotnetcontent"
manager: "wpickett"
caps.handback.revision: 43
---
# Уровни графической отрисовки
Уровень отрисовки определяет возможности графического оборудования и производительности для устройства, которое запускает приложение [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
   
  
<a name="graphics_hardware"></a>   
## Графическое оборудование  
 Возможности графического оборудования, которые влияют на отрисовку перед выводом на экран:  
  
-   **Видеопамять**. Объем видео памяти графического оборудования определяет размер и число буферов, которые могут использоваться для компоновки графики.  
  
-   **Построитель текстуры**. Построитель текстуры представляет собой функцию обработки графики, предназначенную для вычисления эффектов на уровне пикселей.  В зависимости от разрешения отображаемой графики, число обрабатываемых для каждого отображаемого кадра пикселей может достигать нескольких миллионов.  
  
-   **Вершинный построитель текстуры**. Вершинный построитель текстуры представляет собой функцию обработки графики, которая используется для выполнения математических операций над данными вершин объекта.  
  
-   **Многотекстурная поддержка**. Многотекстурная поддержка предоставляет возможность применения двух или более различных текстур во время операции смешения текстур для трехмерных графических объектов.  Степень многотекстурной поддержки определяется числом многотекстурных модулей на графическом оборудовании.  
  
<a name="rendering_tier_definitions"></a>   
## Определения уровня отрисовки  
 Возможности графического оборудования определяют возможности отрисовки приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  В системе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] определены три уровня отрисовки:  
  
-   **Уровень отрисовки 0**. Аппаратное ускорение графики не используется.  Все графические возможности реализуются с использованием программного ускорения графики.  Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] ниже 9.0.  
  
-   **Уровень отрисовки 1**. Часть графических возможностей реализуется с использованием аппаратного ускорения графики.  Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] не ниже 9.0.  
  
-   **Уровень отрисовки 2**. Большая часть графических возможностей реализуется с использованием аппаратного ускорения графики.  Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] не ниже 9.0.  
  
 Свойство <xref:System.Windows.Media.RenderCapability.Tier%2A?displayProperty=fullName> позволяет извлечь уровень отрисовки в выполняемом приложении.  Уровень отрисовки используется, чтобы определить, поддерживает ли устройство графику с возможностями аппаратного ускорения.  Приложение может определить различный путь к коду во время выполнения, в зависимости от уровня отрисовки, который поддерживает устройство.  
  
### Уровень отрисовки 0  
 Уровень отрисовки 0 означает, что графическое оборудование не поддерживает аппаратное ускорение для приложения.  На этом уровне необходимо предполагать, что графика будет отображаться программными средствами без аппаратного ускорения.  Этот функциональный уровень соответствует версии [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] ниже 9.0.  
  
### Уровни отрисовки 1 и 2  
  
> [!NOTE]
>  Начиная с версии .NET Framework 4, уровень отрисовки 1 переопределен для включения только графического оборудования, поддерживающего [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] 9.0 или более высокой версии.  Графическое оборудование, которое поддерживает версии [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] 7 и 8, теперь определяется как уровень отрисовки 0.  
  
 Уровень отрисовки 1 или 2 означает, что большая часть графических возможностей [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] будет использовать аппаратное ускорение при условии, что необходимые системные ресурсы доступны и не исчерпаны.  Это соответствует версии [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] не ниже 9.0.  
  
 В следующей таблице показаны различия между требованиями к графическому оборудованию для уровней отрисовки 1 и 2.  
  
|Функция|Уровень 1|Уровень 2|  
|-------------|---------------|---------------|  
|Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)]|Должна быть не ниже 9.0.|Должна быть не ниже 9.0.|  
|Видео память|Должна быть не менее 60 МБ.|Должна быть не менее 120 МБ.|  
|Построитель текстуры|Версия должна быть не ниже 2.0.|Версия должна быть не ниже 2.0.|  
|Вершинный построитель текстуры|Требования отсутствуют.|Версия должна быть не ниже 2.0.|  
|Модули мультитекстурирования|Требования отсутствуют.|Число единиц должно быть не менее 4.|  
  
 Следующие функции и возможности поддерживаются аппаратным ускорением для уровней отрисовки 1 и 2.  
  
|Функция|Примечания|  
|-------------|----------------|  
|Двухмерная отрисовка|Поддерживается большая часть двухмерной отрисовки.|  
|Трехмерная растеризация|Поддерживается большинство трехмерных растеризаций.|  
|Трехмерная анизотропная фильтрация|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] пытается использовать анизотропную фильтрацию при отрисовке трехмерного содержимого.  Анизотропная фильтрация позволяет повысить качество изображения текстур на поверхности, которая находится далеко и круто повернута по отношению к камере.|  
|Трехмерный мипмэппинг|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] пытается использовать мипмэппинг при отрисовке трехмерного содержимого. Мипмэппинг улучшает качество отображаемой текстуры, когда текстура занимает меньшее поле зрения в <xref:System.Windows.Controls.Viewport3D>.|  
|Радиальный градиент|Пока поддерживается, избегайте использования <xref:System.Windows.Media.RadialGradientBrush> для больших объектов.|  
|Вычисления 3D освещения|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] выполняет повершинное освещение, т. е. интенсивность света рассчитывается для каждой вершины каждого материала, наложенного на сетку.|  
|Отрисовка текста|Отрисовка субпиксельного шрифта использует доступный построитель текстуры на графическом оборудовании.|  
  
 Следующие функции и возможности поддерживаются аппаратным ускорением только для уровня отрисовки 2.  
  
|Функция|Примечания|  
|-------------|----------------|  
|Трехмерное сглаживание|Трехмерное сглаживание поддерживается только в операционных системах, поддерживающих модель WDDM, например в [!INCLUDE[TLA2#tla_winvista](../../../../includes/tla2sharptla-winvista-md.md)] и [!INCLUDE[win7](../../../../includes/win7-md.md)].|  
  
 Следующие функции и возможности **не** поддерживаются аппаратным ускорением.  
  
|Функция|Примечания|  
|-------------|----------------|  
|Вывод содержимого|Все содержимое вывода отображается с помощью программного конвейера [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].|  
|Растеризованное содержимое, использующее <xref:System.Windows.Media.Imaging.RenderTargetBitmap>|Любое содержимое отображается с помощью метода <xref:System.Windows.Media.Imaging.RenderTargetBitmap.Render%2A> класса <xref:System.Windows.Media.Imaging.RenderTargetBitmap>.|  
|Мозаичное содержимое, использующее <xref:System.Windows.Media.TileBrush>|Любое мозаичное содержимое, в котором свойству <xref:System.Windows.Media.TileBrush.TileMode%2A> для <xref:System.Windows.Media.TileBrush> присвоено <xref:System.Windows.Media.TileMode>.|  
|Поверхности, которые превышают максимальный размер текстуры графического оборудования|Для большинства графических устройств, большие поверхности имеют размер 2048x2048 или 4096x4096 пикселей.|  
|Любая операция, требования к видео памяти которой превышают память графического оборудования.|Можно отслеживать использование видео памяти приложения, используя средство Perforator, которое входит в состав [WPF Performance Suite](../Topic/WPF%20Performance%20Suite.md) из пакета Windows SDK.|  
|Многослойные окна|Многослойные окна позволяют приложениям [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] отображать содержимое на экран в непрямоугольном окне.  Многослойные окна используют аппаратное ускорение только в операционных системах, поддерживающих модель WDDM, например в [!INCLUDE[TLA2#tla_winvista](../../../../includes/tla2sharptla-winvista-md.md)] и [!INCLUDE[win7](../../../../includes/win7-md.md)].  В других системах, таких как [!INCLUDE[winxp](../../../../includes/winxp-md.md)], многослойные окна отображаются с помощью программного обеспечения без аппаратного ускорения.<br /><br /> Можно включить многослойные окна в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], задав следующие свойства <xref:System.Windows.Window>:<br /><br /> -   <xref:System.Windows.Window.WindowStyle%2A> \= <xref:System.Windows.WindowStyle><br />-   <xref:System.Windows.Window.AllowsTransparency%2A> \= `true`<br />-   <xref:System.Windows.Controls.Control.Background%2A> \= <xref:System.Windows.Media.Brushes.Transparent%2A>|  
  
<a name="other_resources"></a>   
## Другие ресурсы  
 Следующие ресурсы могут помочь проанализировать характеристики производительности приложения[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
### Настройки реестра графической отрисовки  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляет четыре параметра реестра для управления отрисовкой [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]:  
  
|Параметр|Описание|  
|--------------|--------------|  
|**Опция отключения аппаратного ускорения**|Определяет необходимость включения аппаратного ускорения.|  
|**Максимальное значение мультисэмплинга**|Определяет степень мультисэмплинга для сглаживания [!INCLUDE[TLA2#tla_3d](../../../../includes/tla2sharptla-3d-md.md)] содержимого.|  
|**Требуемый параметр даты видеодрайвера**|Указывает, отключает ли система аппаратное ускорение для драйверов, выпущенных до ноября 2004 г.|  
|**Опция растеризации используемой ссылки**|Определяет, следует ли [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использовать растеризацию ссылок.|  
  
 Эти параметры могут быть доступны для любых служебных программ внешней конфигурации, которые знают, как ссылаться на параметры реестра [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  Эти параметры могут также быть созданы или изменены с помощью доступа к значениям непосредственно с помощью редактора реестра [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].  Дополнительные сведения см. в разделе [Настройки реестра графической отрисовки](../../../../docs/framework/wpf/graphics-multimedia/graphics-rendering-registry-settings.md).  
  
### Средства профилирования производительности WPF  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляет набор средств профилирования производительности, позволяющие анализировать поведение приложения во время выполнения и определять типы оптимизации производительности, которые можно применить.  В следующей таблице перечислены средства профилирования производительности, включенные в средство [!INCLUDE[TLA2#tla_lhsdk](../../../../includes/tla2sharptla-lhsdk-md.md)], WPF Performance Suite:  
  
|Средство|Описание|  
|--------------|--------------|  
|Perforator|Используется для анализа поведения отрисовки.|  
|Visual Profiler|Используется для профилирования использования служб [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], таких как макет или обработка событий элементами в визуальном дереве.|  
  
 Средство WPF Performance Suite предоставляет гибкое графическое представление данных о производительности.  Дополнительные сведения о средствах управления производительностью WPF см. в разделе [WPF Performance Suite](../Topic/WPF%20Performance%20Suite.md).  
  
### DirectX Diagnostic Tool  
 [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] Diagnostic Tool, Dxdiag.exe является средством диагностики [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)].  Папка установки по умолчанию для [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] Diagnostic Tool:  
  
 `~\Windows\System32`  
  
 При запуске [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] Diagnostic Tool главное окно содержит набор вкладок, позволяющих отображать и выявлять ошибки, связанные с [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)].  Например, вкладка **Система** предоставляет сведения о компьютере и определяет версию [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)], установленную на вашем компьютере.  
  
 ![Снимок экрана: инструмент диагностики DirectX](../../../../docs/framework/wpf/advanced/media/directxdiagnostictool-01.png "DirectXDiagnosticTool\_01")  
Главное окно DirectX Diagnostic Tool  
  
## См. также  
 <xref:System.Windows.Media.RenderCapability>   
 <xref:System.Windows.Media.RenderOptions>   
 [Улучшение производительности приложений WPF](../../../../docs/framework/wpf/advanced/optimizing-wpf-application-performance.md)   
 [WPF Performance Suite](../Topic/WPF%20Performance%20Suite.md)   
 [Настройки реестра графической отрисовки](../../../../docs/framework/wpf/graphics-multimedia/graphics-rendering-registry-settings.md)   
 [Советы и рекомендации по анимации](../../../../docs/framework/wpf/graphics-multimedia/animation-tips-and-tricks.md)