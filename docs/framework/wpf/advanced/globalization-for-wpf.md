---
title: "Глобализация для WPF"
ms.date: 03/30/2017
ms.prod: .net-framework
ms.technology: dotnet-wpf
ms.topic: article
helpviewer_keywords:
- XAML [WPF], international user interface
- XAML [WPF], globalization
- international user interface [WPF], XAML
- globalization [WPF]
ms.assetid: 4571ccfe-8a60-4f06-9b37-7ac0b1c2d10f
caps.latest.revision: "35"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: e6f39d40284e6212715d85fece545e653ff2e60a
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="globalization-for-wpf"></a><span data-ttu-id="34136-102">Глобализация для WPF</span><span class="sxs-lookup"><span data-stu-id="34136-102">Globalization for WPF</span></span>
<span data-ttu-id="34136-103">В этом разделе рассматриваются проблемы, которые следует учитывать при написании [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] приложений для глобального рынка.</span><span class="sxs-lookup"><span data-stu-id="34136-103">This topic introduces issues that you should be aware of when writing [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications for the global market.</span></span> <span data-ttu-id="34136-104">Элементы программирования глобализации определены в [!INCLUDE[TLA#tla_net](../../../../includes/tlasharptla-net-md.md)] в `System.Globalization`.</span><span class="sxs-lookup"><span data-stu-id="34136-104">The globalization programming elements are defined in [!INCLUDE[TLA#tla_net](../../../../includes/tlasharptla-net-md.md)] in `System.Globalization`.</span></span>  
  

  
<a name="xaml_globalization"></a>   
## <a name="xaml-globalization"></a><span data-ttu-id="34136-105">Глобализация XAML</span><span class="sxs-lookup"><span data-stu-id="34136-105">XAML Globalization</span></span>  
 [!INCLUDE[TLA#tla_xaml#initcap](../../../../includes/tlasharptla-xamlsharpinitcap-md.md)]<span data-ttu-id="34136-106">на основе [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] и использует преимущества поддержки глобализации, определенные в [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] спецификации.</span><span class="sxs-lookup"><span data-stu-id="34136-106"> is based on [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] and takes advantage of the globalization support defined in the [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] specification.</span></span> <span data-ttu-id="34136-107">В следующих разделах описаны некоторые [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] функции, которые следует обратить внимание.</span><span class="sxs-lookup"><span data-stu-id="34136-107">The following sections describe some [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] features that you should be aware of.</span></span>  
  
<a name="char_reference"></a>   
### <a name="character-references"></a><span data-ttu-id="34136-108">Ссылки символов</span><span class="sxs-lookup"><span data-stu-id="34136-108">Character References</span></span>  
<span data-ttu-id="34136-109">Ссылка на символ дает модуль кода UTF16 конкретного [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] символов, оно представляет в десятичное или шестнадцатеричное.</span><span class="sxs-lookup"><span data-stu-id="34136-109">A character reference gives the UTF16 code unit of the particular [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] character it represents, in either decimal or hexadecimal.</span></span> <span data-ttu-id="34136-110">В следующем примере показано ссылку десятичных цифр по ЗАГЛАВНАЯ буква КОПТСКИЙ или «Ϩ»:</span><span class="sxs-lookup"><span data-stu-id="34136-110">The following example shows a decimal character reference for the COPTIC CAPITAL LETTER HORI, or 'Ϩ':</span></span>

```
&#1000;
```

<span data-ttu-id="34136-111">Следующий пример показывает ссылку шестнадцатеричных цифр.</span><span class="sxs-lookup"><span data-stu-id="34136-111">The following example shows a hexadecimal character reference.</span></span> <span data-ttu-id="34136-112">Обратите внимание, что он имеет **x** перед шестнадцатеричное число.</span><span class="sxs-lookup"><span data-stu-id="34136-112">Notice that it has an **x** in front of the hexadecimal number.</span></span>

```
&#x3E8;
```

<a name="encoding"></a>   
### <a name="encoding"></a><span data-ttu-id="34136-113">кодировка</span><span class="sxs-lookup"><span data-stu-id="34136-113">Encoding</span></span>  
 <span data-ttu-id="34136-114">Поддерживает следующие кодировки [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , [!INCLUDE[TLA#tla_ascii](../../../../includes/tlasharptla-ascii-md.md)], [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] UTF-16 и UTF-8.</span><span class="sxs-lookup"><span data-stu-id="34136-114">The encoding supported by [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are [!INCLUDE[TLA#tla_ascii](../../../../includes/tlasharptla-ascii-md.md)], [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] UTF-16, and UTF-8.</span></span> <span data-ttu-id="34136-115">Оператор кодировки должен находиться в начале [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] документа.</span><span class="sxs-lookup"><span data-stu-id="34136-115">The encoding statement is at the beginning of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] document.</span></span> <span data-ttu-id="34136-116">Если атрибут кодировки и порядок байтов отсутствуют, по умолчанию в средстве синтаксического анализа используется кодировка UTF-8.</span><span class="sxs-lookup"><span data-stu-id="34136-116">If no encoding attribute exists and there is no byte-order, the parser defaults to UTF-8.</span></span> <span data-ttu-id="34136-117">Предпочтительные кодировки: UTF-8 и UTF-16.</span><span class="sxs-lookup"><span data-stu-id="34136-117">UTF-8 and UTF-16 are the preferred encodings.</span></span> <span data-ttu-id="34136-118">UTF-7 не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="34136-118">UTF-7 is not supported.</span></span> <span data-ttu-id="34136-119">Следующий пример демонстрирует указание кодировки UTF-8 в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] файла.</span><span class="sxs-lookup"><span data-stu-id="34136-119">The following example demonstrates how to specify a UTF-8 encoding in a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>  
  
```  
?xml encoding="UTF-8"?  
```  
  
<a name="lang_attrib"></a>   
### <a name="language-attribute"></a><span data-ttu-id="34136-120">Атрибут Language</span><span class="sxs-lookup"><span data-stu-id="34136-120">Language Attribute</span></span>  
 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]<span data-ttu-id="34136-121">использует [XML: lang](../../../../docs/framework/xaml-services/xml-lang-handling-in-xaml.md) для представления атрибута языка элемента.</span><span class="sxs-lookup"><span data-stu-id="34136-121"> uses [xml:lang](../../../../docs/framework/xaml-services/xml-lang-handling-in-xaml.md) to represent the language attribute of an element.</span></span>  <span data-ttu-id="34136-122">Чтобы воспользоваться преимуществами <xref:System.Globalization.CultureInfo> класса, значение атрибута language должен быть один из параметров языка и региональных параметров, определенных классом <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="34136-122">To take advantage of the <xref:System.Globalization.CultureInfo> class, the language attribute value needs to be one of the culture names predefined by <xref:System.Globalization.CultureInfo>.</span></span> <span data-ttu-id="34136-123">[xml:lang](../../../../docs/framework/xaml-services/xml-lang-handling-in-xaml.md) наследуется в дереве элементов (правилами XML, не обязательно из-за наследования свойства зависимости), и его значение по умолчанию — пустая строка, если оно не назначено явно.</span><span class="sxs-lookup"><span data-stu-id="34136-123">[xml:lang](../../../../docs/framework/xaml-services/xml-lang-handling-in-xaml.md) is inheritable in the element tree (by XML rules, not necessarily because of dependency property inheritance) and its default value is an empty string if it is not assigned explicitly.</span></span>  
  
 <span data-ttu-id="34136-124">Атрибут языка полезно использовать для задания диалектов.</span><span class="sxs-lookup"><span data-stu-id="34136-124">The language attribute is very useful for specifying dialects.</span></span> <span data-ttu-id="34136-125">Например, французский язык имеет разные написание, словарь и произношение во Франции, Квебеке, Бельгии и Швейцарии.</span><span class="sxs-lookup"><span data-stu-id="34136-125">For example, French has different spelling, vocabulary, and pronunciation in France, Quebec, Belgium, and Switzerland.</span></span> <span data-ttu-id="34136-126">Также китайский, японский и корейский совместное использование кодовых точек на [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], но отличаются идеографический фигур и они используют полностью различные шрифты.</span><span class="sxs-lookup"><span data-stu-id="34136-126">Also Chinese, Japanese, and Korean share code points in [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], but the ideographic shapes are different and they use totally different fonts.</span></span>  
  
 <span data-ttu-id="34136-127">Следующие [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] примере `fr-CA` атрибут language, чтобы указать французский (Канада).</span><span class="sxs-lookup"><span data-stu-id="34136-127">The following [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] example uses the `fr-CA` language attribute to specify Canadian French.</span></span>  
  
```xml  
<TextBlock xml:lang="fr-CA">Découvrir la France</TextBlock>  
```  
  
<a name="unicode"></a>   
### <a name="unicode"></a><span data-ttu-id="34136-128">Юникод</span><span class="sxs-lookup"><span data-stu-id="34136-128">Unicode</span></span>  
 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]<span data-ttu-id="34136-129">поддерживает все [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] функций, включая суррогаты.</span><span class="sxs-lookup"><span data-stu-id="34136-129"> supports all [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] features including surrogates.</span></span> <span data-ttu-id="34136-130">До тех пор, пока набор символов, которые могут быть сопоставлены с [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], он поддерживается.</span><span class="sxs-lookup"><span data-stu-id="34136-130">As long as the character set can be mapped to [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)], it is supported.</span></span> <span data-ttu-id="34136-131">Например, GB18030 представляет определенные символы, которые сопоставляются расширениям A и B и парам суррогатов китайского, японского и корейского. Следовательно, этот набор символов полностью поддерживается.</span><span class="sxs-lookup"><span data-stu-id="34136-131">For example, GB18030 introduces some characters that are mapped to the Chinese, Japanese, and Korean (CFK) extension A and B and surrogate pairs, therefore it is fully supported.</span></span> <span data-ttu-id="34136-132">Объект [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложение может использовать <xref:System.Globalization.StringInfo> для обработки строк без понимания того, имеют ли они суррогатные пары или несамостоятельные знаки.</span><span class="sxs-lookup"><span data-stu-id="34136-132">A [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application can use <xref:System.Globalization.StringInfo> to manipulate strings without understanding whether they have surrogate pairs or combining characters.</span></span>  
  
<a name="design_intl_ui_with_xaml"></a>   
## <a name="designing-an-international-user-interface-with-xaml"></a><span data-ttu-id="34136-133">Проектирование международного интерфейса пользователя с XAML</span><span class="sxs-lookup"><span data-stu-id="34136-133">Designing an International User Interface with XAML</span></span>  
 <span data-ttu-id="34136-134">В этом разделе описываются [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] функций, которые следует учитывать при написании приложений.</span><span class="sxs-lookup"><span data-stu-id="34136-134">This section describes [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] features that you should consider when writing an application.</span></span>  
  
<a name="intl_text"></a>   
### <a name="international-text"></a><span data-ttu-id="34136-135">Международный текст</span><span class="sxs-lookup"><span data-stu-id="34136-135">International Text</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="34136-136">включает встроенные возможности обработки для всех [!INCLUDE[TLA#tla_winfx](../../../../includes/tlasharptla-winfx-md.md)] поддерживается системах письма.</span><span class="sxs-lookup"><span data-stu-id="34136-136"> includes built-in processing for all [!INCLUDE[TLA#tla_winfx](../../../../includes/tlasharptla-winfx-md.md)] supported writing systems.</span></span>  
  
 <span data-ttu-id="34136-137">В настоящее время поддерживаются следующие скрипты.</span><span class="sxs-lookup"><span data-stu-id="34136-137">The following scripts are currently supported:</span></span>  
  
-   <span data-ttu-id="34136-138">Арабский</span><span class="sxs-lookup"><span data-stu-id="34136-138">Arabic</span></span>  
  
-   <span data-ttu-id="34136-139">бенгальский</span><span class="sxs-lookup"><span data-stu-id="34136-139">Bengali</span></span>  
  
-   <span data-ttu-id="34136-140">деванагари</span><span class="sxs-lookup"><span data-stu-id="34136-140">Devanagari</span></span>  
  
-   <span data-ttu-id="34136-141">кириллица</span><span class="sxs-lookup"><span data-stu-id="34136-141">Cyrillic</span></span>  
  
-   <span data-ttu-id="34136-142">Греческий</span><span class="sxs-lookup"><span data-stu-id="34136-142">Greek</span></span>  
  
-   <span data-ttu-id="34136-143">Гуджарати</span><span class="sxs-lookup"><span data-stu-id="34136-143">Gujarati</span></span>  
  
-   <span data-ttu-id="34136-144">гурмухи</span><span class="sxs-lookup"><span data-stu-id="34136-144">Gurmukhi</span></span>  
  
-   <span data-ttu-id="34136-145">Иврит</span><span class="sxs-lookup"><span data-stu-id="34136-145">Hebrew</span></span>  
  
-   <span data-ttu-id="34136-146">Идеографические скрипты</span><span class="sxs-lookup"><span data-stu-id="34136-146">Ideographic scripts</span></span>  
  
-   <span data-ttu-id="34136-147">Каннада</span><span class="sxs-lookup"><span data-stu-id="34136-147">Kannada</span></span>  
  
-   <span data-ttu-id="34136-148">Лаосский</span><span class="sxs-lookup"><span data-stu-id="34136-148">Lao</span></span>  
  
-   <span data-ttu-id="34136-149">Латиница</span><span class="sxs-lookup"><span data-stu-id="34136-149">Latin</span></span>  
  
-   <span data-ttu-id="34136-150">Малаялам</span><span class="sxs-lookup"><span data-stu-id="34136-150">Malayalam</span></span>  
  
-   <span data-ttu-id="34136-151">Монгольский</span><span class="sxs-lookup"><span data-stu-id="34136-151">Mongolian</span></span>  
  
-   <span data-ttu-id="34136-152">Ория</span><span class="sxs-lookup"><span data-stu-id="34136-152">Odia</span></span>  
  
-   <span data-ttu-id="34136-153">Сирийский</span><span class="sxs-lookup"><span data-stu-id="34136-153">Syriac</span></span>  
  
-   <span data-ttu-id="34136-154">Тамильский</span><span class="sxs-lookup"><span data-stu-id="34136-154">Tamil</span></span>  
  
-   <span data-ttu-id="34136-155">Телугу</span><span class="sxs-lookup"><span data-stu-id="34136-155">Telugu</span></span>  
  
-   <span data-ttu-id="34136-156">мальдивский</span><span class="sxs-lookup"><span data-stu-id="34136-156">Thaana</span></span>  
  
-   <span data-ttu-id="34136-157">Тайский *</span><span class="sxs-lookup"><span data-stu-id="34136-157">Thai*</span></span>  
  
-   <span data-ttu-id="34136-158">Тибетский</span><span class="sxs-lookup"><span data-stu-id="34136-158">Tibetan</span></span>  
  
 <span data-ttu-id="34136-159">* В этом выпуске отображение и изменение текста на тайском языке поддерживается; а разбиение по словам — нет.</span><span class="sxs-lookup"><span data-stu-id="34136-159">*In this release the display and editing of Thai text is supported; word breaking is not.</span></span>  
  
 <span data-ttu-id="34136-160">В настоящее время не поддерживаются следующие скрипты.</span><span class="sxs-lookup"><span data-stu-id="34136-160">The following scripts are not currently supported:</span></span>  
  
-   <span data-ttu-id="34136-161">Кхмерский</span><span class="sxs-lookup"><span data-stu-id="34136-161">Khmer</span></span>  
  
-   <span data-ttu-id="34136-162">Старый хангыль (корейский)</span><span class="sxs-lookup"><span data-stu-id="34136-162">Korean Old Hangul</span></span>  
  
-   <span data-ttu-id="34136-163">бирманский</span><span class="sxs-lookup"><span data-stu-id="34136-163">Myanmar</span></span>  
  
-   <span data-ttu-id="34136-164">Сингальский</span><span class="sxs-lookup"><span data-stu-id="34136-164">Sinhala</span></span>  
  
 <span data-ttu-id="34136-165">Обработчики систем письма поддерживают [!INCLUDE[TLA#tla_opentype](../../../../includes/tlasharptla-opentype-md.md)] шрифты.</span><span class="sxs-lookup"><span data-stu-id="34136-165">All the writing system engines support [!INCLUDE[TLA#tla_opentype](../../../../includes/tlasharptla-opentype-md.md)] fonts.</span></span> [!INCLUDE[TLA2#tla_opentype](../../../../includes/tla2sharptla-opentype-md.md)]<span data-ttu-id="34136-166">шрифты могут включать [!INCLUDE[TLA2#tla_opentype](../../../../includes/tla2sharptla-opentype-md.md)] макет таблицы, которые позволяют создателям шрифтов разрабатывать более качественные международные и типографские шрифты.</span><span class="sxs-lookup"><span data-stu-id="34136-166"> fonts can include the [!INCLUDE[TLA2#tla_opentype](../../../../includes/tla2sharptla-opentype-md.md)] layout tables that enable font creators to design better international and high-end typographic fonts.</span></span> <span data-ttu-id="34136-167">[!INCLUDE[TLA2#tla_opentype](../../../../includes/tla2sharptla-opentype-md.md)] Таблицы макетов шрифтов содержат сведения о заменах глифов, позиционирования глифа, обоснование и положение базового плана, позволяет приложениям обработку текста улучшить макет текста.</span><span class="sxs-lookup"><span data-stu-id="34136-167">The [!INCLUDE[TLA2#tla_opentype](../../../../includes/tla2sharptla-opentype-md.md)] font layout tables contain information about glyph substitutions, glyph positioning, justification, and baseline positioning, enabling text-processing applications to improve text layout.</span></span>  
  
 [!INCLUDE[TLA2#tla_opentype](../../../../includes/tla2sharptla-opentype-md.md)]<span data-ttu-id="34136-168">шрифты разрешить обработку больших глиф задает использование [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] кодировку.</span><span class="sxs-lookup"><span data-stu-id="34136-168"> fonts allow the handling of large glyph sets using [!INCLUDE[TLA2#tla_unicode](../../../../includes/tla2sharptla-unicode-md.md)] encoding.</span></span> <span data-ttu-id="34136-169">Такая кодировка обеспечивает широкую международную поддержку и возможность использования типографских вариантов глифов.</span><span class="sxs-lookup"><span data-stu-id="34136-169">Such encoding enables broad international support as well as for typographic glyph variants.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="34136-170">Отображение текста [!INCLUDE[TLA#tla_ct](../../../../includes/tlasharptla-ct-md.md)] уровне технология, которая обеспечивает независимость от разрешения.</span><span class="sxs-lookup"><span data-stu-id="34136-170"> text rendering is powered by [!INCLUDE[TLA#tla_ct](../../../../includes/tlasharptla-ct-md.md)] sub-pixel technology that supports resolution independence.</span></span> <span data-ttu-id="34136-171">Это значительно улучшает читаемость и предоставляет возможность поддержки качественных документов журнального стиля для всех скриптов.</span><span class="sxs-lookup"><span data-stu-id="34136-171">This significantly improves legibility and provides the ability to support high quality magazine style documents for all scripts.</span></span>  
  
<a name="intl_layout"></a>   
### <a name="international-layout"></a><span data-ttu-id="34136-172">Международный макет</span><span class="sxs-lookup"><span data-stu-id="34136-172">International Layout</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="34136-173"> предоставляет очень удобный способ поддержки горизонтальных, двунаправленных и вертикальных макетов.</span><span class="sxs-lookup"><span data-stu-id="34136-173"> provides a very convenient way to support horizontal, bidirectional, and vertical layouts.</span></span> <span data-ttu-id="34136-174">В инфраструктуре представления <xref:System.Windows.FrameworkElement.FlowDirection%2A> свойство может использоваться для определения макета.</span><span class="sxs-lookup"><span data-stu-id="34136-174">In presentation framework the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property can be used to define layout.</span></span> <span data-ttu-id="34136-175">Ниже перечислены шаблоны направления текста.</span><span class="sxs-lookup"><span data-stu-id="34136-175">The flow direction patterns are:</span></span>  
  
-   <span data-ttu-id="34136-176">*LeftToRight* — горизонтальная разметка для латиницы, восточноазиатских языков и т. д.</span><span class="sxs-lookup"><span data-stu-id="34136-176">*LeftToRight* - horizontal layout for Latin, East Asian and so forth.</span></span>  
  
-   <span data-ttu-id="34136-177">*RightToLeft* — двунаправленная разметка для арабского, иврита и т. д.</span><span class="sxs-lookup"><span data-stu-id="34136-177">*RightToLeft* - bidirectional for Arabic, Hebrew and so forth.</span></span>  
  
<a name="developing_localizable_apps"></a>   
## <a name="developing-localizable-applications"></a><span data-ttu-id="34136-178">Разработка локализуемых приложений</span><span class="sxs-lookup"><span data-stu-id="34136-178">Developing Localizable Applications</span></span>  
 <span data-ttu-id="34136-179">При написании приложений для мирового рынка следует помнить, что приложения должны быть локализуемыми.</span><span class="sxs-lookup"><span data-stu-id="34136-179">When you write an application for global consumption you should keep in mind that the application must be localizable.</span></span> <span data-ttu-id="34136-180">В следующих разделах указано, на что обратить внимание.</span><span class="sxs-lookup"><span data-stu-id="34136-180">The following topics point out things to consider.</span></span>  
  
<a name="mui"></a>   
### <a name="multilingual-user-interface"></a><span data-ttu-id="34136-181">Многоязыковой интерфейс пользователя</span><span class="sxs-lookup"><span data-stu-id="34136-181">Multilingual User Interface</span></span>  
 <span data-ttu-id="34136-182">Многоязычного пользовательского интерфейса (MUI) является [!INCLUDE[TLA#tla_ms](../../../../includes/tlasharptla-ms-md.md)] поддержки для переключения [!INCLUDE[TLA2#tla_ui#plural](../../../../includes/tla2sharptla-uisharpplural-md.md)] с одного языка на другой.</span><span class="sxs-lookup"><span data-stu-id="34136-182">Multilingual User Interfaces (MUI) is a [!INCLUDE[TLA#tla_ms](../../../../includes/tlasharptla-ms-md.md)] support for switching [!INCLUDE[TLA2#tla_ui#plural](../../../../includes/tla2sharptla-uisharpplural-md.md)] from one language to another.</span></span> <span data-ttu-id="34136-183">Объект [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложение использует модель сборок для поддержки MUI.</span><span class="sxs-lookup"><span data-stu-id="34136-183">A [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application uses the assembly model to support MUI.</span></span> <span data-ttu-id="34136-184">Одно приложение содержит независимые от языка сборки, а также зависимые от языка сборки вспомогательных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="34136-184">One application contains language-neutral assemblies as well as language-dependent satellite resource assemblies.</span></span> <span data-ttu-id="34136-185">Точкой входа является управляемый EXE-файл в основной сборке.</span><span class="sxs-lookup"><span data-stu-id="34136-185">The entry point is a managed .EXE in the main assembly.</span></span>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="34136-186">загрузчик ресурсов использует преимущества [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)]в диспетчер ресурсов для поддержки поиска и резервирования ресурсов.</span><span class="sxs-lookup"><span data-stu-id="34136-186"> resource loader takes advantage of the [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)]'s resource manager to support resource lookup and fallback.</span></span> <span data-ttu-id="34136-187">Многоязыковые вспомогательные сборки работают с одной и той же основной сборкой.</span><span class="sxs-lookup"><span data-stu-id="34136-187">Multiple language satellite assemblies work with the same main assembly.</span></span> <span data-ttu-id="34136-188">Зависит от загружаемой сборке ресурсов <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> текущего потока.</span><span class="sxs-lookup"><span data-stu-id="34136-188">The resource assembly that is loaded depends on the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> of the current thread.</span></span>  
  
<a name="localizable_ui"></a>   
### <a name="localizable-user-interface"></a><span data-ttu-id="34136-189">Локализуемый пользовательский интерфейс</span><span class="sxs-lookup"><span data-stu-id="34136-189">Localizable User Interface</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="34136-190">приложения используют [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] для определения их [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="34136-190"> applications use [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to define their [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]<span data-ttu-id="34136-191"> позволяет разработчикам задавать иерархию объектов с набором свойств и определенной логикой.</span><span class="sxs-lookup"><span data-stu-id="34136-191"> allows developers to specify a hierarchy of objects with a set of properties and logic.</span></span> <span data-ttu-id="34136-192">В основном используются [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] разработать [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложения, но он может использоваться для указания иерархии любых [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] объектов.</span><span class="sxs-lookup"><span data-stu-id="34136-192">The primary use of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is to develop [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications but it can be used to specify a hierarchy of any [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] objects.</span></span> <span data-ttu-id="34136-193">Большинство разработчиков использует [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] для указания их приложения [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] и использовать язык программирования, таких как [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] реагировать на действия пользователя.</span><span class="sxs-lookup"><span data-stu-id="34136-193">Most developers use [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to specify their application's [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] and use a programming language such as [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] to react to user interaction.</span></span>  
  
 <span data-ttu-id="34136-194">С точки зрения ресурсов [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] разработанный для описания зависит от языка [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] является элементом ресурса и поэтому его формат окончательного распространения должна соответствовать локализуемые поддержка международных языков.</span><span class="sxs-lookup"><span data-stu-id="34136-194">From a resource point of view, a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file designed to describe a language-dependent [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] is a resource element and therefore its final distribution format must be localizable to support international languages.</span></span> <span data-ttu-id="34136-195">Поскольку [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] не может обрабатывать события, многие [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] приложения содержат для этого блоки кода.</span><span class="sxs-lookup"><span data-stu-id="34136-195">Because [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] cannot handle events many [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] applications contain blocks of code to do this.</span></span> <span data-ttu-id="34136-196">Дополнительные сведения см. в разделе [Обзор XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="34136-196">For more information, see [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md).</span></span> <span data-ttu-id="34136-197">Код исключается и компилируется в различные двоичные файлы при [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] файл размечается в форма BAML кода XAML.</span><span class="sxs-lookup"><span data-stu-id="34136-197">Code is stripped out and compiled into different binaries when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is tokenized into the BAML form of XAML.</span></span> <span data-ttu-id="34136-198">Форма BAML файлов XAML, изображения и другие типы управляемых объектов ресурсов внедряются во вспомогательную сборку ресурсов, которая может быть локализована на другие языки, или в основную сборку, если локализация не требуется.</span><span class="sxs-lookup"><span data-stu-id="34136-198">The BAML form of XAML files, images, and other types of managed resource objects are embedded in the satellite resource assembly, which can be localized into other languages, or the main assembly when localization is not required.</span></span>  
  
> [!NOTE]
>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="34136-199">приложения поддерживают все [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)] [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] ресурсы, включая таблицы строк, изображения и т. д.</span><span class="sxs-lookup"><span data-stu-id="34136-199"> applications support all the [!INCLUDE[TLA2#tla_netframewk](../../../../includes/tla2sharptla-netframewk-md.md)][!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] resources including string tables, images, and so forth.</span></span>  
  
<a name="building_localizable_apps"></a>   
### <a name="building-localizable-applications"></a><span data-ttu-id="34136-200">Разработка локализуемых приложений</span><span class="sxs-lookup"><span data-stu-id="34136-200">Building Localizable Applications</span></span>  
 <span data-ttu-id="34136-201">Локализация означает настройку [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] для разных языков и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="34136-201">Localization means to adapt a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] to different cultures.</span></span> <span data-ttu-id="34136-202">Чтобы сделать [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] возможность локализации, разработчики должны встроить все локализуемые ресурсы в сборку ресурсов приложения.</span><span class="sxs-lookup"><span data-stu-id="34136-202">To make a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application localizable, developers need to build all the localizable resources into a resource assembly.</span></span> <span data-ttu-id="34136-203">Сборка ресурсов локализуется на разные языки, и код программной части использует управление ресурсами [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] для загрузки.</span><span class="sxs-lookup"><span data-stu-id="34136-203">The resource assembly is localized into different languages, and the code-behind uses resource management [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] to load.</span></span> <span data-ttu-id="34136-204">Один из файлов, необходимых для [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] приложения — это файл проекта (".proj").</span><span class="sxs-lookup"><span data-stu-id="34136-204">One of the files required for a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application is a project file (.proj).</span></span> <span data-ttu-id="34136-205">Все ресурсы, используемые в приложении, необходимо включить в файл проекта.</span><span class="sxs-lookup"><span data-stu-id="34136-205">All resources that you use in your application should be included in the project file.</span></span> <span data-ttu-id="34136-206">В следующем примере из CSPROJ-файла показано, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="34136-206">The following example from a .csproj file shows how to do this.</span></span>  
  
```xml  
<Resource Include="data\picture1.jpg"/>  
<EmbeddedResource Include="data\stringtable.en-US.restext"/>  
```  
  
 <span data-ttu-id="34136-207">Для использования ресурсов в приложении создайте экземпляр <xref:System.Resources.ResourceManager> и загрузки ресурсов, которые вы хотите использовать.</span><span class="sxs-lookup"><span data-stu-id="34136-207">To use a resource in your application instantiate a <xref:System.Resources.ResourceManager> and load the resource you want to use.</span></span> <span data-ttu-id="34136-208">В следующем примере показано, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="34136-208">The following example demonstrates how to do this.</span></span>  
  
 [!code-csharp[LocalizationResources#2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LocalizationResources/CSharp/page1.xaml.cs#2)]  
  
<a name="using_clickonce"></a>   
## <a name="using-clickonce-with-localized-applications"></a><span data-ttu-id="34136-209">Использование ClickOnce с локализованными приложениями</span><span class="sxs-lookup"><span data-stu-id="34136-209">Using ClickOnce with Localized Applications</span></span>  
 <span data-ttu-id="34136-210">ClickOnce — это новая технология развертывания Windows Forms, которая будет поставляться с [!INCLUDE[TLA#tla_visualstu2005](../../../../includes/tlasharptla-visualstu2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="34136-210">ClickOnce is a new Windows Forms deployment technology that will ship with [!INCLUDE[TLA#tla_visualstu2005](../../../../includes/tlasharptla-visualstu2005-md.md)].</span></span> <span data-ttu-id="34136-211">Она позволяет устанавливать и обновлять веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="34136-211">It enables application installation and upgrading of Web applications.</span></span> <span data-ttu-id="34136-212">При локализации приложения, которое было развернуто с помощью ClickOnce, просмотреть его можно только на локализованном языке и с соответствующими региональными параметрами.</span><span class="sxs-lookup"><span data-stu-id="34136-212">When an application that was deployed with ClickOnce is localized it can only be viewed on the localized culture.</span></span> <span data-ttu-id="34136-213">Например, если развертываемое приложение локализовано на японский его можно просматривать только на японском языке [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)] не на английском языке [!INCLUDE[TLA2#tla_win](../../../../includes/tla2sharptla-win-md.md)].</span><span class="sxs-lookup"><span data-stu-id="34136-213">For example, if a deployed application is localized to Japanese it can only be viewed on Japanese [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)] not on English [!INCLUDE[TLA2#tla_win](../../../../includes/tla2sharptla-win-md.md)].</span></span> <span data-ttu-id="34136-214">Это представляет проблему, так как это очень распространенный сценарий для японских пользователей запускать английскую версию [!INCLUDE[TLA2#tla_win](../../../../includes/tla2sharptla-win-md.md)].</span><span class="sxs-lookup"><span data-stu-id="34136-214">This presents a problem because it is a common scenario for Japanese users to run an English version of [!INCLUDE[TLA2#tla_win](../../../../includes/tla2sharptla-win-md.md)].</span></span>  
  
 <span data-ttu-id="34136-215">Чтобы решить эту проблему, можно задать резервный атрибут нейтрального языка.</span><span class="sxs-lookup"><span data-stu-id="34136-215">The solution to this problem is setting the neutral language fallback attribute.</span></span> <span data-ttu-id="34136-216">Разработчик приложения может при необходимости удалить ресурсы из основной сборки и указать, что ресурсы можно найти во вспомогательной сборке, соответствующей определенной культуре.</span><span class="sxs-lookup"><span data-stu-id="34136-216">An application developer can optionally remove resources from the main assembly and specify that the resources can be found in a satellite assembly corresponding to a specific culture.</span></span> <span data-ttu-id="34136-217">Для управления этим процессом используйте <xref:System.Resources.NeutralResourcesLanguageAttribute>.</span><span class="sxs-lookup"><span data-stu-id="34136-217">To control this process use the <xref:System.Resources.NeutralResourcesLanguageAttribute>.</span></span> <span data-ttu-id="34136-218">Конструктор <xref:System.Resources.NeutralResourcesLanguageAttribute> имеет две сигнатуры, одна из которых принимает <xref:System.Resources.UltimateResourceFallbackLocation> параметр для указания расположения где <xref:System.Resources.ResourceManager> следует извлечь резервные ресурсы: основную сборку или вспомогательную сборку.</span><span class="sxs-lookup"><span data-stu-id="34136-218">The constructor of the <xref:System.Resources.NeutralResourcesLanguageAttribute> class has two signatures, one that takes an <xref:System.Resources.UltimateResourceFallbackLocation> parameter to specify the location where the <xref:System.Resources.ResourceManager> should extract the fallback resources: main assembly or satellite assembly.</span></span> <span data-ttu-id="34136-219">В следующем примере показано использование атрибута.</span><span class="sxs-lookup"><span data-stu-id="34136-219">The following example shows how to use the attribute.</span></span> <span data-ttu-id="34136-220">Для конечного расположения запасных, этот код вызывает <xref:System.Resources.ResourceManager> для поиска ресурсов в подкаталоге «de» каталога выполняющейся сборки.</span><span class="sxs-lookup"><span data-stu-id="34136-220">For the ultimate fallback location, the code causes the <xref:System.Resources.ResourceManager> to look for the resources in the "de" subdirectory of the directory of the currently executing assembly.</span></span>  
  
```  
[assembly: NeutralResourcesLanguageAttribute(  
    "de" , UltimateResourceFallbackLocation.Satellite)]  
```  
  
## <a name="see-also"></a><span data-ttu-id="34136-221">См. также</span><span class="sxs-lookup"><span data-stu-id="34136-221">See Also</span></span>  
 [<span data-ttu-id="34136-222">Общие сведения о глобализации и локализации WPF</span><span class="sxs-lookup"><span data-stu-id="34136-222">WPF Globalization and Localization Overview</span></span>](../../../../docs/framework/wpf/advanced/wpf-globalization-and-localization-overview.md)
