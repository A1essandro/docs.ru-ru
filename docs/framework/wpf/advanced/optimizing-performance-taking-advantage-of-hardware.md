---
title: "Оптимизация производительности. Использование преимуществ аппаратного ускорения | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-wpf"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "уровни графической отрисовки"
  - "графика, производительность"
  - "графика, уровни отрисовки"
  - "аппаратный конвейер отрисовки"
  - "уровни отрисовки"
  - "программный конвейер отрисовки"
ms.assetid: bfb89bae-7aab-4cac-a26c-a956eda8fce2
caps.latest.revision: 6
author: "dotnet-bot"
ms.author: "dotnetcontent"
manager: "wpickett"
caps.handback.revision: 6
---
# Оптимизация производительности. Использование преимуществ аппаратного ускорения
Во внутренней архитектуре [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] представлены два конвейера отрисовки: аппаратный и программный.  В этом разделе представлены сведения об этих конвейерах отрисовки, которые могут использоваться для выбора способа оптимизации производительности приложений.  
  
## Аппаратный конвейер отрисовки  
 Одним из наиболее важных факторов в определении производительности [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] является фактор, связанный с отрисовкой. Чем больше пикселей отображается, тем больше расходуется ресурсов.  Соответственно, для повышения производительности следует передать определенную часть нагрузки по отрисовке в [!INCLUDE[TLA#tla_gpu](../../../../includes/tlasharptla-gpu-md.md)].  Аппаратный конвейер отрисовки приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует все преимущества средств [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)] на аппаратном обеспечении с поддержкой [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)] версии не ниже 7.0.  Дополнительные возможности оптимизации предоставляются аппаратным обеспечением, которое поддерживает возможности [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)] версии 7.0 и PixelShader 2.0\+.  
  
## Программный конвейер отрисовки  
 Программный конвейер отрисовки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] полностью связан с ЦП.  Для реализации оптимизированной, полнофункциональной программной растеризации в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] используются преимущества наборов инструкций SSE и SSE2 в ЦП.  Если не удается выполнить отрисовку функциональной части приложения с использованием аппаратного конвейера, осуществляется плавный переход к программной отрисовке.  
  
 Основные проблемы производительности в режиме программного обеспечения связаны со скоростью заполнения, которая определяется числом отрисовываемых пикселей.  Чтобы повысить производительность в режиме программной отрисовки, рекомендуется свести к минимуму число перерисовок пикселей.  Например, если в приложении используется синий цвет фона, над которым отображается частично прозрачное изображение, отрисовка всех пикселей в приложении выполняется дважды.  В результате, визуализация приложения с изображением занимает в два раза больше времени, чем при использовании только синего фона.  
  
### Уровни графической отрисовки  
 Предугадать конфигурацию аппаратного обеспечения, на котором будет выполняться приложение, достаточно сложно.  Тем не менее, можно разработать приложение, в котором обеспечивается плавное переключение функций при работе на различном аппаратном обеспечении. Это позволит использовать все преимущества любой конфигурации аппаратного обеспечения.  
  
 Для этого в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предусмотрены функции определения графических возможностей системы во время выполнения.  Графические возможности определяются посредством выделения трех уровней отрисовки видеоадаптера.  В [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляется интерфейс [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)], который используется в приложении для запроса уровней отрисовки.  Во время выполнения в приложении может использоваться различный код в зависимости от уровня отрисовки, который поддерживается аппаратным обеспечением.  
  
 Возможности графического оборудования, которые влияют на отрисовку перед выводом на экран:  
  
-   **Видеопамять**. Объем видео памяти графического оборудования определяет размер и число буферов, которые могут использоваться для компоновки графики.  
  
-   **Построитель текстуры**. Построитель текстуры представляет собой функцию обработки графики, предназначенную для вычисления эффектов на уровне пикселей.  В зависимости от разрешения отображаемой графики, число обрабатываемых для каждого отображаемого кадра пикселей может достигать нескольких миллионов.  
  
-   **Вершинный построитель текстуры**. Вершинный построитель текстуры представляет собой функцию обработки графики, которая используется для выполнения математических операций над данными вершин объекта.  
  
-   **Многотекстурная поддержка**. Многотекстурная поддержка предоставляет возможность применения двух или более различных текстур во время операции смешения текстур для трехмерных графических объектов.  Степень многотекстурной поддержки определяется числом многотекстурных модулей на графическом оборудовании.  
  
 Построитель текстуры, вершинный построитель текстуры и возможности многотекстурной поддержки используются для определения конкретных уровней версий [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)], которые в свою очередь, используются для определения различных уровней отрисовки в [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
 Возможности графического оборудования определяют возможности отрисовки приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  В системе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] определены три уровня отрисовки:  
  
-   **Уровень отрисовки 0**. Аппаратное ускорение графики не используется.  Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] ниже 7.0.  
  
-   **Уровень отрисовки 1**. Частичное аппаратное ускорение графики.  Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] не ниже 7.0, но **ниже** версии 9.0.  
  
-   **Уровень отрисовки 2**. Большая часть графических возможностей реализуется с использованием аппаратного ускорения графики.  Версия [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] не ниже 9.0.  
  
 Дополнительные сведения об уровнях отрисовки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] см. в разделе [Уровни графической отрисовки](../../../../docs/framework/wpf/advanced/graphics-rendering-tiers.md).  
  
## См. также  
 [Улучшение производительности приложений WPF](../../../../docs/framework/wpf/advanced/optimizing-wpf-application-performance.md)   
 [Планирование производительности приложения](../../../../docs/framework/wpf/advanced/planning-for-application-performance.md)   
 [Разметка и разработка](../../../../docs/framework/wpf/advanced/optimizing-performance-layout-and-design.md)   
 [двумерная графика и изображения](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)   
 [Поведение объекта](../../../../docs/framework/wpf/advanced/optimizing-performance-object-behavior.md)   
 [Ресурсы приложения](../../../../docs/framework/wpf/advanced/optimizing-performance-application-resources.md)   
 [Text](../../../../docs/framework/wpf/advanced/optimizing-performance-text.md)   
 [Привязка данных](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)   
 [Дополнительные рекомендации по повышению производительности](../../../../docs/framework/wpf/advanced/optimizing-performance-other-recommendations.md)