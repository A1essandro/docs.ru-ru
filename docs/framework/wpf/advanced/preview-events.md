---
title: "События предварительного просмотра"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Preview events [WPF]
- suppressing events [WPF]
- events [WPF], Preview
- events [WPF], suppressing
ms.assetid: b5032308-aa9c-4d02-af11-630ecec8df7e
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 04bdf32ea329ff25fd62255b4512d8a9d5703b8f
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="preview-events"></a>События предварительного просмотра
События предварительного просмотра, также известные как туннелирование событий, являются перенаправленных событий, где направление маршрута перемещается из корня приложения в сторону элемента, вызвавшего событие и отображается как источник в данных события. Не для всех сценариев событий поддерживаться или требуется события предварительного просмотра; в этом разделе описываются ситуациях, где существуют события предварительного просмотра, каким образом приложениями или компонентами их обработки, и случаи, где создание событий предварительного просмотра в пользовательских компонентов или классов может быть целесообразным.  
  
## <a name="preview-events-and-input"></a>Просмотр событий и входных данных  
 При обработке события в общем случае следует осторожно предварительного просмотра пометке событий обработано в данных. Обработка события предварительного просмотра для любого элемента, отличного от элемента, вызвавшего его (элемент отображается как источник в данных события) приводит к не создавая элемент возможность обработки события, она была создана. Иногда это нужный результат, особенно в том случае, если указанные элементы существуют в с компоновкой элемента управления.  
  
 Для входных событий в частности, события предварительного просмотра также совместно использовать экземпляры данных события с эквивалентный восходящей. Если для пометки события ввода обработанным используется класс события предварительного просмотра, восходящей обработчика события ввода класса не будет вызываться. Или, если пометить событие как обработанное используется экземпляр события предварительного просмотра, обработчики событий с восходящей маршрутизацией обычно не вызываются. Обработчики класса или экземпляра может быть зарегистрирован или присоединенного с возможностью вызван, даже если событие помечено как обработанное, но этот метод обычно не используется.  
  
 Дополнительные сведения об обработке классов и как они связаны с событиями предварительного просмотра в разделе [как Handled и обработка класса](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).  
  
### <a name="working-around-event-suppression-by-controls"></a>Обход скрытия события элементами управления  
 Единственный случай, где часто используются события предварительного просмотра — для обработки входных событий составной элемент управления. В некоторых случаях автор элемента управления подавляет некоторые события из исходящих от их управления, возможно, чтобы заменить это событие, определяемых компонентом, которое содержит дополнительные сведения или подразумевает особое поведение. Для экземпляра [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> подавляет <xref:System.Windows.UIElement.MouseLeftButtonDown> и <xref:System.Windows.UIElement.MouseLeftButtonDown> восходящей события, вызванные <xref:System.Windows.Controls.Button> или его составными элементами для регистрации действий мыши и вызов <xref:System.Windows.Controls.Primitives.ButtonBase.Click> событие, которое всегда вызывает <xref:System.Windows.Controls.Button> сам. Событие и его данные по-прежнему в маршруте, но поскольку <xref:System.Windows.Controls.Button> помечает данных события к <xref:System.Windows.RoutedEventArgs.Handled%2A>, только обработчики событий, для которых явно указана необходимость их вызова `handledEventsToo` вызываются.  Если другие элементы к корню приложения по-прежнему нужна возможность обрабатывать запрещенное управления событие, один из вариантов — присоединение обработчиков в коде с `handledEventsToo` указанный в виде `true`. Однако часто является более простым способом для изменения направления маршрутизации обрабатывать эквивалентом предварительного просмотра входного события. Например если отключает элемент управления <xref:System.Windows.UIElement.MouseLeftButtonDown>, попробуйте присоединить обработчик <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> вместо. Этот метод подходит только для базовых событий ввода элементов например <xref:System.Windows.UIElement.MouseLeftButtonDown>. Эти события ввода используйте пары нисходящей/восходящей, вызов обоих событий и совместно использовать данные события.  
  
 Каждый из этих способов имеет побочные эффекты или ограничения. Является побочным эффектом обработки события предварительного просмотра, обработки событий в этот момент может отключить обработчики, которые запрограммированы для обработки события восходящей и поэтому ограничение заключается в том, что он обычно не рекомендуется пометить событие как обработанное, хотя по-прежнему Previ часть овый маршрута. Ограничения `handledEventsToo` бывает, что нельзя задать `handledEventsToo` обработчик в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] как атрибут, необходимо зарегистрировать обработчик событий в коде после получения ссылку на элемент, в которой должен быть присоединен обработчик.  
  
## <a name="see-also"></a>См. также  
 [Маркировка перенаправленных событий как обработанных и обработка классов](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md)  
 [Общие сведения о перенаправленных событиях](../../../../docs/framework/wpf/advanced/routed-events-overview.md)
