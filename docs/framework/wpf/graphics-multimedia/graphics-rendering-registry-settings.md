---
title: "Настройки реестра графической отрисовки | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-wpf"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "графика [WPF], отрисовка"
  - "отрисовка графики"
  - "отрисовка графики, параметры реестра"
  - "отрисовка графики, устранение неполадок"
  - "устранение неполадок отрисовки графики"
ms.assetid: f4b41b42-327d-407c-b398-3ed5f505df8b
caps.latest.revision: 18
author: "dotnet-bot"
ms.author: "dotnetcontent"
manager: "wpickett"
caps.handback.revision: 17
---
# Настройки реестра графической отрисовки
В этом разделе предоставлен обзор параметров реестра для отрисовки графики [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], влияющих на приложения [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
   
  
<a name="overview"></a>   
## Когда следует использовать параметры реестра графической отрисовки  
 Эти параметры реестра предоставляются для устранения неполадок, отладки и поддержки продукта.  Поскольку изменения в реестре отражаются на всех приложениях [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], приложение никогда не должно изменять эти разделы реестра автоматически или во время установки.  
  
<a name="xpdmandwddm"></a>   
## Что такое XPDM и WDDM?  
 Некоторые из параметров реестра графической отрисовки имеют разные значения по умолчанию, в зависимости от того, использует ли видеокарта драйверы XPDM или WDDM.  XPDM – это модель драйвера монитора [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)], а WDDM – это модель драйвера монитора Windows.  Модель WDDM доступна на компьютерах, работающих под управлением [!INCLUDE[TLA2#tla_winvista](../../../../includes/tla2sharptla-winvista-md.md)] и [!INCLUDE[win7](../../../../includes/win7-md.md)].  Модель XPDM доступна на компьютерах, работающих под управлением [!INCLUDE[TLA2#tla_winvista](../../../../includes/tla2sharptla-winvista-md.md)], [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)] и [!INCLUDE[TLA#tla_winnetsvrfam](../../../../includes/tlasharptla-winnetsvrfam-md.md)].  Дополнительные сведения о модели WDDM см. на странице [руководства по конструкции модели драйвера монитора Windows Vista \(страница может отображаться на английском языке\)](http://go.microsoft.com/fwlink/?LinkId=178394).  
  
<a name="registry_settings"></a>   
## Параметры реестра  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляет четыре параметра реестра для управления отрисовкой [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]:  
  
|Параметр|Описание|  
|--------------|--------------|  
|**Опция отключения аппаратного ускорения**|Определяет необходимость включения аппаратного ускорения.|  
|**Максимальное значение мультисэмплинга**|Определяет степень мультисэмплинга для сглаживания [!INCLUDE[TLA2#tla_3d](../../../../includes/tla2sharptla-3d-md.md)] содержимого.|  
|**Требуемый параметр даты видеодрайвера**|Указывает, отключает ли система аппаратное ускорение для драйверов, выпущенных до ноября 2004 г.|  
|**Опция растеризации используемой ссылки**|Определяет, следует ли [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использовать растеризацию ссылок.|  
  
 Эти параметры могут быть доступны для любых служебных программ внешней конфигурации, которые знают, как ссылаться на параметры реестра [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  Эти параметры могут также быть созданы или изменены с помощью доступа к значениям непосредственно с помощью редактора реестра [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].  
  
<a name="disablehardwareacceleration"></a>   
## Опция отключения аппаратного ускорения  
  
|Раздел реестра|Тип значения|  
|--------------------|------------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\DisableHWAcceleration`|DWORD|  
  
 **опция отключения аппаратного ускорения**  позволяет отключать аппаратное ускорение для тестирования и отладки.  При появлении помех отрисовки в приложении попробуйте отключить аппаратное ускорение.  Если помеха исчезает, проблема может быть связана с видеодрайвером.  
  
 **Параметр отключения аппаратного ускорения** является значением типа DWORD, равным 0 или 1.  Значение 1 отключает аппаратное ускорение.  Значение 0 включает аппаратное ускорение, если система соответствует требованиям ускорения оборудования; дополнительные сведения см. в разделе [Уровни графической отрисовки](../../../../docs/framework/wpf/advanced/graphics-rendering-tiers.md).  
  
<a name="maxmultisample"></a>   
## Максимальное значение мультисэмплинга  
  
|Раздел реестра|Тип значения|  
|--------------------|------------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\MaxMultisampleType`|DWORD|  
  
 **Максимальное значение мультисэмплинга** дает возможность настроить максимальное сглаживание содержимого [!INCLUDE[TLA2#tla_3d](../../../../includes/tla2sharptla-3d-md.md)].  Используйте этот уровень для отключения сглаживания [!INCLUDE[TLA2#tla_3d](../../../../includes/tla2sharptla-3d-md.md)] в [!INCLUDE[TLA2#tla_winvista](../../../../includes/tla2sharptla-winvista-md.md)] или его включения в [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)].  
  
 **Максимальное значение мультисэмплинга** – это значение типа DWORD, которое может быть в диапазоне от 0 до 16.  Значение 0 означает, что множественное сглаживание трехмерного содержимого должно быть отключено, а при значении 16 будет использоваться 16\-кратное множественное сглаживание, если оно поддерживается видеокартой.  Следует помнить, что установка этого значения раздела реестра на компьютерах, использующих драйверы XPDM, приведет к использованию приложениями большого объема дополнительной видеопамяти и уменьшению производительности отрисовки [!INCLUDE[TLA2#tla_3d](../../../../includes/tla2sharptla-3d-md.md)], а также потенциально может привести к появлению ошибок отрисовки и проблем стабильности.  
  
 Если этот раздел реестра не задан, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] по умолчанию устанавливается в 0 для драйверов XPDM и 4 — для драйверов WDDM.  
  
<a name="requiredvideodriverdatesetting"></a>   
## Требуемый параметр даты видеодрайвера  
  
|Раздел реестра|Тип значения|  
|--------------------|------------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\RequiredVideoDriverDate`|Строка.|  
  
 В ноябре 2004 года [!INCLUDE[TLA#tla_ms](../../../../includes/tlasharptla-ms-md.md)] представил новую версию рекомендаций по тестированию драйвера; драйверы, написанные после этой даты, предлагают большую стабильность.  По умолчанию, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] будет использовать конвейер аппаратного ускорения для этих драйверов и перейдет на более низкую скорость отрисовки аппаратного обеспечения для драйверов XPDM, опубликованных до этой даты.  
  
 **Требуемый параметр даты видеодрайвера** позволяет указать альтернативную минимальную дату драйверов XPDM.  Следует только задать дату ранее ноября 2004 г., если вы уверены, что видеодрайвера достаточно стабилен для поддержки [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].  
  
 Требуемый параметр видеодрайвера принимает строку следующего формата:  
  
||  
|-|  
|*ГГГГ* `/` *MM* `/` *ДД*|  
  
 Где *ГГГГ* означает год, записанный 4\-мя цифрами, *ММ* — месяц, записанный 2\-мя цифрами, а *ДД* — день, записанный 2\-мя цифрами.  Когда это значение не установлено, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует ноябрь 2004 года в качестве даты, необходимой видеодрайверу.  
  
<a name="usereferencerasterizeroption"></a>   
## Опция растеризации используемой ссылки  
  
|Раздел реестра|Тип значения|  
|--------------------|------------------|  
|`HKEY_CURRENT_USER\SOFTWARE\Microsoft\Avalon.Graphics\UseReferenceRasterizer`|DWORD|  
  
 **Параметр использования средства программной прорисовки** позволяет перевести [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] в режим смоделированной аппаратной отрисовки для отладки: [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] переходит в режим оборудования, но использует средство программной прорисовки [!INCLUDE[TLA#tla_d3d](../../../../includes/tlasharptla-d3d-md.md)] d3dref9.dll вместо фактического устройства.  
  
 Растеризация ссылки является очень медленной, но обходит видеодрайвер во избежание проблем отрисовки, вызванных неполадками драйвера.  По этой причине можно использовать растеризацию ссылок, чтобы определить, существуют ли проблемы отрисовки, вызванные видеодрайвером.  Файл d3dref9.DLL должен находиться там, где приложения смогут обращаться к нему, например в любом месте в системном пути или в локальном каталоге приложения.  
  
 **Опция растеризации используемой ссылки** принимает значение типа DWORD.  Значение, равное 0, указывает на тот, что растеризация ссылки не используется.  Любое другое отличное от нуля значение заставляет [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использовать растеризацию ссылок.  
  
## См. также  
 [Уровни графической отрисовки](../../../../docs/framework/wpf/advanced/graphics-rendering-tiers.md)   
 [Общие сведения об отрисовке графики в WPF](../../../../docs/framework/wpf/graphics-multimedia/wpf-graphics-rendering-overview.md)