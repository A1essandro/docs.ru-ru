---
title: "Оснастка консоли MMC для конфигурации WS-AtomicTransaction | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 23592973-1d51-44cc-b887-bf8b0d801e9e
caps.latest.revision: 17
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 17
---
# Оснастка консоли MMC для конфигурации WS-AtomicTransaction
Оснастка консоли MMC для настройки WS\-AtomicTransaction позволяет настраивать параметры WS\-AtomicTransaction как на локальном, так и на удаленном компьютерах.  
  
## Примечания  
 Чтобы найти оснастку консоли MMC в [!INCLUDE[wxp](../../../includes/wxp-md.md)] или [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], выберите **Панель управления\/Администрирование\/Службы компонентов\/**, щелкните правой кнопкой мыши **Мой компьютер** и выберите **Свойства**.В этом же расположении можно настроить координатор MSDTC.Доступные для настройки параметры сгруппированы на вкладке **WS\-AT**.  
  
 Чтобы найти оснастку MMC в Windows Vista или [!INCLUDE[lserver](../../../includes/lserver-md.md)], нажмите кнопку **Пуск** и введите `dcomcnfg.exe` в поле **Поиск**.После открытия консоли MMC перейдите к узлу **Мой компьютер\\Координатор распределенных транзакций\\Локальный DTC**, щелкните правой кнопкой мыши и выберите **Свойства**.Доступные для настройки параметры сгруппированы на вкладке **WS\-AT**.  
  
 Предыдущие шаги используются, чтобы запустить оснастку для настройки локального компьютера.Для настройки удаленного компьютера необходимо найти его имя в узле **Панель управления\/Администрирование\/Службы компонентов\/** и выполнить аналогичные шаги, если используется [!INCLUDE[wxp](../../../includes/wxp-md.md)] или [!INCLUDE[ws2003](../../../includes/ws2003-md.md)].В случае использования Windows Vista или [!INCLUDE[lserver](../../../includes/lserver-md.md)] выполните указанные ранее шаги для Vista и [!INCLUDE[lserver](../../../includes/lserver-md.md)], но выберите узел **Координатор распределенных транзакций\\Локальный DTC** в узле удаленного компьютера.  
  
 Для работы с пользовательским интерфейсом, предоставляемым средством, необходимо зарегистрировать файл WsatUI.dll. Путь к этому файлу:  
  
 **%PROGRAMFILES%\\Microsoft SDKs\\Windows\\v6.0\\Bin\\WsatUI.dll**  
  
 Регистрацию можно выполнить с помощью следующей команды.  
  
```Output  
regasm.exe /codebase WsatUI.dll  
```  
  
 Это средство можно использовать для изменения основных параметров WS\-AtomicTransaction.Например, можно включить или отключить поддержку протокола WS\-AtomicTransaction, настроить HTTP\-порты для WS\-AT, привязать SSL\-сертификат к HTTP\-порту, настроить сертификаты путем указания имен субъектов сертификатов, выбрать режим трассировки и задать значения времени ожидания \(по умолчанию и максимальное\).  
  
 Если поддержку WS\-AtomicTransaction требуется настроить только на локальном компьютере, вы можете запустить версию данного средства, использующую интерфейс командной строки.[!INCLUDE[crabout](../../../includes/crabout-md.md)] о программе командной строки см. в разделе [Программа конфигурации WS\-AtomicTransaction \(wsatConfig.exe\)](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md).  
  
 Следует иметь в виду, что оснастка консоли MMC и программа командной строки не поддерживают настройку всех параметров WS\-AT.Некоторые параметры можно изменять только путем непосредственного редактирования реестра.[!INCLUDE[crabout](../../../includes/crabout-md.md)] о данных параметрах реестра см. в разделе [Настройка поддержки транзакций WS\-Atomic](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md).  
  
### Описание пользовательского интерфейса  
 **Включить сетевую поддержку WS\-Atomic Transaction**:  
  
 Этот флажок позволяет включить или отключить все компоненты графического пользовательского интерфейса данной оснастки.  
  
 Перед установкой этого флажка убедитесь, что сетевой доступ DTC включен с входящей или исходящей связью либо с обоими типами связи.Это значение можно проверить на вкладке **Безопасность** оснастки MSDTC.  
  
#### Группа "Сеть"  
 Также можно задать HTTPS\-порт и дополнительные параметры безопасности, например SSL\-шифрование, в группе "Сеть".Эта группа отключена \(отображается серым цветом\), если отключены сетевые транзакции DTC.  
  
 **HTTPS\-порт**  
  
 Это номер HTTPS\-порта, используемого для WS\-AT.Номер порта должен быть целым числом из диапазона 1–65535 \(чтобы представлять допустимый порт\).Изменение HTTP\-порта приводит к изменению конфигурации службы HTTP; это означает, что ранее использовавшийся адрес службы WS\-AT удаляется и регистрируется новый адрес службы WS\-AT на основе нового порта.Кроме того, вновь выбранный порт шифруется с помощью выбранного в данный момент сертификата для SSL\-шифрования.  
  
> [!NOTE]
>  Если брандмауэр был включен перед запуском данного средства, порт автоматически регистрируется в списке исключений.Если брандмауэр был отключен перед запуском данного средства, никакой дополнительной настройки относительно брандмауэра не выполняется.  
  
 В случае включения брандмауэра после настройки WS\-AT необходимо повторно запустить данное средство и указать номер порта с помощью этого параметра.В случае отключения брандмауэра после настройки WS\-AT продолжает работу без ввода дополнительных данных.  
  
 **Сертификат конечной точки**  
  
 При нажатии кнопки **Выбрать** отображается список сертификатов, доступных в данный момент на локальном компьютере, что позволяет пользователю выбрать сертификат, который может использоваться для SSL\-шифрования.Сертификаты должны иметь закрытый ключ.В противном случае отображается сообщение об ошибке.  
  
> [!NOTE]
>  При задании SSL\-сертификата для выбранного порта выполняется перезапись исходного SSL\-сертификата \(если он существует\), связанного с этим портом.  
  
 **Авторизованные учетные записи**  
  
 При нажатии кнопки **Выбрать** открывается редактор списков управления доступом Windows, где можно указать пользователя или группу, которые могут участвовать в транзакциях WS\-Atomic; для этого необходимо установить флажок **Разрешить** или **Запретить** в группе разрешений **Участвовать**.  
  
 **Авторизованные сертификаты**  
  
 При нажатии кнопки **Выбрать** отображается список сертификатов, доступных в данный момент на локальном компьютере.После этого можно выбрать сертификаты, которым разрешено участвовать в транзакциях WS\-Atomic.  
  
#### Группа "Время ожидания"  
 Группа **Время ожидания** позволяет задать два значения времени ожидания для транзакции WS\-Atomic: по умолчанию и максимальное.Допустимое значение для исходящего времени ожидания составляет от 1 до 3600.Допустимое значение для входящего времени ожидания составляет от 0 до 3600.  
  
#### Группа "Трассировка и регистрация"  
 Группа **Трассировка и регистрация** позволяет настроить требуемый уровень трассировки и ведения журнала.  
  
 При нажатии кнопки **Параметры** отображается страница, на которой можно задать дополнительные параметры.  
  
 В комбинированном списке **Уровень трассировки** можно выбрать любое допустимое значение перечисления <xref:System.Diagnostics.TraceLevel>.Кроме того, можно использовать флажки, чтобы указать необходимость трассировки действий, распространения действий или сбора персональных данных.  
  
 Также можно указать сеансы ведения журнала в группе **Сеансы регистрации**.  
  
> [!NOTE]
>  Новый сеанс ведения журнала для событий трассировки невозможно создать, если поставщик трассировки WS\-AT используется другим потребителем трассировки.Любая попытка настроить ведение журнала в течение этого времени приводит к отображению следующего сообщения об ошибке: "Не удалось активировать поставщик.Код ошибки: 1".  
  
 [!INCLUDE[crabout](../../../includes/crabout-md.md)] трассировке и ведении журнала см. в разделе [Администрирование и диагностика](../../../docs/framework/wcf/diagnostics/index.md).  
  
## См. также  
 [Настройка поддержки транзакций WS\-Atomic](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md)   
 [Программа конфигурации WS\-AtomicTransaction \(wsatConfig.exe\)](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md)   
 [Администрирование и диагностика](../../../docs/framework/wcf/diagnostics/index.md)