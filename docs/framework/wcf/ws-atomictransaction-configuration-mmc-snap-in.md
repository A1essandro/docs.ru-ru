---
title: "Оснастка консоли MMC для конфигурации WS-AtomicTransaction"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 23592973-1d51-44cc-b887-bf8b0d801e9e
caps.latest.revision: "17"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 73db4b201aba6e07891803aa86c56403f135f863
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="ws-atomictransaction-configuration-mmc-snap-in"></a>Оснастка консоли MMC для конфигурации WS-AtomicTransaction
Оснастка консоли MMC для настройки WS-AtomicTransaction позволяет настраивать параметры WS-AtomicTransaction как на локальном, так и на удаленном компьютерах.  
  
## <a name="remarks"></a>Примечания  
 Если вы используете [!INCLUDE[wxp](../../../includes/wxp-md.md)] или [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], оснастки MMC можно найти, перейдя к **управления панели/Администрирование/службы компонентов /**, щелкните правой кнопкой мыши **Мой компьютер**, и При выборе **свойства**. В этом же расположении можно настроить координатор MSDTC. Доступные для настройки параметры сгруппированы на вкладке **WS-AT** вкладки.  
  
 Если вы используете Windows Vista или [!INCLUDE[lserver](../../../includes/lserver-md.md)], можно найти оснастку MMC, щелкнув **запустить** и введите в `dcomcnfg.exe` в **поиска** поле. После открытия консоли MMC перейдите к **Мой компьютер\координатор транзакций транзакций\локальный DTC** узел, щелкните правой кнопкой мыши и выберите **свойства**. Доступные для настройки параметры сгруппированы на вкладке **WS-AT** вкладки.  
  
 Предыдущие шаги используются, чтобы запустить оснастку для настройки локального компьютера. Если вы хотите настроить удаленный компьютер, необходимо найти имя удаленного компьютера в **управления панели/Администрирование/службы компонентов /**и выполнить аналогичные шаги, если вы используете [!INCLUDE[wxp](../../../includes/wxp-md.md)] или [!INCLUDE[ws2003](../../../includes/ws2003-md.md)]. Если вы используете Windows Vista или [!INCLUDE[lserver](../../../includes/lserver-md.md)], выполните указанные ранее шаги для Vista и [!INCLUDE[lserver](../../../includes/lserver-md.md)], но использовать **координатор распределенных транзакций\локальный DTC** узел в узле удаленного компьютера.  
  
 Для работы с пользовательским интерфейсом, предоставляемым средством, необходимо зарегистрировать файл WsatUI.dll. Путь к этому файлу:  
  
 **%ProgramFiles%\Microsoft SDKs\Windows\v6.0\Bin\WsatUI.dll**  
  
 Регистрацию можно выполнить с помощью следующей команды.  
  
```Output  
regasm.exe /codebase WsatUI.dll  
```  
  
 Это средство можно использовать для изменения основных параметров WS-AtomicTransaction. Например, можно включить или отключить поддержку протокола WS-AtomicTransaction, настроить HTTP-порты для WS-AT, привязать SSL-сертификат к HTTP-порту, настроить сертификаты путем указания имен субъектов сертификатов, выбрать режим трассировки и задать значения времени ожидания (по умолчанию и максимальное).  
  
 Если поддержку WS-AtomicTransaction требуется настроить только на локальном компьютере, можно запустить версию данного средства, использующую интерфейс командной строки. [!INCLUDE[crabout](../../../includes/crabout-md.md)]средство командной строки в разделе [программы конфигурации WS-AtomicTransaction (wsatConfig.exe)](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md) раздела.  
  
 Следует иметь в виду, что оснастка консоли MMC и программа командной строки не поддерживают настройку всех параметров WS-AT. Некоторые параметры можно изменять только путем непосредственного редактирования реестра. [!INCLUDE[crabout](../../../includes/crabout-md.md)]Эти параметры реестра в разделе [Настройка поддержки транзакций WS-AT](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md).  
  
### <a name="user-interface-description"></a>Описание пользовательского интерфейса  
 **Включить сетевую поддержку WS-Atomic Transaction**:  
  
 Этот флажок позволяет включить или отключить все компоненты графического пользовательского интерфейса данной оснастки.  
  
 Перед установкой этого флажка убедитесь, что сетевой доступ DTC включен с входящей или исходящей связью либо с обоими типами связи. Это значение можно проверить в **безопасности** вкладку оснастки MSDTC.  
  
#### <a name="network-group-box"></a>Группа "Сеть"  
 Также можно задать HTTPS-порт и дополнительные параметры безопасности, например SSL-шифрование, в группе "Сеть". Эта группа отключена (отображается серым цветом), если отключены сетевые транзакции DTC.  
  
 **HTTPS-порт**  
  
 Это номер HTTPS-порта, используемого для WS-AT. Номер порта должен быть целым числом из диапазона 1–65535 (чтобы представлять допустимый порт). Изменение HTTP-порта приводит к изменению конфигурации службы HTTP; это означает, что ранее использовавшийся адрес службы WS-AT удаляется и регистрируется новый адрес службы WS-AT на основе нового порта. Кроме того, вновь выбранный порт шифруется с помощью выбранного в данный момент сертификата для SSL-шифрования.  
  
> [!NOTE]
>  Если брандмауэр был включен перед запуском данного средства, порт автоматически регистрируется в списке исключений. Если брандмауэр был отключен перед запуском данного средства, никакой дополнительной настройки относительно брандмауэра не выполняется.  
  
 В случае включения брандмауэра после настройки WS-AT необходимо повторно запустить данное средство и указать номер порта с помощью этого параметра. В случае отключения брандмауэра после настройки WS-AT продолжает работу без ввода дополнительных данных.  
  
 **Сертификат конечной точки**  
  
 Щелкнув **выберите** кнопка отображается список доступных сертификатов на локальном компьютере, позволяя пользователю выбрать сертификат, который может использоваться для шифрования SSL. Сертификаты должны иметь закрытый ключ. В противном случае отображается сообщение об ошибке.  
  
> [!NOTE]
>  При задании SSL-сертификата для выбранного порта выполняется перезапись исходного SSL-сертификата (если он существует), связанного с этим портом.  
  
 **Авторизованные учетные записи**  
  
 Щелкнув **выберите** кнопки открывается редактор списков управления доступом Windows, где можно указать пользователя или группы, которые могут участвовать в транзакциях WS-AT, проверив **Разрешить** или **Deny** поле **участвовать** группы разрешений.  
  
 **Авторизованные сертификаты**  
  
 Щелкнув **выберите** кнопка отображает список доступных сертификатов на локальном компьютере. После этого можно выбрать сертификаты, которым разрешено участвовать в транзакциях WS-Atomic.  
  
#### <a name="timeout-group-box"></a>Группа "Время ожидания"  
 **Время ожидания** группа позволяет указать время ожидания по умолчанию и максимальное для транзакций WS-AT. Допустимое значение для исходящего времени ожидания составляет от 1 до 3600. Допустимое значение для входящего времени ожидания составляет от 0 до 3600.  
  
#### <a name="tracing-and-logging-group-box"></a>Группа "Трассировка и регистрация"  
 **Трассировки и ведения журнала** группы поле позволяет настроить требуемый трассировки и уровень ведения журнала.  
  
 Щелкнув **параметры** кнопка вызывает страницу, где можно указать дополнительные параметры.  
  
 **Уровень трассировки** комбинированном можно выбрать любое допустимое значение из <xref:System.Diagnostics.TraceLevel> перечисления. Кроме того, можно использовать флажки, чтобы указать необходимость трассировки действий, распространения действий или сбора персональных данных.  
  
 Можно также указать сеансы ведения журнала в **сеанса ведения журнала** группа.  
  
> [!NOTE]
>  Новый сеанс ведения журнала для событий трассировки невозможно создать, если поставщик трассировки WS-AT используется другим потребителем трассировки. Любая попытка настроить ведение журнала в течение этого времени приводит к отображению следующего сообщения об ошибке: "Не удалось активировать поставщик. Код ошибки: 1".  
  
 [!INCLUDE[crabout](../../../includes/crabout-md.md)]Трассировка и ведение журнала, в разделе [Администрирование и диагностика](../../../docs/framework/wcf/diagnostics/index.md).  
  
## <a name="see-also"></a>См. также  
 [Настройка поддержки транзакций WS-Atomic](../../../docs/framework/wcf/feature-details/configuring-ws-atomic-transaction-support.md)  
 [Служебная программа конфигурации WS-AtomicTransaction (wsatConfig.exe)](../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md)  
 [Администрирование и диагностика](../../../docs/framework/wcf/diagnostics/index.md)
