---
title: "Узел службы WCF (WcfSvcHost.exe) | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 8643a63d-a357-4c39-bd6c-cdfdf71e370e
caps.latest.revision: 27
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 27
---
# Узел службы WCF (WcfSvcHost.exe)
[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] Узел службы \(WcfSvcHost.exe\) позволяет запускать отладчик [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] \(F5\) для автоматического размещения и проверки реализованной службы.Затем службу можно проверить с помощью тестового клиента [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] \(WcfTestClient.exe\) или своего собственного клиента для поиска и устранения потенциальных ошибок.  
  
## Узел службы WCF  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] Узел службы выполняет перечисление служб в проекте службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], загружает конфигурацию проекта и создает экземпляр узла для каждой найденной службы.Средство встроено в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] посредством шаблона службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] и вызывается в начале отладки проекта.  
  
 Используя узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], можно разместить службу [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] \(в проекте библиотеки службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]\) без создания дополнительного кода или фиксации в конкретном узле во время разработки.  
  
> [!NOTE]
>  Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не поддерживает частичное доверие.При необходимости использования службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в частичном доверии не используется шаблон проекта библиотеки служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] для построения службы.Вместо этого создайте новый веб\-узел в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] путем выбора шаблона веб\-узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], который может разместить службу в веб\-сервере, в котором поддерживается частичное доверие [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
## Типы проектов, размещенные узлом службы WCF  
 Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] может разместить следующие типы проекта библиотеки служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]: библиотека служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], библиотека служб последовательных рабочих процессов, библиотека служб рабочих процессов конечного компьютера и библиотека служб синдикации.Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] также может разместить службы, которые можно добавить в проект библиотеки служб с помощью функциональной возможности **Добавить элемент**.Сюда включается служба [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], служба конечного компьютера WF, последовательная служба WF, служба конечного компьютера WF XAML и последовательная служба WF XAML.  
  
 Однако следует отметить, что это средство не окажет содействия в настройке узла.Для этой задачи необходимо вручную отредактировать файл App.config.Это средство также не выполняет проверку подлинности пользовательских файлов конфигурации.  
  
> [!CAUTION]
>  Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не следует использовать для размещения служб в рабочей среде, так как он не был разработан для этой цели.Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не поддерживает требования к надежности, безопасности и управляемости такой среды.Вместо этого используется IIS, поскольку таким образом обеспечивается высочайшие свойства надежности и мониторинга, предоставляющие предпочтительное решение для служб размещения.После завершения разработки служб необходимо перенести службы из узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в IIS.  
  
## Сценарии для использования узла службы WCF в Visual Studio  
 В следующей таблице перечислены все параметры в диалоговом окне **Аргументы командной строки**, которые можно найти, щелкнув правой кнопкой мыши проект в **обозревателе решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], выбрав **Свойства**, выбрав вкладку **Отладка** и нажав кнопку **Запуск проекта**.Эти параметры используются при настройке узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
|Параметр|Значение|  
|--------------|--------------|  
|`/client`|Необязательный параметр, задающий путь к исполняемому файлу для запуска после размещения служб.Он запускает тестовый клиент [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], следующий за размещением.|  
|`/clientArg`|Задайте строку в качестве аргумента, передаваемого настраиваемому клиентскому приложению.|  
|`/?`|Отображает текст справки.|  
  
#### Использование тестового клиента WCF  
 После создания нового проекта службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] и нажатия клавиши F5 для запуска отладчика узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] запускает размещение всех служб, найденных в проекте.Тестовый клиент [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] автоматически открывает и отображает список конечных точек службы, определенных в файле конфигурации.В главном окне можно проверить параметры и вызвать службу.  
  
 Чтобы убедиться в использовании тестового клиента [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], щелкните правой кнопкой мыши проект в **обозревателе решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], выберите **Свойства** и выберите вкладку **Отладка**.Нажмите кнопку **Запуск проекта** и убедитесь, что в диалоговом окне **Аргументы командной строки** отображается следующее:  
  
 `/client:WcfTestClient.exe`  
  
#### Использование настраиваемого клиента  
 Чтобы использовать настраиваемый клиент, щелкните правой кнопкой мыши проект в **обозревателе решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], выберите **Свойства** и выберите вкладку **Отладка**.Нажмите кнопку **Запуск проекта** и отредактируйте параметр `/client` в диалоговом окне **Аргументы командной строки**, чтобы указать настраиваемый клиент, как указано в следующем примере:  
  
 `/client:"path/CustomClient.exe"`  
  
 При нажатии клавиши F5 для повторного запуска службы узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] автоматически выполнит запуск настраиваемого клиента и запустит отладчик.  
  
 Также можно использовать параметр `/clientArg:`, чтобы указать строку в качестве аргумента, переданного пользовательскому клиентскому приложению, как указано в следующем примере.  
  
 `/client:"path/CustomClient.exe" /clientArg:"arguments that are passed to Client"`  
  
 Например, если используется шаблон библиотеки служб синдикации, то можно использовать следующие аргументы командной строки,  
  
 `/client:iexplore.exe /clientArgs:http://localhost:8731/Design_Time_Addresses/Feed1/`  
  
#### Указание отсутствия клиента  
 Чтобы указать отсутствие использования клиента после размещения службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], щелкните правой кнопкой мыши проект в **обозревателе решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], выберите **Свойства** и выберите вкладку **Отладка**.Нажмите кнопку **Запуск проекта** и оставьте пустым диалоговое окно **Аргументы командной строки**.  
  
#### Использование настраиваемого узла  
 Чтобы использовать настраиваемый узел, щелкните правой кнопкой мыши проект в **обозревателе решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], выберите **Свойства** и выберите вкладку **Отладка**.Нажмите кнопку **Запуск внешней программы** и введите полный путь к настраиваемому узлу.Также можно использовать диалоговое окно **Аргументы командной строки**, чтобы задать аргументы для передачи узлу.  
  
## Пользовательский интерфейс узла службы WCF  
 При изначальном запуске узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] \(путем нажатия клавиши F5 в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]\) автоматически откроется окно **Узел службы WCF**.При выполнении узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] значок программы автоматически появится в области уведомлений.Дважды щелкните значок, чтобы открыть окно **Узел службы WCF**.  
  
 При возникновении ошибок во время размещения службы откроется диалоговое окно узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], чтобы отобразить соответствующие сведения.  
  
 В главном окне **Узел службы WCF** содержатся два меню:  
  
-   **Файл**: содержит команды **Закрыть** и **Выход**.При нажатии кнопки **Закрыть** диалоговое окно **Узел службы WCF** закрывается, но размещение служб продолжается.При нажатии кнопки **Выход** узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] также завершает работу.Также завершается работа всех размещенных служб.  
  
-   **Справка**: содержит команду **О программе**, в которой содержатся сведения о версии.Также в ней содержится команда **Справка**, которая также может открыть файл справки.  
  
 В главном окне **Узел службы WCF** содержатся две области:  
  
-   Первая область — **Служба**.В ней содержится список, отображающий основные сведения всех служб.К ним относятся следующие сведения:  
  
    -   **Служба**: составляет список всех служб.  
  
    -   **Состояние**: составляет список состояния службы.Допустимые значения: «Запущено», «Остановлено» и «Ошибка».  
  
    -   **Адрес метаданных**: отображает адрес метаданных служб.  
  
-   Вторая область — **Дополнительные сведения**.В ней отображены подробные сведения о состоянии службы при выборе конкретной строки службы в области **Служба**.Если состояние — «Ошибка», можно просмотреть полное сообщение об ошибке на экране.  
  
## Остановка узла службы WCF  
 Работу узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] можно завершить следующими четырьмя способами:  
  
-   Остановите сеанс отладки в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)].  
  
-   Выберите вариант **Выход** в меню **Файл** в окне **Узел службы WCF**.  
  
-   Выбрать команду **Выход** в контекстном меню значка в панели задач узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в области уведомлений системы.  
  
-   Выйти из тестового клиента [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], если он используется.  
  
## Использование узла службы без прав администратора  
 Чтобы позволить пользователю, у которого нет прав администратора, разрабатывать службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], для пространства имен "http:\/\/\+:8731\/Design\_Time\_Addresses" при установке [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] создается список управления доступом \(ACL\).Список управления доступом определяется пользовательским интерфейсом, который включает всех пользователей, выполнивших вход в систему.Администраторы могут добавлять или удалять пользователей из этого списка ACL или открыть дополнительные порты. Этот список ACL позволяет пользователям использовать средство Service Auto Host [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] \(wcfSvcHost.exe\) без предоставления им прав администратора.  
  
 Можно изменить доступ используя средство netsh.exe в [!INCLUDE[wv](../../../includes/wv-md.md)] под учетной записью администратора.Ниже приведен пример использования средства netsh.exe.  
  
```  
netsh http add urlacl url=http://+:8001/MyService user=<domain>\<user>  
```  
  
 Дополнительные сведения о средстве netsh.exe см. в "[Использование средства Netsh.exe и переключателей командной строки](http://go.microsoft.com/fwlink/?LinkId=97877)".  
  
## См. также  
 [Тестовый клиент WCF \(WcfTestClient.exe\)](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)