---
title: "Узел службы WCF (WcfSvcHost.exe)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8643a63d-a357-4c39-bd6c-cdfdf71e370e
caps.latest.revision: "27"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 709e73b0fe665d836dfa50a630de35d955e110eb
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="wcf-service-host-wcfsvchostexe"></a>Узел службы WCF (WcfSvcHost.exe)
[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] Узел службы (WcfSvcHost.exe) делает возможным запуск отладчика [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] (F5) для автоматического размещения и проверки реализованной службы. Затем службу можно проверить с помощью тестового клиента [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] (WcfTestClient.exe) или своего собственного клиента для поиска и устранения потенциальных ошибок.  
  
## <a name="wcf-service-host"></a>Узел службы WCF  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] Узел службы выполняет перечисление служб в проекте службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], загружает конфигурацию проекта и создает экземпляр узла для каждой найденной службы. Средство встроено в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] посредством шаблона службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] и вызывается в начале отладки проекта.  
  
 Используя узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], можно разместить службу [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] (в проекте библиотеки службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]) без создания дополнительного кода или фиксации в конкретном узле во время разработки.  
  
> [!NOTE]
>  Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не поддерживает частичное доверие. При необходимости использования службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в частичном доверии не используется шаблон проекта библиотеки служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] для построения службы. Вместо этого создайте новый веб-узел в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] путем выбора шаблона веб-узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], который может разместить службу в веб-сервере, в котором поддерживается частичное доверие [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
## <a name="project-types-hosted-by-wcf-service-host"></a>Типы проектов, размещенные узлом службы WCF  
 Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] может разместить следующие типы проекта библиотеки служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]: библиотека служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], библиотека служб последовательных рабочих процессов, библиотека служб рабочих процессов конечного компьютера и библиотека служб синдикации. [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]Узел службы также может разместить службы, которые можно добавить в проект библиотеки службы с помощью **добавить элемент** функциональные возможности. Сюда включается служба [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], служба конечного компьютера WF, последовательная служба WF, служба конечного компьютера WF XAML и последовательная служба WF XAML.  
  
 Однако следует отметить, что это средство не окажет содействия в настройке узла. Для этой задачи необходимо вручную отредактировать файл App.config. Это средство также не выполняет проверку подлинности пользовательских файлов конфигурации.  
  
> [!CAUTION]
>  Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не следует использовать для размещения служб в рабочей среде, так как он не был разработан для этой цели.  Узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не поддерживает требования к надежности, безопасности и управляемости такой среды. Вместо этого используется IIS, поскольку таким образом обеспечивается высочайшие свойства надежности и мониторинга, предоставляющие предпочтительное решение для служб размещения. После завершения разработки служб необходимо перенести службы из узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в IIS.  
  
## <a name="scenarios-for-using-wcf-service-host-inside-visual-studio"></a>Сценарии для использования узла службы WCF в Visual Studio  
 В следующей таблице перечислены все параметры в **аргументы командной строки** dialog box, в котором можно найти, щелкнув правой кнопкой мыши проект в **обозревателя решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], выбрав  **Свойства**, выбрав **отладки** и нажав кнопку **запуск проекта**. Эти параметры используются при настройке узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
|Параметр|Значение|  
|---------------|-------------|  
|`/client`|Необязательный параметр, задающий путь к исполняемому файлу для запуска после размещения служб. Он запускает тестовый клиент [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], следующий за размещением.|  
|`/clientArg`|Задайте строку в качестве аргумента, передаваемого настраиваемому клиентскому приложению.|  
|`/?`|Отображает текст справки.|  
  
#### <a name="using-wcf-test-client"></a>Использование тестового клиента WCF  
 После создания нового проекта службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] и нажатия клавиши F5 для запуска отладчика узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] запускает размещение всех служб, найденных в проекте. Тестовый клиент [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] автоматически открывает и отображает список конечных точек службы, определенных в файле конфигурации. В главном окне можно проверить параметры и вызвать службу.  
  
 Чтобы убедиться в том, что [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] используется тестовый клиент, щелкните правой кнопкой мыши проект в **обозревателя решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]выберите **свойства**, а затем выберите **отладки**вкладки. Нажмите кнопку **запуск проекта** и убедитесь, что отображается следующее **аргументы командной строки** диалоговое окно.  
  
 `/client:WcfTestClient.exe`  
  
#### <a name="using-a-custom-client"></a>Использование настраиваемого клиента  
 Чтобы использовать пользовательский клиент, щелкните правой кнопкой мыши проект в **обозревателя решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]выберите **свойства**, а затем выберите **отладки** вкладки. Нажмите кнопку **запуск проекта** и изменить `/client` параметр в **аргументы командной строки** диалоговое окно «» для указания настраиваемого клиента, как показано в следующем примере.  
  
 `/client:"path/CustomClient.exe"`  
  
 При нажатии клавиши F5 для повторного запуска службы узел службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] автоматически выполнит запуск настраиваемого клиента и запустит отладчик.  
  
 Также можно использовать параметр `/clientArg:`, чтобы указать строку в качестве аргумента, переданного настраиваемому клиентскому приложению, как указано в следующем примере:  
  
 `/client:"path/CustomClient.exe" /clientArg:"arguments that are passed to Client"`  
  
 Например, если используется шаблон библиотеки служб синдикации, то можно использовать следующие аргументы командной строки:  
  
 `/client:iexplore.exe /clientArgs:http://localhost:8731/Design_Time_Addresses/Feed1/`  
  
#### <a name="specifying-no-client"></a>Указание отсутствия клиента  
 Чтобы указать, что клиент не будет использоваться после [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] размещения службы, щелкните правой кнопкой мыши проект в **обозревателя решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]выберите **свойства**, выберите **Отладка** вкладки. Нажмите кнопку **запуск проекта** и оставить **аргументы командной строки** диалоговое окно пустым.  
  
#### <a name="using-a-custom-host"></a>Использование настраиваемого узла  
 Чтобы использовать пользовательский узел, щелкните правой кнопкой мыши проект в **обозревателя решений** в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]выберите **свойства**, а затем выберите **отладки** вкладки. Нажмите кнопку **запуск внешней программы** и введите полный путь к пользовательского основного приложения. Можно также использовать **аргументы командной строки** диалоговое окно «», чтобы задать аргументы для передачи узлу.  
  
## <a name="wcf-service-host-user-interface"></a>Пользовательский интерфейс узла службы WCF  
 При изначальном запуске [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] узла службы (путем нажатия клавиши F5 в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]), **узел службы WCF** автоматически откроется окно. При выполнении узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] значок программы автоматически появится в области уведомлений. Дважды щелкните значок, чтобы открыть **узел службы WCF** окна  
  
 При возникновении ошибок во время размещения службы откроется диалоговое окно узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], чтобы отобразить соответствующие сведения.  
  
 **Узел службы WCF** главное окно содержатся два меню:  
  
-   **Файл**: содержит **закрыть** и **выхода** команд. При нажатии кнопки **закрыть**, **узел службы WCF** диалоговое окно закрывается, но размещение служб продолжается для размещения. При нажатии кнопки **выхода**, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] узел службы также завершает работу. Также завершается работа всех размещенных служб.  
  
-   **Справка**: содержит **о** команду, которая содержит сведения о версии. Он также содержит **справки** команду, можно открыть файл справки.  
  
 Главный **узел службы WCF** окно содержит две области:  
  
-   Первая область- **службы**. В ней содержится список, отображающий основные сведения всех служб. К ним относятся следующие сведения:  
  
    -   **Служба**: список всех служб.  
  
    -   **Состояние**: будут перечислены состояния службы. Допустимые значения: «Запущено», «Остановлена» и «Ошибка».  
  
    -   **Адрес метаданных**: отображает адрес метаданных службы.  
  
-   Вторая область- **дополнительной информацией**. Подробное описание состояния службы отображается при выборе конкретной строки службы **службы** области. Если состояние - «Ошибка», можно просмотреть полное сообщение об ошибке на экране.  
  
## <a name="stopping-wcf-service-host"></a>Остановка узла службы WCF  
 Работу узла службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] можно завершить следующими четырьмя способами:  
  
-   Остановите сеанс отладки в [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)].  
  
-   Выберите **выхода** из **файл** меню в **узел службы WCF** окна.  
  
-   Выберите **выхода** в контекстном меню [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] значок на панели задач узла службы в области уведомлений системы.  
  
-   Выйдите из тестового клиента [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], если он используется.  
  
## <a name="using-service-host-without-administrator-privilege"></a>Использование узла службы без прав администратора  
 Чтобы позволить пользователю, у которого нет прав администратора, разрабатывать службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], для пространства имен "http://+:8731/Design_Time_Addresses" при установке [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] создается список управления доступом (ACL). Список управления доступом определяется пользовательским интерфейсом, который включает всех пользователей, выполнивших вход в систему. Администраторы могут добавлять или удалять пользователей из этого списка ACL или открыть дополнительные порты. Этот список ACL позволяет пользователям использовать средство Service Auto Host [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] (wcfSvcHost.exe) без предоставления им прав администратора.  
  
 Можно изменить доступ используя средство netsh.exe в [!INCLUDE[wv](../../../includes/wv-md.md)] под учетной записью администратора. Ниже приведен пример использования средства netsh.exe.  
  
```  
netsh http add urlacl url=http://+:8001/MyService user=<domain>\<user>  
```  
  
 Дополнительные сведения о netsh.exe см. в разделе «[способы использования средства Netsh.exe и переключателей командной строки](http://go.microsoft.com/fwlink/?LinkId=97877)».  
  
## <a name="see-also"></a>См. также  
 [Тестовый клиент WCF (WcfTestClient.exe)](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)
