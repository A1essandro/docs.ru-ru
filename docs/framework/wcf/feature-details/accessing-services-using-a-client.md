---
title: Обращение к службам с использованием клиента
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
ms.assetid: c8329832-bf66-4064-9034-bf39f153fc2d
caps.latest.revision: 15
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 209d10f9545be65870f584fa79444f7fab90211a
ms.sourcegitcommit: 94d33cadc5ff81d2ac389bf5f26422c227832052
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/30/2018
---
# <a name="accessing-services-using-a-client"></a><span data-ttu-id="541e4-102">Обращение к службам с использованием клиента</span><span class="sxs-lookup"><span data-stu-id="541e4-102">Accessing Services Using a Client</span></span>
<span data-ttu-id="541e4-103">Клиентские приложения должны создавать, настраивать и использовать клиент [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] или объекты канала для связи со службами.</span><span class="sxs-lookup"><span data-stu-id="541e4-103">Client applications must create, configure, and use [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client or channel objects to communicate with services.</span></span> <span data-ttu-id="541e4-104">[Общие сведения о клиенте WCF](../../../../docs/framework/wcf/wcf-client-overview.md) разделе представлен обзор объектов и шаги, необходимые для создания основных объектов клиента и канала и их использование.</span><span class="sxs-lookup"><span data-stu-id="541e4-104">The [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md) topic provides an overview of the objects and steps involved in creating basic client and channel objects and using them.</span></span>  
  
 <span data-ttu-id="541e4-105">В разделе приводится подробная информация о некоторых проблемах с приложениями клиента и объектами клиента и канала, которые могут пригодиться в зависимости от вашего сценария.</span><span class="sxs-lookup"><span data-stu-id="541e4-105">This topic provides in-depth information about some of the issues with client applications and client and channel objects that may be useful depending upon your scenario.</span></span>  
  
## <a name="overview"></a><span data-ttu-id="541e4-106">Обзор</span><span class="sxs-lookup"><span data-stu-id="541e4-106">Overview</span></span>  
 <span data-ttu-id="541e4-107">В разделе описаны поведение и проблемы, связанные со следующими пунктами.</span><span class="sxs-lookup"><span data-stu-id="541e4-107">This topic describes behavior and issues relating to:</span></span>  
  
-   <span data-ttu-id="541e4-108">Каналы и время существования сеанса.</span><span class="sxs-lookup"><span data-stu-id="541e4-108">Channel and session lifetimes.</span></span>  
  
-   <span data-ttu-id="541e4-109">Обработка исключений.</span><span class="sxs-lookup"><span data-stu-id="541e4-109">Handling exceptions.</span></span>  
  
-   <span data-ttu-id="541e4-110">Понимание блокирующих проблем.</span><span class="sxs-lookup"><span data-stu-id="541e4-110">Understanding blocking issues.</span></span>  
  
-   <span data-ttu-id="541e4-111">Интерактивная инициализация каналов.</span><span class="sxs-lookup"><span data-stu-id="541e4-111">Initializing channels interactively.</span></span>  
  
### <a name="channel-and-session-lifetimes"></a><span data-ttu-id="541e4-112">Каналы и время существования сеанса</span><span class="sxs-lookup"><span data-stu-id="541e4-112">Channel and Session Lifetimes</span></span>  
 <span data-ttu-id="541e4-113">Приложения [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] включают две категории каналов: датаграмма и сеанс.</span><span class="sxs-lookup"><span data-stu-id="541e4-113">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] applications includes two categories of channels, datagram and sessionful.</span></span>  
  
 <span data-ttu-id="541e4-114">Объект *датаграмм* канал является каналом, в котором все сообщения являются некоррелированными.</span><span class="sxs-lookup"><span data-stu-id="541e4-114">A *datagram* channel is a channel in which all messages are uncorrelated.</span></span> <span data-ttu-id="541e4-115">При использовании канала датаграммы на последующую операцию обычно не влияет то, что операция ввода или вывода не удалась, и тот же канал может быть использован повторно.</span><span class="sxs-lookup"><span data-stu-id="541e4-115">With a datagram channel, if an input or output operation fails, the next operation is typically unaffected, and the same channel can be reused.</span></span> <span data-ttu-id="541e4-116">По этой причине в каналах датаграмм обычно не возникает сбоев.</span><span class="sxs-lookup"><span data-stu-id="541e4-116">Because of this, datagram channels typically do not fault.</span></span>  
  
 <span data-ttu-id="541e4-117">*Сеанса* каналы, однако, являются каналами с подключением к другой конечной точке.</span><span class="sxs-lookup"><span data-stu-id="541e4-117">*Sessionful* channels, however, are channels with a connection to the other endpoint.</span></span> <span data-ttu-id="541e4-118">Сообщения в сессии всегда коррелируют с таким же сеансом с другой стороны.</span><span class="sxs-lookup"><span data-stu-id="541e4-118">Messages in a session on one side are always correlated with the same session on the other side.</span></span> <span data-ttu-id="541e4-119">Кроме того, между участниками сеанса должно быть соглашение, описывающее требования к их диалогу, которые, для того чтобы сеанс считался успешным, должны быть удовлетворены.</span><span class="sxs-lookup"><span data-stu-id="541e4-119">In addition, both participants in a session must agree that the requirements of their conversation were met for that session to be considered successful.</span></span> <span data-ttu-id="541e4-120">Если такого соглашения между участниками нет, в канале сеанса может возникнуть ошибка.</span><span class="sxs-lookup"><span data-stu-id="541e4-120">If they cannot agree, the sessionful channel may fault.</span></span>  
  
 <span data-ttu-id="541e4-121">Откройте клиенты явно или неявно, вызвав первую операцию.</span><span class="sxs-lookup"><span data-stu-id="541e4-121">Open clients explicitly or implicitly by calling the first operation.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="541e4-122">Попытка явно обнаружить каналы сеанса со сбоем обычно оказывается полезной, поскольку то, когда вы будете оповещены, зависит от реализации сеанса.</span><span class="sxs-lookup"><span data-stu-id="541e4-122">Trying to explicitly detect faulted sessionful channels is not typically useful, because when you are notified depends upon the session implementation.</span></span> <span data-ttu-id="541e4-123">Например, поскольку <xref:System.ServiceModel.NetTcpBinding?displayProperty=nameWithType> (с отключенным надежным сеансом) покрывает сеанс связи TCP, если при ожидании передачи данных события <xref:System.ServiceModel.ICommunicationObject.Faulted?displayProperty=nameWithType> службы или клиента, желательно получить уведомление о сбое сети незамедлительно.</span><span class="sxs-lookup"><span data-stu-id="541e4-123">For example, because the <xref:System.ServiceModel.NetTcpBinding?displayProperty=nameWithType> (with the reliable session disabled) surfaces the session of the TCP connection, if you listen to the <xref:System.ServiceModel.ICommunicationObject.Faulted?displayProperty=nameWithType> event on the service or the client you are likely to be notified quickly in the event of a network failure.</span></span> <span data-ttu-id="541e4-124">Но надежные сеансы (установленные привязками, в которых включен <xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType>) предназначены для изолирования служб от незначительных сбоев сети.</span><span class="sxs-lookup"><span data-stu-id="541e4-124">But reliable sessions (established by bindings in which the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType> is enabled) are designed to insulate services from small network failures.</span></span> <span data-ttu-id="541e4-125">Если сеанс может быть повторно установлен в течение допустимого периода времени, та же привязка, настроенная для надежных сеансов, может не дать сбой, пока прерывание не будет происходить в течение более продолжительного промежутка времени.</span><span class="sxs-lookup"><span data-stu-id="541e4-125">If the session can be reestablished within a reasonable period of time, the same binding—configured for reliable sessions—might not fault until the interruption continued for a longer period of time.</span></span>  
  
 <span data-ttu-id="541e4-126">Большинство предоставляемых системой привязок (экспонирующих каналы на уровень приложения) использует сеансы по умолчанию, однако <xref:System.ServiceModel.BasicHttpBinding?displayProperty=nameWithType> этого не делает.</span><span class="sxs-lookup"><span data-stu-id="541e4-126">Most of the system-provided bindings (which expose channels to the application layer) use sessions by default, but the <xref:System.ServiceModel.BasicHttpBinding?displayProperty=nameWithType> does not.</span></span> <span data-ttu-id="541e4-127">Дополнительные сведения см. в разделе [с использованием сеансов](../../../../docs/framework/wcf/using-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-127">For more information, see [Using Sessions](../../../../docs/framework/wcf/using-sessions.md).</span></span>  
  
### <a name="the-proper-use-of-sessions"></a><span data-ttu-id="541e4-128">Правильное использование сеансов</span><span class="sxs-lookup"><span data-stu-id="541e4-128">The Proper Use of Sessions</span></span>  
 <span data-ttu-id="541e4-129">Сеансы являются способом, с помощью которого можно узнать, полностью ли был завершен обмен сообщением и обе ли стороны считают его успешным.</span><span class="sxs-lookup"><span data-stu-id="541e4-129">Sessions provide a way to know if the entire message exchange is complete, and if both sides considered it successful.</span></span> <span data-ttu-id="541e4-130">Рекомендуется, чтобы вызывающее приложение открыло канал, использовало его и закрыло канал внутри одного блока try.</span><span class="sxs-lookup"><span data-stu-id="541e4-130">It is recommended that a calling application open the channel, use it, and close the channel inside one try block.</span></span> <span data-ttu-id="541e4-131">Если канал сеанса открыт и однократно вызван метод <xref:System.ServiceModel.ICommunicationObject.Close%2A?displayProperty=nameWithType>, и данный вызов успешно возвращается, значит сеанс был успешен.</span><span class="sxs-lookup"><span data-stu-id="541e4-131">If a session channel is open, and the <xref:System.ServiceModel.ICommunicationObject.Close%2A?displayProperty=nameWithType> method is called once, and that call returns successfully, then the session was successful.</span></span> <span data-ttu-id="541e4-132">"Успешный" в данном случае означает, что все гарантии доставки, заданные привязкой, были обеспечены и другая сторона не вызвала <xref:System.ServiceModel.ICommunicationObject.Abort%2A?displayProperty=nameWithType> в канале перед вызовом <xref:System.ServiceModel.ICommunicationObject.Close%2A>.</span><span class="sxs-lookup"><span data-stu-id="541e4-132">Successful in this case means that all delivery guarantees the binding specified were met, and the other side did not call <xref:System.ServiceModel.ICommunicationObject.Abort%2A?displayProperty=nameWithType> on the channel before calling <xref:System.ServiceModel.ICommunicationObject.Close%2A>.</span></span>  
  
 <span data-ttu-id="541e4-133">В следующем разделе показан пример данного подхода к клиенту.</span><span class="sxs-lookup"><span data-stu-id="541e4-133">The following section provides an example of this client approach.</span></span>  
  
### <a name="handling-exceptions"></a><span data-ttu-id="541e4-134">Обработка исключений</span><span class="sxs-lookup"><span data-stu-id="541e4-134">Handling Exceptions</span></span>  
 <span data-ttu-id="541e4-135">Обработка исключений в приложениях клиента является прямой.</span><span class="sxs-lookup"><span data-stu-id="541e4-135">Handling exceptions in client applications is straightforward.</span></span> <span data-ttu-id="541e4-136">Если канал открыт, использован и закрыт внутри одного блока try, диалог был успешен, кроме случая, если было выдано исключение.</span><span class="sxs-lookup"><span data-stu-id="541e4-136">If a channel is opened, used, and closed inside a try block, then the conversation has succeeded, unless an exception is thrown.</span></span> <span data-ttu-id="541e4-137">Обычно при выдаче исключения диалог прерывается.</span><span class="sxs-lookup"><span data-stu-id="541e4-137">Typically, if an exception is thrown the conversation is aborted.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="541e4-138">Использование `using` инструкции (`Using` в Visual Basic) не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="541e4-138">Use of the `using` statement (`Using` in Visual Basic) is not recommended.</span></span> <span data-ttu-id="541e4-139">Это связано с тем, что конец оператора `using` может привести к исключениям, которые могут маскировать другие исключения, о которых вам, возможно, нужно знать.</span><span class="sxs-lookup"><span data-stu-id="541e4-139">This is because the end of the `using` statement can cause exceptions that can mask other exceptions you may need to know about.</span></span> <span data-ttu-id="541e4-140">Дополнительные сведения см. в разделе [как избежать проблем при использовании операторов](../../../../docs/framework/wcf/samples/avoiding-problems-with-the-using-statement.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-140">For more information, see [Avoiding Problems with the Using Statement](../../../../docs/framework/wcf/samples/avoiding-problems-with-the-using-statement.md).</span></span>  
  
 <span data-ttu-id="541e4-141">В приведенном ниже примере кода демонстрируется рекомендуемый шаблон клиента с помощью блока try/catch, а не с помощью оператора `using`.</span><span class="sxs-lookup"><span data-stu-id="541e4-141">The following code example shows the recommended client pattern using a try/catch block and not the `using` statement.</span></span>  
  
 [!code-csharp[FaultContractAttribute#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/client.cs#3)]
 [!code-vb[FaultContractAttribute#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/client.vb#3)]  
  
> [!NOTE]
>  <span data-ttu-id="541e4-142">Проверка значения свойства <xref:System.ServiceModel.ICommunicationObject.State%2A?displayProperty=nameWithType> является состоянием гонки и не рекомендуется для определения ситуации, когда канал можно использовать повторно или когда его нужно закрыть.</span><span class="sxs-lookup"><span data-stu-id="541e4-142">Checking the value of the <xref:System.ServiceModel.ICommunicationObject.State%2A?displayProperty=nameWithType> property is a race condition and is not recommended to determine whether to reuse or close a channel.</span></span>  
  
 <span data-ttu-id="541e4-143">Каналы датаграммы не дают сбой, даже если исключения происходят при их закрытии.</span><span class="sxs-lookup"><span data-stu-id="541e4-143">Datagram channels never fault even if exceptions occur when they are closed.</span></span> <span data-ttu-id="541e4-144">Кроме того, недуплексные клиенты, которые не смогли пройти проверку с помощью защищенного диалога, как правило, создают исключение <xref:System.ServiceModel.Security.MessageSecurityException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="541e4-144">In addition, non-duplex clients that fail to authenticate using a secure conversation typically throw a <xref:System.ServiceModel.Security.MessageSecurityException?displayProperty=nameWithType>.</span></span> <span data-ttu-id="541e4-145">Однако если дуплексному клиенту, использующему защищенный диалог, не удается пройти проверку, клиент получает вместо этого исключение <xref:System.TimeoutException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="541e4-145">However if the duplex client using a secure conversation fails to authenticate, the client receives a <xref:System.TimeoutException?displayProperty=nameWithType> instead.</span></span>  
  
 <span data-ttu-id="541e4-146">Более полные сведения о работе сведениями об ошибках на уровне приложения см. в разделе [указание и обработка сбоев в контрактах и службах](../../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-146">For more complete information about working with error information at the application level, see [Specifying and Handling Faults in Contracts and Services](../../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span></span> <span data-ttu-id="541e4-147">[Ожидается исключения](../../../../docs/framework/wcf/samples/expected-exceptions.md) описание ожидаемых исключений и показано, как их обрабатывать.</span><span class="sxs-lookup"><span data-stu-id="541e4-147">[Expected Exceptions](../../../../docs/framework/wcf/samples/expected-exceptions.md) describes expected exceptions and shows how to handle them.</span></span> <span data-ttu-id="541e4-148">Дополнительные сведения об обработке ошибок при разработке каналов см. в разделе [обработки исключений и сбоев](../../../../docs/framework/wcf/extending/handling-exceptions-and-faults.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-148">For more information about how to handle errors when developing channels, see [Handling Exceptions and Faults](../../../../docs/framework/wcf/extending/handling-exceptions-and-faults.md).</span></span>  
  
### <a name="client-blocking-and-performance"></a><span data-ttu-id="541e4-149">Блокировка и производительность клиента</span><span class="sxs-lookup"><span data-stu-id="541e4-149">Client Blocking and Performance</span></span>  
 <span data-ttu-id="541e4-150">Когда приложение синхронно вызывает операцию типа запрос-ответ, клиент блокируется до тех пор, пока не будет получено возвращаемое значение или создано исключение (такое как <xref:System.TimeoutException?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="541e4-150">When an application synchronously calls a request-reply operation, the client blocks until a return value is received or an exception (such as a <xref:System.TimeoutException?displayProperty=nameWithType>) is thrown.</span></span> <span data-ttu-id="541e4-151">Такое поведение аналогично локальному поведению.</span><span class="sxs-lookup"><span data-stu-id="541e4-151">This behavior is similar to local behavior.</span></span> <span data-ttu-id="541e4-152">Когда приложение синхронно вызывает операцию объекта клиента или канала [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], клиент ничего не возвращает до тех пор, пока уровень канала сможет записать данные в сеть или до тех пор, пока не будет создано исключение.</span><span class="sxs-lookup"><span data-stu-id="541e4-152">When an application synchronously invokes an operation on a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object or channel, the client does not return until the channel layer can write the data to the network or until an exception is thrown.</span></span> <span data-ttu-id="541e4-153">И до тех пор, пока шаблон одностороннего обмена сообщениями (заданный маркировкой операции с помощью <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A?displayProperty=nameWithType>, которому присвоено значение `true`) повышает реакцию некоторых клиентов, односторонние операции также блокируются, в зависимости от привязки и того, какие сообщения уже были отправлены.</span><span class="sxs-lookup"><span data-stu-id="541e4-153">And while the one-way message exchange pattern (specified by marking an operation with <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A?displayProperty=nameWithType> set to `true`) can make some clients more responsive, one-way operations can also block, depending upon the binding and what messages have already been sent.</span></span> <span data-ttu-id="541e4-154">Односторонние операции относятся только к обмену сообщениями, не больше и не меньше.</span><span class="sxs-lookup"><span data-stu-id="541e4-154">One-way operations are only about the message exchange, no more and no less.</span></span> <span data-ttu-id="541e4-155">Дополнительные сведения см. в разделе [односторонняя службы](../../../../docs/framework/wcf/feature-details/one-way-services.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-155">For more information, see [One-Way Services](../../../../docs/framework/wcf/feature-details/one-way-services.md).</span></span>  
  
 <span data-ttu-id="541e4-156">Большие порции данных могут замедлить обработку клиента, независимо от шаблона обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="541e4-156">Large data chunks can slow client processing no matter what the message exchange pattern.</span></span> <span data-ttu-id="541e4-157">Чтобы понять, как обрабатывать эти проблемы, см. [большие объемы данных и потоковой передачи](../../../../docs/framework/wcf/feature-details/large-data-and-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-157">To understand how to handle these issues, see [Large Data and Streaming](../../../../docs/framework/wcf/feature-details/large-data-and-streaming.md).</span></span>  
  
 <span data-ttu-id="541e4-158">Если ваше приложение должно выполнять больше работы при завершении операции, необходимо создать пару асинхронных методов интерфейса контракта службы, которую реализует клиент [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="541e4-158">If your application must do more work while an operation completes, you should create an asynchronous method pair on the service contract interface that your [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client implements.</span></span> <span data-ttu-id="541e4-159">Для этого проще всего использовать `/async` переключиться [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-159">The easiest way to do this is to use the `/async` switch on the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> <span data-ttu-id="541e4-160">Пример см. в разделе [как: асинхронно вызывать операции службы](../../../../docs/framework/wcf/feature-details/how-to-call-wcf-service-operations-asynchronously.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-160">For an example, see [How to: Call Service Operations Asynchronously](../../../../docs/framework/wcf/feature-details/how-to-call-wcf-service-operations-asynchronously.md).</span></span>  
  
 <span data-ttu-id="541e4-161">Дополнительные сведения о увеличение производительности клиента см. в разделе [клиентские приложения среднего уровня](../../../../docs/framework/wcf/feature-details/middle-tier-client-applications.md).</span><span class="sxs-lookup"><span data-stu-id="541e4-161">For more information about increasing client performance, see [Middle-Tier Client Applications](../../../../docs/framework/wcf/feature-details/middle-tier-client-applications.md).</span></span>  
  
### <a name="enabling-the-user-to-select-credentials-dynamically"></a><span data-ttu-id="541e4-162">Включение динамического выбора учетных данных пользователем</span><span class="sxs-lookup"><span data-stu-id="541e4-162">Enabling the User to Select Credentials Dynamically</span></span>  
 <span data-ttu-id="541e4-163">Интерфейс <xref:System.ServiceModel.Dispatcher.IInteractiveChannelInitializer> позволяет приложениям отображать интерфейс пользователя, что позволяет пользователю выбирать учетные данные пользователя с которыми канал создается до того, как запустятся таймеры периода времени.</span><span class="sxs-lookup"><span data-stu-id="541e4-163">The <xref:System.ServiceModel.Dispatcher.IInteractiveChannelInitializer> interface enables applications to display a user interface that enables the user to choose credentials with which a channel is created before the timeout timers start.</span></span>  
  
 <span data-ttu-id="541e4-164">Разработчики приложений могут использовать вставленный <xref:System.ServiceModel.Dispatcher.IInteractiveChannelInitializer> двумя способами.</span><span class="sxs-lookup"><span data-stu-id="541e4-164">Application developers can make use of an inserted <xref:System.ServiceModel.Dispatcher.IInteractiveChannelInitializer> in two ways.</span></span> <span data-ttu-id="541e4-165">Клиентское приложение может вызвать либо метод <xref:System.ServiceModel.ClientBase%601.DisplayInitializationUI%2A?displayProperty=nameWithType> или <xref:System.ServiceModel.IClientChannel.DisplayInitializationUI%2A?displayProperty=nameWithType> (или асинхронную версию) до открытия канала ( *явных* подход) или вызвать первую операцию ( *неявное*подход).</span><span class="sxs-lookup"><span data-stu-id="541e4-165">The client application can call either <xref:System.ServiceModel.ClientBase%601.DisplayInitializationUI%2A?displayProperty=nameWithType> or <xref:System.ServiceModel.IClientChannel.DisplayInitializationUI%2A?displayProperty=nameWithType> (or an asynchronous version) prior to opening the channel (the *explicit* approach) or call the first operation (the *implicit* approach).</span></span>  
  
 <span data-ttu-id="541e4-166">Если использовать неявный подход, то приложение должно вызвать первую операцию в расширении <xref:System.ServiceModel.ClientBase%601> или <xref:System.ServiceModel.IClientChannel>.</span><span class="sxs-lookup"><span data-stu-id="541e4-166">If using the implicit approach, the application must call the first operation on a <xref:System.ServiceModel.ClientBase%601> or <xref:System.ServiceModel.IClientChannel> extension.</span></span> <span data-ttu-id="541e4-167">Если приложение вызовет что-либо другое вместо первой операции, будет создано исключение.</span><span class="sxs-lookup"><span data-stu-id="541e4-167">If it calls anything other than the first operation, an exception is thrown.</span></span>  
  
 <span data-ttu-id="541e4-168">Если использовать явный подход, то приложение должно выполнить следующие шаги по порядку:</span><span class="sxs-lookup"><span data-stu-id="541e4-168">If using the explicit approach, the application must perform the following steps in order:</span></span>  
  
1.  <span data-ttu-id="541e4-169">Вызывать либо <xref:System.ServiceModel.ClientBase%601.DisplayInitializationUI%2A?displayProperty=nameWithType>, либо <xref:System.ServiceModel.IClientChannel.DisplayInitializationUI%2A?displayProperty=nameWithType> (или асинхронную версию).</span><span class="sxs-lookup"><span data-stu-id="541e4-169">Call either <xref:System.ServiceModel.ClientBase%601.DisplayInitializationUI%2A?displayProperty=nameWithType> or <xref:System.ServiceModel.IClientChannel.DisplayInitializationUI%2A?displayProperty=nameWithType> (or an asynchronous version).</span></span>  
  
2.  <span data-ttu-id="541e4-170">После возвращения инициализаторов вызвать либо метод <xref:System.ServiceModel.ICommunicationObject.Open%2A> в объекте <xref:System.ServiceModel.IClientChannel>, либо в объекте <xref:System.ServiceModel.IClientChannel>, возвращенном из свойства <xref:System.ServiceModel.ClientBase%601.InnerChannel%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="541e4-170">When the initializers have returned, call either the <xref:System.ServiceModel.ICommunicationObject.Open%2A> method on the <xref:System.ServiceModel.IClientChannel> object or on the <xref:System.ServiceModel.IClientChannel> object returned from the <xref:System.ServiceModel.ClientBase%601.InnerChannel%2A?displayProperty=nameWithType> property.</span></span>  
  
3.  <span data-ttu-id="541e4-171">Вызовите операции.</span><span class="sxs-lookup"><span data-stu-id="541e4-171">Call operations.</span></span>  
  
 <span data-ttu-id="541e4-172">Рекомендуется, чтобы приложения для промышленного применения управляли процессом пользовательского интерфейса в соответствии с явным подходом.</span><span class="sxs-lookup"><span data-stu-id="541e4-172">It is recommended that production-quality applications control the user-interface process by adopting the explicit approach.</span></span>  
  
 <span data-ttu-id="541e4-173">Приложения, использующие неявный подход, вызывают инициализаторы интерфейса пользователя, но если пользователь приложения не сможет ответить в отведенный период времени привязки для отправки, то при возвращении пользовательского интерфейса создается исключение.</span><span class="sxs-lookup"><span data-stu-id="541e4-173">Applications that use the implicit approach invoke the user-interface initializers, but if the user of the application fails to respond within the send timeout period of the binding, an exception is thrown when the user interface returns.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="541e4-174">См. также</span><span class="sxs-lookup"><span data-stu-id="541e4-174">See Also</span></span>  
 [<span data-ttu-id="541e4-175">Дуплексные службы</span><span class="sxs-lookup"><span data-stu-id="541e4-175">Duplex Services</span></span>](../../../../docs/framework/wcf/feature-details/duplex-services.md)  
 [<span data-ttu-id="541e4-176">Практическое руководство. Доступ к службам с односторонним контрактом и контрактом типа "запрос-ответ"</span><span class="sxs-lookup"><span data-stu-id="541e4-176">How to: Access Services with One-Way and Request-Reply Contracts</span></span>](../../../../docs/framework/wcf/feature-details/how-to-access-wcf-services-with-one-way-and-request-reply-contracts.md)  
 [<span data-ttu-id="541e4-177">Практическое руководство. Доступ к службам с дуплексным контрактом</span><span class="sxs-lookup"><span data-stu-id="541e4-177">How to: Access Services with a Duplex Contract</span></span>](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md)  
 [<span data-ttu-id="541e4-178">Практическое руководство. Доступ к службе WSE 3.0</span><span class="sxs-lookup"><span data-stu-id="541e4-178">How to: Access a WSE 3.0 Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-access-a-wse-3-0-service-with-a-wcf-client.md)  
 [<span data-ttu-id="541e4-179">Практическое руководство. Использование ChannelFactory</span><span class="sxs-lookup"><span data-stu-id="541e4-179">How to: Use the ChannelFactory</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md)  
 [<span data-ttu-id="541e4-180">Практическое руководство. Асинхронный вызов операций службы</span><span class="sxs-lookup"><span data-stu-id="541e4-180">How to: Call Service Operations Asynchronously</span></span>](../../../../docs/framework/wcf/feature-details/how-to-call-wcf-service-operations-asynchronously.md)  
 [<span data-ttu-id="541e4-181">Клиентские приложения среднего уровня</span><span class="sxs-lookup"><span data-stu-id="541e4-181">Middle-Tier Client Applications</span></span>](../../../../docs/framework/wcf/feature-details/middle-tier-client-applications.md)
