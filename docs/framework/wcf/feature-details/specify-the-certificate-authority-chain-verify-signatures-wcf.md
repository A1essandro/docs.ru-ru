---
title: Практическое руководство. Указание цепочки сертификатов центра сертификации, используемой для проверки сигнатур (WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- certificates [WCF], specifying the certificate authority certificate chain
- certificates [WCF], verifying signatures
ms.assetid: 7c719355-aa41-4567-80d0-5115a8cf73fd
ms.openlocfilehash: 14f7691046f9512e25006bd6cd02749eed825003
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33498079"
---
# <a name="how-to-specify-the-certificate-authority-certificate-chain-used-to-verify-signatures-wcf"></a>Практическое руководство. Указание цепочки сертификатов центра сертификации, используемой для проверки сигнатур (WCF)
Получив сообщение SOAP, подписанные с помощью сертификата X.509, Windows Communication Foundation (WCF) по умолчанию он проверяет, сертификат X.509 выдан доверенным центром сертификации. Для этого выполняется поиск в хранилище сертификатов и проверяется, отмечен ли соответствующий центр сертификации как надежный. WCF для этого необходимо установить цепи сертификатов центра сертификации в хранилище правильный сертификат.  
  
### <a name="to-install-a-certification-authority-certificate-chain"></a>Установка цепи сертификатов центра сертификации  
  
-   Для каждого центра сертификации, чьи получатель сообщения SOAP сертификаты X.509, выданные, установите цепь сертификатов центра сертификации в хранилище сертификатов, что WCF настроен для получения сертификатов X.509.  
  
     Для экземпляра Если получатель сообщения SOAP Защищаемая надежными сертификаты X.509, выданный корпорацией Майкрософт, цепи сертификатов центра сертификации для служб Microsoft должны устанавливаться в хранилище сертификатов, WCF, настроенный для поиска сертификатов X.509. Хранилище сертификатов, в котором WCF ищет сертификаты X.509 можно указать в коде или конфигурации. Например, здесь можно задать в коде с помощью <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> метода или в конфигурации с несколькими способами, включая [ \<serviceCertificate >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md) .  
  
     Поскольку Windows поставляется с комплектом цепочек сертификатов по умолчанию для надежных центров сертификации, в некоторых случаях не требуется устанавливать цепочки сертификатов для всех центров сертификации.  
  
    1.  Экспорт цепи сертификатов центра сертификации.  
  
         Конкретный способ экспорта зависит от центра сертификации. Если центр сертификации использует службы сертификации Microsoft, выберите **Загрузка сертификата ЦС, цепочки сертификатов или CRL**, а затем выберите **Загрузка сертификата ЦС**.  
  
    2.  Импорт цепи сертификатов центра сертификации.  
  
         В консоли управления (MMC), откройте оснастку диспетчера сертификатов. Для хранилища сертификатов, WCF настроен для получения сертификатов X.509 из выберите **доверенных корневых** **центры сертификации**папки. В разделе **доверенные корневые центры сертификации** папку, щелкните правой кнопкой мыши **сертификаты**папку, выберите пункт **все задачи**и нажмите кнопку **импорта** . Укажите файл, экспортированный на предыдущем этапе.  
  
         Дополнительные сведения об использовании сертификатов с MMC см. в разделе [как: Просмотр сертификатов с помощью оснастки MMC](../../../../docs/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in.md).  
  
## <a name="see-also"></a>См. также  
 [Работа с сертификатами](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)
