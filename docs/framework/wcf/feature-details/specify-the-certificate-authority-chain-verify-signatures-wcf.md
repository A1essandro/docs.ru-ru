---
title: "Как указать цепочку сертификатов центра сертификации, используемую для проверки сигнатур (WCF) | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "сертификаты [WCF], указание цепочки сертификатов центра сертификации"
  - "сертификаты [WCF], проверка сигнатур"
ms.assetid: 7c719355-aa41-4567-80d0-5115a8cf73fd
caps.latest.revision: 6
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 6
---
# Как указать цепочку сертификатов центра сертификации, используемую для проверки сигнатур (WCF)
Когда [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] получает сообщение SOAP, подписанное с помощью сертификата X.509, по умолчанию проверяется, выдан ли сертификат X.509 надежным центром сертификации.Для этого выполняется поиск в хранилище сертификатов и проверяется, отмечен ли соответствующий центр сертификации как надежный.Для выполнения этой проверки, осуществляемой [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], цепочка сертификатов центра сертификации должна быть установлена в надлежащем хранилище сертификатов.  
  
### Установка цепочки сертификатов центра сертификации  
  
-   Для каждого центра сертификации, чьи сертификаты X.509 получатель сообщения SOAP должен считать надежными, установите цепочку сертификатов центра сертификации в хранилище сертификатов, из которого [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] извлекает сертификаты X.509 \(согласно заданным настройкам\).  
  
     Например, чтобы получатель сообщений SOAP считал надежными сертификаты X.509, выданные Майкрософт, необходимо, чтобы цепочка сертификатов центра сертификации Майкрософт была установлена в хранилище сертификатов, в котором [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] выполняет поиск сертификатов X.509 \(согласно заданным настройкам\).Хранилище сертификатов, в котором [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] выполняет поиск сертификатов X.509, можно указать в коде или конфигурации.Например, его можно указать в коде с помощью метода <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> или в конфигурации \(несколькими способами, в том числе [\<serviceCertificate\>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)\).  
  
     Поскольку Windows поставляется с комплектом цепочек сертификатов по умолчанию для надежных центров сертификации, в некоторых случаях не требуется устанавливать цепочки сертификатов для всех центров сертификации.  
  
    1.  Экспортируйте цепочку сертификатов центра сертификации.  
  
         Конкретный способ экспорта зависит от центра сертификации.Если центр сертификации использует службы сертификации Майкрософт, выберите **Загрузка сертификата ЦС, цепочки сертификатов или CRL**, а затем **Загрузка сертификата ЦС**.  
  
    2.  Импортируйте цепочку сертификатов центра сертификации.  
  
         В консоли управления \(MMC\), откройте оснастку диспетчера сертификатов.Чтобы воспользоваться хранилищем сертификатов, из которого [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] \(согласно настройкам\) извлекает сертификаты X.509, выберите папку **Доверенные корневые** **центры сертификации**.В папке **Доверенные корневые центры сертификации** щелкните папку **Сертификаты**правой кнопкой мыши, выберите **Все задачи** и щелкните **Импорт**.Укажите файл, экспортированный на предыдущем этапе.  
  
         [!INCLUDE[crabout](../../../../includes/crabout-md.md)] использовании оснастки диспетчера сертификатов с помощью консоли управления \(MMC\) см. в разделе [Как просматривать сертификаты с помощью оснастки консоли MMC](../../../../docs/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in.md).  
  
## См. также  
 [Работа с сертификатами](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)