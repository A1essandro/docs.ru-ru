---
title: Основные сведения о проверке подлинности HTTP
ms.date: 03/30/2017
ms.assetid: 9376309a-39e3-4819-b47b-a73982b57620
ms.openlocfilehash: fa9af58f08fc54126bd055216d377a4e2b24c84c
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="understanding-http-authentication"></a><span data-ttu-id="5e034-102">Основные сведения о проверке подлинности HTTP</span><span class="sxs-lookup"><span data-stu-id="5e034-102">Understanding HTTP Authentication</span></span>
<span data-ttu-id="5e034-103">Проверка подлинности - это процесс проверки наличия у клиента права доступа к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="5e034-103">Authentication is the process of identifying whether a client is eligible to access a resource.</span></span> <span data-ttu-id="5e034-104">Протокол HTTP поддерживает проверку подлинности как средство согласования доступа к защищенному ресурсу.</span><span class="sxs-lookup"><span data-stu-id="5e034-104">The HTTP protocol supports authentication as a means of negotiating access to a secure resource.</span></span>  
  
 <span data-ttu-id="5e034-105">Исходный запрос от клиента как правило является анонимными и не содержит информацию для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-105">The initial request from a client is typically an anonymous request, not containing any authentication information.</span></span> <span data-ttu-id="5e034-106">Приложения сервера HTTP могут отклонить анонимный запрос, если требуется проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-106">HTTP server applications can deny the anonymous request while indicating that authentication is required.</span></span> <span data-ttu-id="5e034-107">Серверное приложение посылает заголовки WWW-Authentication для обозначения поддерживаемых схем проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-107">The server application sends WWW-Authentication headers to indicate the supported authentication schemes.</span></span> <span data-ttu-id="5e034-108">Этот документ описывает несколько схем проверки подлинности для HTTP и описывает их реализацию в Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="5e034-108">This document describes several authentication schemes for HTTP and discusses their support in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="http-authentication-schemes"></a><span data-ttu-id="5e034-109">Схемы проверки подлинности HTTP</span><span class="sxs-lookup"><span data-stu-id="5e034-109">HTTP Authentication Schemes</span></span>  
 <span data-ttu-id="5e034-110">Сервер можно указать несколько схем проверки подлинности для клиента для выбора.</span><span class="sxs-lookup"><span data-stu-id="5e034-110">The server can specify multiple authentication schemes for the client to choose from.</span></span> <span data-ttu-id="5e034-111">В следующей таблице описаны некоторые схемы проверки подлинности, часто встречаются в приложениях Windows.</span><span class="sxs-lookup"><span data-stu-id="5e034-111">The following table describes some of the authentication schemes commonly found in Windows applications.</span></span>  
  
|<span data-ttu-id="5e034-112">Схема проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="5e034-112">Authentication Scheme</span></span>|<span data-ttu-id="5e034-113">Описание</span><span class="sxs-lookup"><span data-stu-id="5e034-113">Description</span></span>|  
|---------------------------|-----------------|  
|<span data-ttu-id="5e034-114">Anonymous</span><span class="sxs-lookup"><span data-stu-id="5e034-114">Anonymous</span></span>|<span data-ttu-id="5e034-115">Анонимный запрос не содержит информацию для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-115">An anonymous request does not contain any authentication information.</span></span> <span data-ttu-id="5e034-116">Это эквивалентно предоставлению доступа к ресурсу без ограничений.</span><span class="sxs-lookup"><span data-stu-id="5e034-116">This is equivalent to granting everyone access to the resource.</span></span>|  
|<span data-ttu-id="5e034-117">Basic</span><span class="sxs-lookup"><span data-stu-id="5e034-117">Basic</span></span>|<span data-ttu-id="5e034-118">Обычная проверка подлинности заключается в передаче строки в кодировке Base64, которая содержит имя пользователя и пароль для клиента.</span><span class="sxs-lookup"><span data-stu-id="5e034-118">Basic authentication sends a Base64-encoded string that contains a user name and password for the client.</span></span> <span data-ttu-id="5e034-119">Base64 не является формой шифрования, ее следует рассматривать как передачу пароля и имени пользователя открытым текстом.</span><span class="sxs-lookup"><span data-stu-id="5e034-119">Base64 is not a form of encryption and should be considered the same as sending the user name and password in clear text.</span></span> <span data-ttu-id="5e034-120">Если требуется защита ресурса, настоятельно рекомендуется использовать схему проверку подлинности, отличную от обычной.</span><span class="sxs-lookup"><span data-stu-id="5e034-120">If a resource needs to be protected, strongly consider using an authentication scheme other than basic authentication.</span></span>|  
|<span data-ttu-id="5e034-121">Digest</span><span class="sxs-lookup"><span data-stu-id="5e034-121">Digest</span></span>|<span data-ttu-id="5e034-122">Дайджест-проверка подлинности - это схема запроса-ответа, предназначенная для замены обычной проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-122">Digest authentication is a challenge-response scheme that is intended to replace Basic authentication.</span></span> <span data-ttu-id="5e034-123">Сервер посылает строку случайных данных называется *nonce* клиенту как сложной задачей.</span><span class="sxs-lookup"><span data-stu-id="5e034-123">The server sends a string of random data called a *nonce* to the client as a challenge.</span></span> <span data-ttu-id="5e034-124">Клиент отвечает с хэшем, который содержит помимо дополнительной информации имя пользователя, пароль и специальное слово.</span><span class="sxs-lookup"><span data-stu-id="5e034-124">The client responds with a hash that includes the user name, password, and nonce, among additional information.</span></span> <span data-ttu-id="5e034-125">Это exchange вводит сложность и хэширование данных делает это затруднительным похищать и повторно использовать учетные данные пользователя для этой схемы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-125">The complexity this exchange introduces and the data hashing make it more difficult to steal and reuse the user's credentials with this authentication scheme.</span></span><br /><br /> <span data-ttu-id="5e034-126">Дайджест-проверка подлинности требует использования учетных записей домена Windows.</span><span class="sxs-lookup"><span data-stu-id="5e034-126">Digest authentication requires the use of Windows domain accounts.</span></span> <span data-ttu-id="5e034-127">Хэш-кода *область* имя домена Windows.</span><span class="sxs-lookup"><span data-stu-id="5e034-127">The digest *realm* is the Windows domain name.</span></span> <span data-ttu-id="5e034-128">Таким образом нельзя использовать на сервере под управлением операционной системы, которая не поддерживает домены Windows, например Windows XP Home Edition, дайджест-проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-128">Therefore, you cannot use a server running on an operating system that does not support Windows domains, such as Windows XP Home Edition, with Digest authentication.</span></span> <span data-ttu-id="5e034-129">И наоборот, если клиент запущен под управлением операционной системы, которая не поддерживает домены Windows, учетная запись домена должна быть явно задана при проверке подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-129">Conversely, when the client runs on an operating system that does not support Windows domains, a domain account must be explicitly specified during the authentication.</span></span>|  
|<span data-ttu-id="5e034-130">NTLM</span><span class="sxs-lookup"><span data-stu-id="5e034-130">NTLM</span></span>|<span data-ttu-id="5e034-131">Проверка подлинности NTLM (NT LAN Manager) - это схема запроса-ответа, которая является более безопасным вариантом дайджест-проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-131">NT LAN Manager (NTLM) authentication is a challenge-response scheme that is a securer variation of Digest authentication.</span></span> <span data-ttu-id="5e034-132">NTLM использует учетные данные Windows для преобразования данных вызова вместо передачи незашифрованных имени пользователя и пароля.</span><span class="sxs-lookup"><span data-stu-id="5e034-132">NTLM uses Windows credentials to transform the challenge data instead of the unencoded user name and password.</span></span> <span data-ttu-id="5e034-133">Проверка подлинности NTLM требует множественного обмена между клиентом и сервером.</span><span class="sxs-lookup"><span data-stu-id="5e034-133">NTLM authentication requires multiple exchanges between the client and server.</span></span> <span data-ttu-id="5e034-134">Сервер и любой промежуточный прокси-сервер должны поддерживать постоянные соединения для успешного завершения проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-134">The server and any intervening proxies must support persistent connections to successfully complete the authentication.</span></span>|  
|<span data-ttu-id="5e034-135">Negotiate</span><span class="sxs-lookup"><span data-stu-id="5e034-135">Negotiate</span></span>|<span data-ttu-id="5e034-136">Проверка подлинности Negotiate, в зависимости от доступности, автоматически выбирает протокол Kerberos или проверку подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="5e034-136">Negotiate authentication automatically selects between the Kerberos protocol and NTLM authentication, depending on availability.</span></span> <span data-ttu-id="5e034-137">Если доступен, используется протокол Kerberos, в противном случае предпринимается попытка использования протокола NTLM.</span><span class="sxs-lookup"><span data-stu-id="5e034-137">The Kerberos protocol is used if it is available; otherwise, NTLM is tried.</span></span> <span data-ttu-id="5e034-138">Проверка подлинности Kerberos обладает существенными преимуществами перед NTLM.</span><span class="sxs-lookup"><span data-stu-id="5e034-138">Kerberos authentication significantly improves upon NTLM.</span></span> <span data-ttu-id="5e034-139">Проверка подлинности Kerberos быстрее NTLM и позволяет использовать взаимную проверку подлинности и делегирование учетных данных удаленным компьютерам.</span><span class="sxs-lookup"><span data-stu-id="5e034-139">Kerberos authentication is both faster than NTLM and allows the use of mutual authentication and delegation of credentials to remote machines.</span></span>|  
|<span data-ttu-id="5e034-140">Windows Live ID</span><span class="sxs-lookup"><span data-stu-id="5e034-140">Windows Live ID</span></span>|<span data-ttu-id="5e034-141">Базовая служба HTTP Windows включает проверку подлинности с использованием федеративных протоколов.</span><span class="sxs-lookup"><span data-stu-id="5e034-141">The underlying Windows HTTP service includes authentication using federated protocols.</span></span> <span data-ttu-id="5e034-142">Однако стандартный транспорт HTTP в WCF не поддерживает использование схемы федеративной проверки подлинности, такие как Microsoft Windows Live ID.</span><span class="sxs-lookup"><span data-stu-id="5e034-142">However, the standard HTTP transports in WCF do not support the use of federated authentication schemes, such as Microsoft Windows Live ID.</span></span> <span data-ttu-id="5e034-143">Поддержка этой возможности в данный момент доступна посредством безопасности сообщения.</span><span class="sxs-lookup"><span data-stu-id="5e034-143">Support for this feature is currently available through the use of message security.</span></span> <span data-ttu-id="5e034-144">Дополнительные сведения см. в разделе [Федерация и выданные маркеры](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="5e034-144">For more information, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>|  
  
## <a name="choosing-an-authentication-scheme"></a><span data-ttu-id="5e034-145">Выбор схемы проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="5e034-145">Choosing an Authentication Scheme</span></span>  
 <span data-ttu-id="5e034-146">При выборе потенциальной схемы проверки подлинности для HTTP-сервера необходимо учитывать несколько моментов.</span><span class="sxs-lookup"><span data-stu-id="5e034-146">When selecting the potential authentication schemes for an HTTP server, a few items to consider include the following:</span></span>  
  
-   <span data-ttu-id="5e034-147">Рассмотрите, требуется ли защита ресурса.</span><span class="sxs-lookup"><span data-stu-id="5e034-147">Consider whether the resource needs to be protected.</span></span> <span data-ttu-id="5e034-148">Использование проверки подлинности HTTP требует передачи большего объема данных и может ограничить взаимодействие с клиентами.</span><span class="sxs-lookup"><span data-stu-id="5e034-148">Using HTTP authentication requires transmitting more data and can limit interoperability with clients.</span></span> <span data-ttu-id="5e034-149">Разрешить анонимный доступ к ресурсам, которые не должны быть защищены.</span><span class="sxs-lookup"><span data-stu-id="5e034-149">Allow anonymous access to resources that do not need to be protected.</span></span>  
  
-   <span data-ttu-id="5e034-150">Если требуется защита ресурса, проанализируйте, какая схема проверки подлинности обеспечит требуемый уровень безопасности.</span><span class="sxs-lookup"><span data-stu-id="5e034-150">If the resource needs to be protected, consider which authentication schemes provide the required level of security.</span></span> <span data-ttu-id="5e034-151">Самая слабая стандартная схема проверки подлинности - обычная проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="5e034-151">The weakest standard authentication scheme discussed here is Basic authentication.</span></span> <span data-ttu-id="5e034-152">Обычная проверка подлинности не защищает учетные данные пользователя.</span><span class="sxs-lookup"><span data-stu-id="5e034-152">Basic authentication does not protect the user's credentials.</span></span> <span data-ttu-id="5e034-153">Самая стойкая стандартная схема проверка подлинности - проверка подлинности Negotiate, реализованная в протоколе Kerberos.</span><span class="sxs-lookup"><span data-stu-id="5e034-153">The strongest standard authentication scheme is Negotiate authentication, resulting in the Kerberos protocol.</span></span>  
  
-   <span data-ttu-id="5e034-154">Сервер не должен (в заголовках WWW-Authentication) предоставлять любую схему, которая не готова принять или обеспечить достаточную защиту безопасного ресурса.</span><span class="sxs-lookup"><span data-stu-id="5e034-154">A server should not present (in the WWW-Authentication headers) any scheme that it is not prepared to accept or that does not adequately secure the protected resource.</span></span> <span data-ttu-id="5e034-155">Клиент свободен в выборе любой схемы проверки подлинности, предоставляемой сервером.</span><span class="sxs-lookup"><span data-stu-id="5e034-155">Clients are free to choose between any of the authentication schemes the server presents.</span></span> <span data-ttu-id="5e034-156">Некоторые клиенты выбирают по умолчанию слабую схему проверки подлинности или первую схему проверки подлинности в списке сервера.</span><span class="sxs-lookup"><span data-stu-id="5e034-156">Some clients default to a weak authentication scheme or the first authentication scheme in the server's list.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e034-157">См. также</span><span class="sxs-lookup"><span data-stu-id="5e034-157">See Also</span></span>  
 [<span data-ttu-id="5e034-158">Общие сведения о безопасности транспорта</span><span class="sxs-lookup"><span data-stu-id="5e034-158">Transport Security Overview</span></span>](../../../../docs/framework/wcf/feature-details/transport-security-overview.md)  
 [<span data-ttu-id="5e034-159">Использование олицетворения при обеспечении безопасности транспорта</span><span class="sxs-lookup"><span data-stu-id="5e034-159">Using Impersonation with Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/using-impersonation-with-transport-security.md)  
 [<span data-ttu-id="5e034-160">Делегирование и олицетворение</span><span class="sxs-lookup"><span data-stu-id="5e034-160">Delegation and Impersonation</span></span>](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
