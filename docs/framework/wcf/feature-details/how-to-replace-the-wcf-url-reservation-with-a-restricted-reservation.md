---
title: "Как заменить WCF URL резервирование на ограниченное резервирование"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2754d223-79fc-4e2b-a6ce-989889f2abfa
caps.latest.revision: "6"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 8c25403f298444732f6787979add595bd877bb2c
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2017
---
# <a name="how-to-replace-the-wcf-url-reservation-with-a-restricted-reservation"></a>Как заменить WCF URL резервирование на ограниченное резервирование
Резервирование URL-адреса позволяет ограничить список тех, кто может получать сообщения с URL-адреса или набора URL-адресов. Резервирование включает шаблон URL-адреса, список управления доступом (ACL) и набор флагов. Шаблон URL-адреса определяет, какие URL-адреса будут затронуты резервированием. [!INCLUDE[crabout](../../../../includes/crabout-md.md)]как обрабатываются шаблоны URL-адрес, в разделе [маршрутизации входящих запросов](http://go.microsoft.com/fwlink/?LinkId=136764). Список управления доступом (ACL) управляет тем, какой пользователь или группа пользователей может получать сообщения с указанных URL-адресов. Флаги указывают, разрешает ли резервирование пользователю или группе отслеживать URL-адрес напрямую или делегирует это разрешение какому-либо другому процессу.  
  
 Как часть конфигурации операционной системы по умолчанию, [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] создает глобально допустимое резервирование для порта 80, чтобы все пользователи могли запускать приложения, использующие двустороннее HTTP-соединение для дуплексной связи. Поскольку список управления доступом (ACL) для данного резервирования предназначен для каждого пользователя, администраторы не могут явным образом позволить или запретить отслеживать URL-адрес или набор URL-адресов. В данном разделе объясняется, как удалить это резервирование и создать его повторно с ограниченным списком управления доступом (ACL).  
  
 В [!INCLUDE[wv](../../../../includes/wv-md.md)] или [!INCLUDE[lserver](../../../../includes/lserver-md.md)] можно просмотреть все резервирования HTTP URL-адресов, выполнив в командной строке с правами администратора команду `netsh http show urlacl`.  В следующем примере показано, на что должно быть похоже резервирование URL-адреса [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].  
  
```  
Reserved URL : http://+:80/Temporary_Listen_Addresses/  
        User: \Everyone  
            Listen: Yes  
            Delegate: No  
            SDDL: D:(A;;GX;;;WD)  
```  
  
 Резервирование включает шаблон URL-адреса, используемый в том случае, если приложение [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] использует двустороннее HTTP-соединение для дуплексной связи. URL-адреса этого вида используются службой [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] для отправки сообщений обратно клиенту [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] при двустороннем HTTP-соединении. Каждый пользователь получает разрешение отслеживать URL-адрес, но не может делегировать отслеживание другому процессу. Наконец, список управления доступом (ACL) описывается на языке Security Descriptor Definition Language (SSDL). [!INCLUDE[crabout](../../../../includes/crabout-md.md)]SSDL, в разделе [SSDL](http://go.microsoft.com/fwlink/?LinkId=136789)  
  
### <a name="to-delete-the-wcf-url-reservation"></a>Удаление резервирования URL-адреса WCF  
  
1.  Нажмите кнопку **запустить**, пункты **все программы**, нажмите кнопку **стандартные**, щелкните правой кнопкой мыши **командной строки** и нажмите кнопку **Запуск от имени Администратор** в контекстном меню, которое появляется. Нажмите кнопку **Продолжить** в окне управления учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2.  Введите в **netsh http удалить URL-адрес urlacl = http: / / +:80/Temporary_Listen_Addresses/** в окне командной строки.  
  
3.  Если резервирование удалено успешно, появится следующее сообщение. **Резервирование URL-адрес успешно удален**  
  
## <a name="creating-a-new-security-group-and-new-restricted-url-reservation"></a>Создание новой группы безопасности и нового ограниченного резервирования URL-адреса  
 Чтобы заменить резервирование URL-адреса [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ограниченным резервированием, сначала следует создать новую группу безопасности. Это можно сделать двумя способами: из командной строки или из консоли управления компьютером. Требуется выполнить только одно действие.  
  
#### <a name="to-create-a-new-security-group-from-a-command-prompt"></a>Создание новой группы безопасности из командной строки  
  
1.  Нажмите кнопку **запустить**, пункты **все программы**, нажмите кнопку **стандартные**, щелкните правой кнопкой мыши **командной строки** и нажмите кнопку **Запуск от имени Администратор** в контекстном меню, которое появляется. Нажмите кнопку **Продолжить** в окне управления учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2.  Введите в **net localgroup "\<имя группы безопасности >» / comment:»\<описание группы безопасности >» / add** в командной строке. Замена  **\<имя группы безопасности >** с именем группы безопасности, необходимо создать и  **\<описание группы безопасности >** на подходящее описание для Группа безопасности.  
  
3.  Если группа безопасности создана успешно, появится следующее сообщение. **Команда выполнена успешно.**  
  
#### <a name="to-create-a-new-security-group-from-the-computer-management-console"></a>Создание новой группы безопасности из консоли управления компьютером  
  
1.  Нажмите кнопку **запустить**, нажмите кнопку **панели управления**, нажмите кнопку **Администрирование**и нажмите кнопку **Управление компьютером** открывая компьютера Консоль управления. Нажмите кнопку **Продолжить** в окне управления учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2.  Нажмите кнопку **Служебные**, нажмите кнопку **локальные пользователи и группы**, щелкните правой кнопкой мыши **группы** папку и нажмите кнопку **новая группа** в контекстном меню, появится. Введите желаемое **имя группы**, **описание** и другие сведения новой группы безопасности и нажмите **создать** кнопку, чтобы создать группу безопасности.  
  
#### <a name="to-create-the-restricted-url-reservation"></a>Создание ограниченного резервирования URL-адреса  
  
1.  Нажмите кнопку **запустить**, пункты **все программы**, нажмите кнопку **стандартные**, щелкните правой кнопкой мыши **командной строки** и нажмите кнопку **Запуск от имени Администратор** в контекстном меню, которое появляется. Нажмите кнопку **Продолжить** в окне управления учетных записей (UAC), которое может запросить разрешение на продолжение.  
  
2.  Введите в **netsh http добавьте URL-адрес urlacl = http: / / +: 80/Temporary_Listen_Addresses/пользователя =»\<имя компьютера >\\< имя группы безопасности\>**  в командной строке. Замена  **\<имя компьютера >** с именем компьютера, на котором необходимо создать группы и  **\<имя группы безопасности >** с именем созданную группу безопасности ранее.  
  
3.  Если резервирование создано успешно, появится следующее сообщение. **Резервирование URL-адрес успешно добавлен**.
