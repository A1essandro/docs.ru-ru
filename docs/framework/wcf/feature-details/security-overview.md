---
title: "Общие сведения о безопасности | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "WCF, безопасность"
  - "Windows Communication Foundation, безопасность"
ms.assetid: f478c80d-792d-4e7a-96bd-a2ff0b6f65f9
caps.latest.revision: 37
author: "BrucePerlerMS"
ms.author: "bruceper"
manager: "mbaldwin"
caps.handback.revision: 37
---
# Общие сведения о безопасности
[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] \- платформа распределенного программирования на основе технологии SOAP, и защита сообщений между клиентами и службами является важным компонентом защиты данных.  [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] обеспечивает универсальную и гибкую платформу для безопасного обмена сообщениями на основе существующей инфраструктуры безопасности и зарекомендовавших себя стандартов безопасности для сообщений SOAP.  
  
> [!NOTE]
>  Полное руководство о безопасности WCF см. в разделе [Руководство по безопасности WCF](http://go.microsoft.com/fwlink/?LinkID=158912).  
  
 В [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] используются концепции, хорошо знакомые тем, кто создавал безопасные распределенные приложения с применением таких технологий, как протокол HTTPS, встроенная безопасность Windows или проверка подлинности имен пользователей и паролей.  [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] не только интегрируется с существующими инфраструктурами безопасности, но также расширяет распределенную безопасность за пределы доменов Windows, используя безопасные сообщения SOAP.  Примите во внимание [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] для реализации существующих механизмов обеспечения безопасности с важным преимуществом применения SOAP в качестве протокола в дополнение к существующим протоколам.  Например, такие идентифицирующие клиента или службу учетные данные, как имя пользователя и пароль или сертификаты X.509, имеют основанные на XML профили SOAP с возможностью взаимодействия.  При применении этих профилей осуществляется безопасный обмен сообщениями, при котором используются преимущества открытых спецификаций типа цифровых сигнатур XML и шифрования XML.  Список спецификаций см. в разделе [Протоколы веб\-служб, поддерживаемые предоставляемыми системой привязками](../../../../docs/framework/wcf/feature-details/web-services-protocols-supported-by-system-provided-interoperability-bindings.md).  
  
 Аналогичным средством является модель COM на платформе Windows, которая поддерживает безопасные распределенные приложения.  Модель COM имеет всеобъемлющий механизм обеспечения безопасности, посредством которого контекст безопасности может передаваться между компонентами; этот механизм обеспечивает целостность, конфиденциальность и проверку подлинности.  Однако эта модель COM не поддерживает межплатформенный безопасный обмен сообщениями, аналогичный тому, который поддерживается системой [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].  Используя [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], можно создавать службы и клиенты, которые распространяются за пределы доменов Windows через Интернет.  Для создания динамических, управляемых деловой активностью служб, которые позволяют приобрести уверенность в безопасности информации, необходимы сообщения [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] с возможностью взаимодействия.  
  
## Преимущества безопасности Windows Communication Foundation  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] \- это распределенная платформа программирования, основанная на сообщениях SOAP.  Используя [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], можно создавать приложения, которые функционируют и как службы, и как клиенты служб, создающие сообщения и обрабатывающие их от неограниченного числа других служб и клиентов.  В таком распределенном приложении сообщения могут передаваться от узла к узлу, через брандмауэры, в Интернет и через многочисленные промежуточные устройства SOAP.  В результате сообщения подвергаются множеству угроз безопасности.  В представленных ниже примерах приведены некоторые распространенные угрозы, которые средства обеспечения безопасности [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] помогают уменьшить при обмене сообщениями между сущностями.  
  
-   Наблюдение за сетевым трафиком для получения конфиденциальной информации.  Например, в сценарии электронных банковских операций клиент запрашивает перевод денежных средств с одного счета на другой.  Злоумышленник перехватывает сообщение и, имея номер счета и пароль, позже выполняет перевод денежных средств со скомпрометированного счета.  
  
-   Сущности\-мошенники, действующие в качестве служб без осознания этого клиентом.  В этом сценарии пользователь\-злоумышленник \(мошенник\) выступает в качестве веб\-службы и перехватывает сообщения от клиента для получения конфиденциальной информации.  Затем мошенник использует похищенные данные для перевода денежных средств со скомпрометированного счета.  Эта атака также называется *фишингом*.  
  
-   Изменение сообщений для получения результата, отличного от ожидаемого вызывающим.  Например, в результате изменения номера счета, на который сделан депозитный вклад, денежные средства переходят на счет мошенника.  
  
-   Воспроизведения злоумышленником, при которых злоумышленник воспроизводит идентичный заказ на поставку.  Например, книжный интернет\-магазин принимает сотни заказов и отправляет книги пользователю, который не заказывал их.  
  
-   Неспособность службы проверить подлинность клиента.  В этом случае служба не может гарантировать, что транзакция выполнена соответствующим лицом.  
  
 Таким образом, средства обеспечения безопасности передачи предоставляют следующие гарантии:  
  
-   проверка подлинности конечной точки службы \(отвечающей на запрос\);  
  
-   проверка подлинности клиента\-участника \(инициатора\);  
  
-   целостность сообщений;  
  
-   конфиденциальность сообщений;  
  
-   обнаружение воспроизведений.  
  
### Интеграция с существующими инфраструктурами безопасности  
 При развертывании веб\-служб часто существуют подходящие решения по обеспечению безопасности, например, протокол SSL или Kerberos.  Некоторые пользуются преимуществами уже развернутой инфраструктуры безопасности, например доменов Windows, где применяется Active Directory.  Часто необходимо обеспечить интеграцию с такими существующими технологиями, оценивая при этом и принимая более новые технологии.  
  
 Средства обеспечения безопасности [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] интегрируются с существующими моделями безопасности транспорта и могут использовать существующую инфраструктуру для более новых моделей безопасности передачи, основанных на безопасности сообщений SOAP.  
  
### Интеграция с существующими моделями проверки подлинности  
 Важной частью любой модели безопасности связи является способность идентифицировать сущности, участвующие во взаимодействии, и проверять их подлинность.  Эти участвующие во взаимодействии сущности используют "цифровые удостоверения", или учетные данные, для подтверждения своей подлинности при взаимодействии с одноранговыми узлами.  Так как распределенные платформы связи эволюционировали, были реализованы различные модели проверки подлинности учетных данных и соответствующие модели безопасности.  Например, в Интернете для идентификации пользователей обычно применяются имена пользователей и пароли.  В интрасети для резервирования проверки подлинности пользователей и служб обычным становится использование контроллера домена Kerberos.  В некоторых сценариях, например с участием двух деловых партнеров, для взаимной проверки подлинности партнеров могут использоваться сертификаты.  
  
 Таким образом, в сфере веб\-служб, где одна и та же служба может предоставляться как внутренним корпоративным пользователям, так и внешним партнерам или Интернет\-пользователям, важно, чтобы инфраструктура обеспечивала интеграцию с такими существующими моделями проверки подлинности.  В [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] средства обеспечения безопасности поддерживают широкий набор типов учетных данных \(моделей проверки подлинности\), включая:  
  
-   анонимный вызывающий;  
  
-   учетные данные клиента на основе имени пользователя;  
  
-   учетные данные клиента на основе сертификата;  
  
-   Windows \(протокол Kerberos и NT LanMan \[NTLM\]\).  
  
### Стандарты и взаимодействие  
 В мире, где развернуто огромное число систем, однородность встречается редко.  Распределенные платформы вычислений и связи должны взаимодействовать с технологиями, предлагаемыми различными поставщиками.  Должны также взаимодействовать и средства обеспечения безопасности.  
  
 Чтобы можно было использовать системы безопасности с возможностью взаимодействия, компании, активно работающие в индустрии веб\-служб, разработали множество стандартов.  В частности, в отношении безопасности предложено несколько известных стандартов: SOAP Message Security \(принят комитетом стандартов OASIS и ранее назывался WS\-Security\), WS\-Trust, WS\-SecureConversation и WS\-SecurityPolicy.  
  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] поддерживает широкий набор сценариев взаимодействия.  Класс <xref:System.ServiceModel.BasicHttpBinding> предназначен для базового профиля безопасности \(BSP\), а класс <xref:System.ServiceModel.WSHttpBinding> \- для самых последних стандартов безопасности, например WS\-Security 1.1 и WS\-SecureConversation.  Соблюдая эти стандарты, средства обеспечения безопасности [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] могут взаимодействовать и интегрироваться с веб\-службами, которые размещаются в операционных системах и платформах, отличных от Microsoft Windows.  
  
## Функциональные области безопасности WCF  
 Средства обеспечения безопасности [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] подразделяются на три функциональные области: безопасность передачи, управление доступом и аудит.  В следующих разделах кратко рассматриваются эти области и приводятся ссылки на дополнительные сведения.  
  
### Безопасность передачи  
 Безопасность передачи охватывает три основные функции безопасности: целостность, конфиденциальность и проверку подлинности.  *Целостность* \- это способность обнаружить подделку сообщения.  *Конфиденциальность* \- это способность обеспечить невозможность чтения сообщения любым лицом, кроме предполагаемого получателя; она достигается посредством шифрования.  *Проверка подлинности* \- это способность проверить заявленную идентификацию.  Вместе эти три функции помогают обеспечить безопасную передачу сообщений из одной точки в другую.  
  
#### Режимы безопасности транспорта и сообщений  
 Для обеспечения безопасности передачи в [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] используются два основных механизма: режим безопасности *транспорта* и режим безопасности *сообщений*.  
  
-   В *режиме безопасности транспорта* для обеспечения безопасности передачи используется протокол транспортного уровня, например HTTPS.  Транспортный режим имеет ряд преимуществ \- широкое распространение, доступность на многих платформах и небольшая вычислительная сложность.  Однако его недостаток \- обеспечение безопасности сообщений только при передаче от точки к точке.  
  
-   В *режиме безопасности сообщений* для обеспечения безопасности передачи используется стандарт WS\-Security \(и другие спецификации\).  Поскольку средства обеспечения безопасности сообщений применяются непосредственно для сообщений SOAP и содержатся в конвертах SOAP \(вместе с данными приложений\), этот режим имеет преимущества независимости от транспортного протокола, большей степени расширяемости и обеспечения сквозной безопасности \(а не только на участке "точка\-точка"\); недостаток этого режима в том, что он в несколько раз медленнее режима безопасности транспорта, так как имеет дело с основанным на XML характером сообщений SOAP.  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)] этих различиях см. в разделе [Защита служб и клиентов](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md).  
  
 В третьем режиме безопасности используются оба описанных выше режима. Этот режим имеет преимущества обоих предыдущих режимов  и называется `TransportWithMessageCredential`.  В этом режиме средства обеспечения безопасности сообщений используются для проверки подлинности клиента, а средства обеспечения безопасности транспорта \- для проверки подлинности сервера и обеспечения конфиденциальности и целостности сообщений.  Благодаря этому режим безопасности `TransportWithMessageCredential` имеет почти такую же скорость, как режим безопасности транспорта, и обеспечивает расширяемость проверки подлинности клиента таким же способом, как режим безопасности сообщений.  Однако, в отличие от режима безопасности сообщений, он не обеспечивает полную сквозную безопасность.  
  
### Управление доступом  
 *Управление доступом* называется также авторизацией.  *Авторизация* позволяет различным пользователям иметь разные привилегии для просмотра данных.  Например, поскольку файлы персонала организации содержат конфиденциальные данные о служащих, просматривать эти данные разрешается только руководителям.  Кроме того, руководители могут просматривать только данные для своих прямых отчетов.  В этом случае управление доступом осуществляется на основе роли \("руководитель"\), а также конкретного идентификатора руководителя \(чтобы предотвратить просмотр одним руководителем записей о служащих другого руководителя\).  
  
 В [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] функции управления доступом реализуются посредством интеграции с атрибутом <xref:System.Security.Permissions.PrincipalPermissionAttribute> среды CLR и с помощью набора интерфейсов API, называемого *моделью удостоверения*.  Подробные сведения об управлении доступом и авторизации, основанной на утверждениях, см. в разделе [Расширение системы безопасности](../../../../docs/framework/wcf/extending/extending-security.md).  
  
### Аудит  
 *Аудит* \- это запись событий, связанных с безопасностью, в журнал событий Windows.  Можно регистрировать такие связанные с безопасностью события, как положительные и отрицательные результаты проверки подлинности.  [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] [Аудит](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).  Подробные сведения о программировании см. в разделе [Практическое руководство. Аудит событий безопасности](../../../../docs/framework/wcf/feature-details/how-to-audit-wcf-security-events.md).  
  
## См. также  
 <xref:System.Security.Permissions.PrincipalPermissionAttribute>   
 [Защита служб](../../../../docs/framework/wcf/securing-services.md)   
 [Типовые сценарии безопасности](../../../../docs/framework/wcf/feature-details/common-security-scenarios.md)   
 [Привязки и безопасность](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)   
 [Защита служб и клиентов](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)   
 [Аутентификация](../../../../docs/framework/wcf/feature-details/authentication-in-wcf.md)   
 [Авторизация](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)   
 [Федерация и выданные маркеры](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md)   
 [Аудит](../../../../docs/framework/wcf/feature-details/auditing-security-events.md)   
 [Руководство и рекомендации по безопасности](../../../../docs/framework/wcf/feature-details/security-guidance-and-best-practices.md)   
 [Настройка служб с использованием файлов конфигурации](../../../../docs/framework/wcf/configuring-services-using-configuration-files.md)   
 [Привязки, предоставляемые системой](../../../../docs/framework/wcf/system-provided-bindings.md)   
 [Общие сведения о создании конечных точек](../../../../docs/framework/wcf/endpoint-creation-overview.md)   
 [Расширение системы безопасности](../../../../docs/framework/wcf/extending/extending-security.md)   
 [Модель безопасности для Windows Server App Fabric](http://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)