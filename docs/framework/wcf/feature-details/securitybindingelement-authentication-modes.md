---
title: Режимы проверки подлинности SecurityBindingElement
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 12300bf4-c730-4405-9f65-d286f68b5a43
ms.openlocfilehash: 2b1601bd84e92b5a39c5c4c91fdfe67537720430
ms.sourcegitcommit: c93fd5139f9efcf6db514e3474301738a6d1d649
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/28/2018
ms.locfileid: "50198403"
---
# <a name="securitybindingelement-authentication-modes"></a><span data-ttu-id="91720-102">Режимы проверки подлинности SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="91720-102">SecurityBindingElement Authentication Modes</span></span>
<span data-ttu-id="91720-103">Windows Communication Foundation (WCF) предоставляет несколько режимов, по которым клиенты и службы проверяют подлинность друг друга.</span><span class="sxs-lookup"><span data-stu-id="91720-103">Windows Communication Foundation (WCF) provides several modes by which clients and services authenticate to one another.</span></span> <span data-ttu-id="91720-104">Для этих режимов проверки подлинности можно создать привязки безопасности с помощью статических методов класса <xref:System.ServiceModel.Channels.SecurityBindingElement> или с помощью конфигурации.</span><span class="sxs-lookup"><span data-stu-id="91720-104">You can create security binding elements for these authentication modes by using static methods on the <xref:System.ServiceModel.Channels.SecurityBindingElement> class or through configuration.</span></span> <span data-ttu-id="91720-105">В этом разделе кратко описано 18 режимов проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="91720-105">This topic briefly describes the 18 authentication modes.</span></span>  
  
 <span data-ttu-id="91720-106">Пример использования элемента для одного из режимов проверки подлинности, см. в разделе [как: создание SecurityBindingElement для режима проверки подлинности указан](../../../../docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span><span class="sxs-lookup"><span data-stu-id="91720-106">For an example of using the element for one of the authentication modes, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](../../../../docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span></span>  
  
## <a name="basic-configuration-programming"></a><span data-ttu-id="91720-107">Базовое программирование конфигурации</span><span class="sxs-lookup"><span data-stu-id="91720-107">Basic Configuration Programming</span></span>  
 <span data-ttu-id="91720-108">Ниже описано, как задать режим проверки подлинности в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="91720-108">The following procedure describes how to set the authentication mode in a configuration file.</span></span>  
  
#### <a name="to-set-the-authentication-mode-in-configuration"></a><span data-ttu-id="91720-109">Задание режима проверки подлинности в файле конфигурации</span><span class="sxs-lookup"><span data-stu-id="91720-109">To set the authentication mode in configuration</span></span>  
  
1.  <span data-ttu-id="91720-110">Чтобы [ \<привязки >](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) элемента, добавьте [ \<customBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md).</span><span class="sxs-lookup"><span data-stu-id="91720-110">To the [\<bindings>](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) element, add a [\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md).</span></span>  
  
2.  <span data-ttu-id="91720-111">Как дочерний элемент, добавьте [ \<привязки >](../../../../docs/framework/misc/binding.md) элемент `<customBinding>` элемент.</span><span class="sxs-lookup"><span data-stu-id="91720-111">As a child element, add a [\<binding>](../../../../docs/framework/misc/binding.md) element to the `<customBinding>` element.</span></span>  
  
3.  <span data-ttu-id="91720-112">Добавьте элемент `<security>` в элемент `<binding>`.</span><span class="sxs-lookup"><span data-stu-id="91720-112">Add a `<security>` element to the `<binding>` element.</span></span>  
  
4.  <span data-ttu-id="91720-113">Задайте для атрибута `authenticationMode` одно из описанных ниже значений.</span><span class="sxs-lookup"><span data-stu-id="91720-113">Set the `authenticationMode` attribute to one of the values described below.</span></span> <span data-ttu-id="91720-114">Например, следующий код задает режим `AnonymousForCertificate`.</span><span class="sxs-lookup"><span data-stu-id="91720-114">For example, the following code sets the mode to `AnonymousForCertificate`.</span></span>  
  
    ```xml  
    <bindings>  
      <customBinding>  
        <binding name="SecureCustomBinding">  
         <security authenticationMode ="AnonymousForCertificate" />  
        </binding>  
      </customBinding>  
    </bindings>  
    ```  
  
#### <a name="to-set-the-mode-programmatically"></a><span data-ttu-id="91720-115">Задание режима программным образом</span><span class="sxs-lookup"><span data-stu-id="91720-115">To set the mode programmatically</span></span>  
  
1.  <span data-ttu-id="91720-116">Определите возвращаемый тип, который может быть следующим: <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> или <xref:System.ServiceModel.Channels.SecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="91720-116">Determine the return type, which can be one of the following: <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>, or <xref:System.ServiceModel.Channels.SecurityBindingElement>.</span></span>  
  
2.  <span data-ttu-id="91720-117">Вызовите соответствующий статический метод класса <xref:System.ServiceModel.Channels.SecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="91720-117">Call the appropriate static method of the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="91720-118">Например, в следующем фрагменте кода вызывается метод <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-118">For example, the following code calls the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A> method.</span></span>  
  
     [!code-csharp[c_CustomBindingsAuthMode#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_custombindingsauthmode/cs/source.cs#3)]
     [!code-vb[c_CustomBindingsAuthMode#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_custombindingsauthmode/vb/source.vb#3)]  
  
3.  <span data-ttu-id="91720-119">С помощью элемента привязки создайте пользовательскую привязку.</span><span class="sxs-lookup"><span data-stu-id="91720-119">Use the binding element to create the custom binding.</span></span> <span data-ttu-id="91720-120">Дополнительные сведения см. в разделе [пользовательские привязки](../../../../docs/framework/wcf/extending/custom-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="91720-120">For more information, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).</span></span>  
  
## <a name="mode-descriptions"></a><span data-ttu-id="91720-121">Описание режимов</span><span class="sxs-lookup"><span data-stu-id="91720-121">Mode Descriptions</span></span>  
  
### <a name="anonymousforcertificate"></a><span data-ttu-id="91720-122">AnonymousForCertificate</span><span class="sxs-lookup"><span data-stu-id="91720-122">AnonymousForCertificate</span></span>  
 <span data-ttu-id="91720-123">В этом режиме проверки подлинности клиент является анонимным, а проверка подлинности службы осуществляется с использованием сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-123">With this authentication mode, the client is anonymous and the service is authenticated using an X.509 certificate.</span></span> <span data-ttu-id="91720-124">Элементом привязки безопасности является элемент <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-124">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="91720-125">Можно также задать `authenticationMode` атрибут <`security`> элемент `AnonymousForCertificate`.</span><span class="sxs-lookup"><span data-stu-id="91720-125">Alternatively, set the `authenticationMode` attribute of the <`security`> element to `AnonymousForCertificate`.</span></span>  
  
### <a name="anonymousforsslnegotiated"></a><span data-ttu-id="91720-126">AnonymousForSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="91720-126">AnonymousForSslNegotiated</span></span>  
 <span data-ttu-id="91720-127">В этом режиме проверки подлинности клиент является анонимным, а проверка подлинности службы осуществляется с использованием сертификата X.509, который определяется во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="91720-127">With this authentication mode, the client is anonymous and the service is authenticated using an X.509 certificate that is negotiated at run time.</span></span> <span data-ttu-id="91720-128">Элементом привязки безопасности является объект <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A>, если в качестве первого параметра передается значение `false`.</span><span class="sxs-lookup"><span data-stu-id="91720-128">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A> method when a value of `false` is passed for the first parameter.</span></span> <span data-ttu-id="91720-129">Можно также задать для атрибута `authenticationMode` значение `AnonymousForSslNegotiated`.</span><span class="sxs-lookup"><span data-stu-id="91720-129">Alternatively, set the `authenticationMode` attribute to `AnonymousForSslNegotiated`.</span></span>  
  
### <a name="certificateovertransport"></a><span data-ttu-id="91720-130">CertificateOverTransport</span><span class="sxs-lookup"><span data-stu-id="91720-130">CertificateOverTransport</span></span>  
 <span data-ttu-id="91720-131">В этом режиме проверка подлинности клиента осуществляется с использованием сертификата X.509, который доступен на уровне SOAP в качестве разрешающего вспомогательного маркера, т. е. маркера, которым подписана подпись сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-131">With this authentication mode, the client authenticates using an X.509 certificate that appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-132">Служба проходит проверку подлинности с использованием сертификата X.509 на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="91720-132">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="91720-133">Элементом привязки безопасности является элемент <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateCertificateOverTransportBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-133">The security binding element is a <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateCertificateOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="91720-134">Можно также задать для атрибута `authenticationMode` значение `CertificateOverTransport`.</span><span class="sxs-lookup"><span data-stu-id="91720-134">Alternatively, set the `authenticationMode` attribute to `CertificateOverTransport`.</span></span>  
  
### <a name="issuedtoken"></a><span data-ttu-id="91720-135">IssuedToken</span><span class="sxs-lookup"><span data-stu-id="91720-135">IssuedToken</span></span>  
 <span data-ttu-id="91720-136">В этом режиме проверки подлинности клиент не проходит проверку подлинности на стороне службы; вместо этого клиент проходит проверку на стороне службы маркеров безопасности, получает маркер SAML, который затем представляет серверу, и, тем самым, подтверждает набор знаний общего ключа.</span><span class="sxs-lookup"><span data-stu-id="91720-136">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="91720-137">Служба не проходит как таковую проверку подлинности на стороне клиента, но служба маркеров безопасности шифрует общий ключ в рамках выдаваемого маркера, чтобы только служба могла расшифровать этот ключ.</span><span class="sxs-lookup"><span data-stu-id="91720-137">The service is not authenticated to the client, as such, but the security token service encrypts the shared key as part of the issued token so that only the service can decrypt the key.</span></span> <span data-ttu-id="91720-138">Элементом привязки безопасности является элемент <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-138">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenBindingElement%2A> method.</span></span> <span data-ttu-id="91720-139">Можно также задать для атрибута `authenticationMode` значение `IssuedToken`.</span><span class="sxs-lookup"><span data-stu-id="91720-139">Alternatively, set the `authenticationMode` attribute to `IssuedToken`.</span></span>  
  
### <a name="issuedtokenforcertificate"></a><span data-ttu-id="91720-140">IssuedTokenForCertificate</span><span class="sxs-lookup"><span data-stu-id="91720-140">IssuedTokenForCertificate</span></span>  
 <span data-ttu-id="91720-141">В этом режиме проверки подлинности клиент не проходит проверку подлинности на стороне службы; вместо этого клиент проходит проверку на стороне службы маркеров безопасности, получает маркер SAML, который затем представляет серверу, и, тем самым, подтверждает набор знаний общего ключа.</span><span class="sxs-lookup"><span data-stu-id="91720-141">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="91720-142">Выданный маркер доступен на уровне SOAP в качестве разрешающего вспомогательного маркера либо в качестве маркера, не являющегося подтверждающим, т. е. маркера, которым подписана сигнатура сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-142">The issued token appears at the SOAP layer as either an endorsing supporting token or a bearer token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-143">Проверка подлинности службы на стороне клиента осуществляется с помощью сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-143">The service authenticates to the client using an X.509 certificate.</span></span> <span data-ttu-id="91720-144">Элементом привязки безопасности является элемент <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForCertificateBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-144">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="91720-145">Можно также задать для атрибута `authenticationMode` значение `IssuedTokenForCertificate`.</span><span class="sxs-lookup"><span data-stu-id="91720-145">Alternatively, set the `authenticationMode` attribute to `IssuedTokenForCertificate`.</span></span>  
  
### <a name="issuedtokenforsslnegotiated"></a><span data-ttu-id="91720-146">IssuedTokenForSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="91720-146">IssuedTokenForSslNegotiated</span></span>  
 <span data-ttu-id="91720-147">В этом режиме проверки подлинности клиент не проходит проверку подлинности на стороне службы; вместо этого клиент проходит проверку на стороне службы маркеров безопасности, получает маркер SAML, который затем представляет серверу, и, тем самым, подтверждает набор знаний общего ключа.</span><span class="sxs-lookup"><span data-stu-id="91720-147">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="91720-148">Выданный маркер доступен на уровне SOAP в качестве разрешающего вспомогательного маркера либо в качестве маркера, не являющегося подтверждающим, т. е. маркера, которым подписана сигнатура сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-148">The issued token appears at the SOAP layer as either an endorsing supporting token or a bearer token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-149">Служба проходит проверку подлинности с использованием сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-149">The service is authenticated using an X.509 certificate.</span></span> <span data-ttu-id="91720-150">Элементом привязки безопасности является элемент <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForSslBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-150">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForSslBindingElement%2A> method.</span></span> <span data-ttu-id="91720-151">Можно также задать для атрибута `authenticationMode` значение `IssuedTokenForSslnegotiated`.</span><span class="sxs-lookup"><span data-stu-id="91720-151">Alternatively, set the `authenticationMode` attribute to `IssuedTokenForSslnegotiated`.</span></span>  
  
### <a name="issuedtokenovertransport"></a><span data-ttu-id="91720-152">IssuedTokenOverTransport</span><span class="sxs-lookup"><span data-stu-id="91720-152">IssuedTokenOverTransport</span></span>  
 <span data-ttu-id="91720-153">В этом режиме проверки подлинности клиент не проходит проверку подлинности на стороне службы; вместо этого клиент проходит проверку на стороне службы маркеров безопасности, получает маркер SAML, который затем представляет серверу, и, тем самым, подтверждает набор знаний общего ключа.</span><span class="sxs-lookup"><span data-stu-id="91720-153">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="91720-154">Выданный маркер доступен на уровне SOAP в качестве разрешающего вспомогательного маркера либо в качестве маркера, не являющегося подтверждающим, т. е. маркера, которым подписана сигнатура сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-154">The issued token appears at the SOAP layer as either an endorsing supporting token or a bearer token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-155">Служба проходит проверку подлинности с использованием сертификата X.509 на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="91720-155">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="91720-156">Элементом привязки безопасности является элемент `TransportSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenOverTransportBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-156">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="91720-157">Можно также задать для атрибута `authenticationMode` значение `IssuedTokenOverTransport`.</span><span class="sxs-lookup"><span data-stu-id="91720-157">Alternatively, set the `authenticationMode` attribute to `IssuedTokenOverTransport`.</span></span>  
  
### <a name="kerberos"></a><span data-ttu-id="91720-158">Kerberos</span><span class="sxs-lookup"><span data-stu-id="91720-158">Kerberos</span></span>  
 <span data-ttu-id="91720-159">В этом режиме проверка подлинности клиента на стороне службы осуществляется с использованием билета Kerberos.</span><span class="sxs-lookup"><span data-stu-id="91720-159">With this authentication mode, the client authenticates to the service using a Kerberos ticket.</span></span> <span data-ttu-id="91720-160">Этот же билет обеспечивает проверку подлинности сервера.</span><span class="sxs-lookup"><span data-stu-id="91720-160">That same ticket also provides server authentication.</span></span> <span data-ttu-id="91720-161">Элементом привязки безопасности является элемент `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-161">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A> method.</span></span> <span data-ttu-id="91720-162">Можно также задать для атрибута `authenticationMode` значение `Kerberos`.</span><span class="sxs-lookup"><span data-stu-id="91720-162">Alternatively, set the `authenticationMode` attribute to `Kerberos`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="91720-163">Для использования этого режима проверки подлинности учетная запись службы должна быть связана с именем участника-службы (SPN).</span><span class="sxs-lookup"><span data-stu-id="91720-163">In order to use this authentication mode, the service account must be associated with a service principal name (SPN).</span></span> <span data-ttu-id="91720-164">Для этого запустите службу от имени учетной записи NETWORK SERVICE или LOCAL SYSTEM.</span><span class="sxs-lookup"><span data-stu-id="91720-164">To do this, run the service under the NETWORK SERVICE account or the LOCAL SYSTEM account.</span></span> <span data-ttu-id="91720-165">Для создания для учетной записи службы имени участника-службы также можно воспользоваться средством SetSpn.exe.</span><span class="sxs-lookup"><span data-stu-id="91720-165">Alternatively, use the SetSpn.exe tool to create an SPN for the service account.</span></span> <span data-ttu-id="91720-166">В любом случае клиент должен использовать правильное имя участника службы в [ \<servicePrincipalName >](../../../../docs/framework/configure-apps/file-schema/wcf/serviceprincipalname.md) элемент, или с помощью <xref:System.ServiceModel.EndpointAddress> конструктор.</span><span class="sxs-lookup"><span data-stu-id="91720-166">In either case, the client must use the correct SPN in the [\<servicePrincipalName>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceprincipalname.md) element, or by using the <xref:System.ServiceModel.EndpointAddress> constructor.</span></span> <span data-ttu-id="91720-167">Дополнительные сведения см. в разделе [службы идентификации и проверки подлинности](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="91720-167">For more information, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="91720-168">При использовании режима проверки подлинности `Kerberos` уровни олицетворения <xref:System.Security.Principal.TokenImpersonationLevel.Anonymous> и <xref:System.Security.Principal.TokenImpersonationLevel.Delegation> не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="91720-168">When the `Kerberos` authentication mode is used, the <xref:System.Security.Principal.TokenImpersonationLevel.Anonymous> and <xref:System.Security.Principal.TokenImpersonationLevel.Delegation> impersonation levels are not supported.</span></span>  
  
### <a name="kerberosovertransport"></a><span data-ttu-id="91720-169">KerberosOverTransport</span><span class="sxs-lookup"><span data-stu-id="91720-169">KerberosOverTransport</span></span>  
 <span data-ttu-id="91720-170">В этом режиме проверка подлинности клиента на стороне службы осуществляется с использованием билета Kerberos.</span><span class="sxs-lookup"><span data-stu-id="91720-170">With this authentication mode, the client authenticates to the service using a Kerberos ticket.</span></span> <span data-ttu-id="91720-171">Маркер Kerberos доступен на уровне SOAP в качестве разрешающего вспомогательного маркера, т. е. маркера, которым подписана подпись сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-171">The Kerberos token appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-172">Служба проходит проверку подлинности с использованием сертификата X.509 на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="91720-172">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="91720-173">Элементом привязки безопасности является элемент `TransportSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosOverTransportBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-173">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="91720-174">Можно также задать для атрибута `authenticationMode` значение `KerberosOverTransport`.</span><span class="sxs-lookup"><span data-stu-id="91720-174">Alternatively, set the `authenticationMode` attribute to `KerberosOverTransport`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="91720-175">Для использования этого режима проверки подлинности учетная запись службы должна быть связана с именем участника-службы (SPN).</span><span class="sxs-lookup"><span data-stu-id="91720-175">In order to use this authentication mode, the service account must be associated with an SPN.</span></span> <span data-ttu-id="91720-176">Для этого запустите службу от имени учетной записи NETWORK SERVICE или LOCAL SYSTEM.</span><span class="sxs-lookup"><span data-stu-id="91720-176">To do this, run the service under the NETWORK SERVICE account or the LOCAL SYSTEM account.</span></span> <span data-ttu-id="91720-177">Для создания для учетной записи службы имени участника-службы также можно воспользоваться средством SetSpn.exe.</span><span class="sxs-lookup"><span data-stu-id="91720-177">Alternatively, use the SetSpn.exe tool to create an SPN for the service account.</span></span> <span data-ttu-id="91720-178">В любом случае клиент должен использовать правильное имя участника службы в [ \<servicePrincipalName >](../../../../docs/framework/configure-apps/file-schema/wcf/serviceprincipalname.md) элемент, или с помощью <xref:System.ServiceModel.EndpointAddress> конструктор.</span><span class="sxs-lookup"><span data-stu-id="91720-178">In either case, the client must use the correct SPN in the [\<servicePrincipalName>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceprincipalname.md) element, or by using the <xref:System.ServiceModel.EndpointAddress> constructor.</span></span> <span data-ttu-id="91720-179">Дополнительные сведения см. в разделе [службы идентификации и проверки подлинности](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="91720-179">For more information, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
### <a name="mutualcertificate"></a><span data-ttu-id="91720-180">MutualCertificate</span><span class="sxs-lookup"><span data-stu-id="91720-180">MutualCertificate</span></span>  
 <span data-ttu-id="91720-181">В этом режиме проверка подлинности клиента осуществляется с использованием сертификата X.509, который доступен на уровне SOAP в качестве разрешающего вспомогательного маркера, т. е. маркера, которым подписана подпись сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-181">With this authentication mode, the client authenticates using an X.509 certificate that appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-182">Служба также проходит проверку подлинности с использованием сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-182">The service is also authenticated using an X.509 certificate.</span></span> <span data-ttu-id="91720-183">Элементом привязки безопасности является элемент `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-183">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="91720-184">Можно также задать для атрибута `authenticationMode` значение `MutualCertificate`.</span><span class="sxs-lookup"><span data-stu-id="91720-184">Alternatively, set the `authenticationMode` attribute to `MutualCertificate`.</span></span>  
  
### <a name="mutualcertificateduplex"></a><span data-ttu-id="91720-185">MutualCertificateDuplex</span><span class="sxs-lookup"><span data-stu-id="91720-185">MutualCertificateDuplex</span></span>  
 <span data-ttu-id="91720-186">В этом режиме проверка подлинности клиента осуществляется с использованием сертификата X.509, который доступен на уровне SOAP в качестве разрешающего вспомогательного маркера, т. е. маркера, которым подписана подпись сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-186">With this authentication mode, the client authenticates using an X.509 certificate that appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-187">Служба также проходит проверку подлинности с использованием сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-187">The service is also authenticated using an X.509 certificate.</span></span> <span data-ttu-id="91720-188">Привязкой является элемент `AsymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateDuplexBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-188">The binding is a `AsymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateDuplexBindingElement%2A> method.</span></span> <span data-ttu-id="91720-189">Можно также задать для атрибута `authenticationMode` значение `MutualCertificateDuplex`.</span><span class="sxs-lookup"><span data-stu-id="91720-189">Alternatively, set the `authenticationMode` attribute to `MutualCertificateDuplex`.</span></span>  
  
### <a name="mutualsslnegotiated"></a><span data-ttu-id="91720-190">MutualSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="91720-190">MutualSslNegotiated</span></span>  
 <span data-ttu-id="91720-191">В этом режиме проверка подлинности клиента и службы осуществляется с использованием сертификатов X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-191">With this authentication mode, the client and the service authenticate using X.509 certificates.</span></span> <span data-ttu-id="91720-192">Элементом привязки безопасности является объект `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A>, если в качестве первого параметра передается значение `true`.</span><span class="sxs-lookup"><span data-stu-id="91720-192">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A> method when a value of `true` is passed for the first parameter.</span></span> <span data-ttu-id="91720-193">Можно также задать для атрибута `authenticationMode` значение `MutualSslNegotiated`.</span><span class="sxs-lookup"><span data-stu-id="91720-193">Alternatively, set the `authenticationMode` attribute to `MutualSslNegotiated`.</span></span>  
  
### <a name="secureconversation"></a><span data-ttu-id="91720-194">SecureConversation</span><span class="sxs-lookup"><span data-stu-id="91720-194">SecureConversation</span></span>  
 <span data-ttu-id="91720-195">Элементом привязки безопасности является элемент `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-195">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%2A> method.</span></span> <span data-ttu-id="91720-196">Этот метод принимает в качестве параметра объект <xref:System.ServiceModel.Channels.SecurityBindingElement>, который используется во время инициализации для установки защищенного сеанса.</span><span class="sxs-lookup"><span data-stu-id="91720-196">This method takes a <xref:System.ServiceModel.Channels.SecurityBindingElement> as a parameter, which is used during initialization to establish the secure session.</span></span> <span data-ttu-id="91720-197">Можно также задать для атрибута `authenticationMode` значение `SecureConversation`.</span><span class="sxs-lookup"><span data-stu-id="91720-197">Alternatively, set the `authenticationMode` attribute to `SecureConversation`.</span></span>  
  
 <span data-ttu-id="91720-198">Если привязка начальной загрузки не задана, то для начальной загрузки используется режим проверки подлинности `SspiNegotiated`.</span><span class="sxs-lookup"><span data-stu-id="91720-198">If no bootstrap binding is specified, then the `SspiNegotiated` authentication mode is used for bootstrap.</span></span>  
  
### <a name="sspinegotiation"></a><span data-ttu-id="91720-199">SspiNegotiation</span><span class="sxs-lookup"><span data-stu-id="91720-199">SspiNegotiation</span></span>  
 <span data-ttu-id="91720-200">В этом режиме для проверки подлинности клиента и сервера используется протокол согласования.</span><span class="sxs-lookup"><span data-stu-id="91720-200">With this authentication mode, a negotiation protocol is used to perform client and server authentication.</span></span> <span data-ttu-id="91720-201">Если это возможно, используется протокол Kerberos, в противном случае - протокол NT LanMan (NTLM).</span><span class="sxs-lookup"><span data-stu-id="91720-201">Kerberos is used if possible; otherwise, NT LanMan (NTLM) is used.</span></span> <span data-ttu-id="91720-202">Элементом привязки безопасности является элемент `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-202">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%2A> method.</span></span> <span data-ttu-id="91720-203">Можно также задать для атрибута `authenticationMode` значение `SspiNegotiated`.</span><span class="sxs-lookup"><span data-stu-id="91720-203">Alternatively, set the `authenticationMode` attribute to `SspiNegotiated`.</span></span>  
  
### <a name="sspinegotiatedovertransport"></a><span data-ttu-id="91720-204">SspiNegotiatedOverTransport</span><span class="sxs-lookup"><span data-stu-id="91720-204">SspiNegotiatedOverTransport</span></span>  
 <span data-ttu-id="91720-205">В этом режиме для проверки подлинности клиента и сервера используется протокол согласования.</span><span class="sxs-lookup"><span data-stu-id="91720-205">With this authentication mode, a negotiation protocol is used to perform client and server authentication.</span></span> <span data-ttu-id="91720-206">Если это возможно, используется протокол Kerberos, в противном случае - протокол NTLM.</span><span class="sxs-lookup"><span data-stu-id="91720-206">Kerberos protocol is used if possible; otherwise, NTLM is used.</span></span> <span data-ttu-id="91720-207">Результирующий маркер доступен на уровне SOAP в качестве разрешающего вспомогательного маркера, т. е. маркера, которым подписана подпись сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-207">The resulting token appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="91720-208">Служба проходит дополнительную проверку подлинности на транспортном уровне с использованием сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-208">The service is additionally authenticated at the transport layer by an X.509 certificate.</span></span> <span data-ttu-id="91720-209">Элементом привязки безопасности является элемент `TransportSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationOverTransportBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-209">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="91720-210">Можно также задать для атрибута `authenticationMode` значение `SspiNegotiatedOverTransport`.</span><span class="sxs-lookup"><span data-stu-id="91720-210">Alternatively, set the `authenticationMode` attribute to `SspiNegotiatedOverTransport`.</span></span>  
  
### <a name="usernameforcertificate"></a><span data-ttu-id="91720-211">UserNameForCertificate</span><span class="sxs-lookup"><span data-stu-id="91720-211">UserNameForCertificate</span></span>  
 <span data-ttu-id="91720-212">В этом режиме проверка подлинности клиента на стороне службы осуществляется с использованием маркера имени пользователя, который доступен на уровне SOAP в качестве подписанного вспомогательного маркера, т. е. маркера, который подписан подписью сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-212">With this authentication mode, the client authenticates to the service using a Username Token that appears at the SOAP layer as a signed supporting token; that is, a token that is signed by the message signature.</span></span> <span data-ttu-id="91720-213">Проверка подлинности службы на стороне клиента осуществляется с помощью сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-213">The service authenticates to the client using an X.509 certificate.</span></span> <span data-ttu-id="91720-214">Элементом привязки безопасности является элемент `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForCertificateBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-214">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="91720-215">Можно также задать для атрибута `authenticationMode` значение `UserNameForCertificate`.</span><span class="sxs-lookup"><span data-stu-id="91720-215">Alternatively, set the `authenticationMode` attribute to `UserNameForCertificate`.</span></span>  
  
 <span data-ttu-id="91720-216">В режиме проверки подлинности `UserNameForCertificate` клиент и служба должны использовать протокол WS-Security 1.1.</span><span class="sxs-lookup"><span data-stu-id="91720-216">For the `UserNameForCertificate` authentication mode, both the client and service must be using WS-Security 1.1.</span></span>  
  
### <a name="usernameforsslnegotiated"></a><span data-ttu-id="91720-217">UserNameForSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="91720-217">UserNameForSslNegotiated</span></span>  
 <span data-ttu-id="91720-218">В этом режиме проверка подлинности клиента осуществляется с использованием маркера имени пользователя, который доступен на уровне SOAP в качестве подписанного вспомогательного маркера, т. е. маркера, который подписан подписью сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-218">With this authentication mode, the client is authenticates using a Username Token which appears at the SOAP layer as a signed supporting token; that is, a token that is signed by the message signature.</span></span> <span data-ttu-id="91720-219">Служба проходит проверку подлинности с использованием сертификата X.509.</span><span class="sxs-lookup"><span data-stu-id="91720-219">The service is authenticated using an X.509 certificate.</span></span> <span data-ttu-id="91720-220">Элементом привязки безопасности является элемент `SymmetricSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForSslBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-220">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForSslBindingElement%2A> method.</span></span> <span data-ttu-id="91720-221">Можно также задать для атрибута `authenticationMode` значение `UserNameForSslNegotiated`.</span><span class="sxs-lookup"><span data-stu-id="91720-221">Alternatively, set the `authenticationMode` attribute to `UserNameForSslNegotiated`.</span></span>  
  
### <a name="usernameovertransport"></a><span data-ttu-id="91720-222">UserNameOverTransport</span><span class="sxs-lookup"><span data-stu-id="91720-222">UserNameOverTransport</span></span>  
 <span data-ttu-id="91720-223">В этом режиме проверка подлинности клиента осуществляется с использованием маркера имени пользователя, который доступен на уровне SOAP в качестве подписанного вспомогательного маркера, т. е. маркера, который подписан подписью сообщения.</span><span class="sxs-lookup"><span data-stu-id="91720-223">With this authentication mode, the client authenticates using a Username Token that appears at the SOAP layer as a signed supporting token; that is, a token that is signed by the message signature.</span></span> <span data-ttu-id="91720-224">Служба проходит проверку подлинности с использованием сертификата X.509 на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="91720-224">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="91720-225">Элементом привязки безопасности является элемент `TransportSecurityBindingElement`, возвращаемый методом <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameOverTransportBindingElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="91720-225">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="91720-226">Можно также задать для атрибута `authenticationMode` значение `UserNameOverTransport`.</span><span class="sxs-lookup"><span data-stu-id="91720-226">Alternatively, set the `authenticationMode` attribute to `UserNameOverTransport`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="91720-227">См. также</span><span class="sxs-lookup"><span data-stu-id="91720-227">See Also</span></span>  
 <xref:System.ServiceModel.Channels.SecurityBindingElement>  
 [<span data-ttu-id="91720-228">Практическое руководство. Создание SecurityBindingElement для заданного режима проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="91720-228">How to: Create a SecurityBindingElement for a Specified Authentication Mode</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)
