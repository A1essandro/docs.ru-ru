---
title: Публикация служб WCF
ms.date: 03/30/2017
ms.assetid: c806b253-cd47-4b96-b831-e73cbf08808f
ms.openlocfilehash: 258c7e65b69648477e58880f35b100a9378dc9c0
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="wcf-service-publishing"></a>Публикация служб WCF
Публикация служб Windows Communication Foundation (WCF) помогает в реализации от начальной среды разработки, предоставляемые узел службы WCF и тестовый клиент WCF для фактического развертывания приложения в рабочей среде для тестирования. Перед тем как вводить итоговый план развертывания, можно использовать Windows Communication Foundation (WCF) службу публикации проверка правильности функционирования службы WCF и готов к опубликованию. Можно также развернуть библиотеки службы WCF на различных целевых размещениях для тестирования.  
  
## <a name="supported-services-and-target-locations"></a>Поддерживаемые службы и целевые размещения  
 Публикация служб WCF поддерживает публикацию служб WCF, созданных из набора шаблонов библиотек служб WCF и их соответствующие шаблоны элементов, которые включают следующее:  
  
-   Шаблон библиотеки службы WCF с шаблоном элемента.  
  
-   Библиотека служб синдикации.  
  
 Эти шаблоны служб можно найти, выбрав **файл** -> **новый проект** -> **Visual Basic** или **Visual C#**  ->  **WCF**. Другие шаблоны WCF в этом расположении (включая приложение службы рабочего процесса WCF и приложение службы WCF) можно опубликовать с помощью [публикации для веб-приложения одним щелчком](https://msdn.microsoft.com/library/dd465337\(v=vs.110\).aspx).  
  
 Служба может быть опубликована в следующих целевых расположениях.  
  
-   Локальный веб-сервер IIS.  
  
-   Файловая система.  
  
-   FTP-узел.  
  
## <a name="using-wcf-service-publishing"></a>Использование публикации служб WCF  
 Выполните следующие действия для развертывания реализации службы:  
  
1.  Откройте Visual Studio с повышенными привилегиями (щелкните правой кнопкой мыши исполняемый файл и используйте «Запуск от имени администратора» для запуска).  Если используется IIS версии 7.0 или более поздней версии, убедитесь, что установлен компонент «Совместимость метабазы IIS и IIS6 конфигурации» с использованием «"на или отключение компонентов Windows» на панели управления.  
  
2.  Откройте проект службы, выберите **построения**->**публикации \<имя проекта >** в главном меню или щелкните правой кнопкой мыши проект в **обозревателе решений**и нажмите кнопку **публикации**.  
  
3.  **Публикации** появится окно. Нажмите кнопку **...** . чтобы указать целевое расположение, в котором должна быть развернута служба. Можно выбрать для развертывания приложения на локальном IIS, файловой системы или FTP-сайта. Если развертывание приложения на локальный сервер IIS, можно выбрать веб-сайта и создать веб-приложения, в нем, щелкнув **создать новое веб-приложение** в верхнем правом углу страницы.  
  
4.  После нажатия кнопки **публикации** в главном окне Visual Studio развертывает приложение на указанном целевом расположении и копирует файлы Web.config и SVC-сборки в конечный каталог. . .Svc будет называться «ProjectName.ServiceName.svc»». После публикации службы ссылку на нее можно найти в окне вывода Visual Studio, которое выглядит аналогично «Соединение в ГИПЕРССЫЛКУ»http://localhost/WebApplicationFolderName" http://localhost/WebApplicationFolderName ...». Можно щелкнуть ссылку при нажатой клавише CTRL, чтобы открыть страницу браузера в Visual Studio для просмотра структуры каталогов службы.  
  
     Если перейти к узлу не удается, возможно, браузер каталогов в IIS не включен. Следуйте советам из раздела «Что можно попробовать», чтобы включить его. Кроме того, можно непосредственно ввести» гиперссылка»http://localhost/WebApplicationFolderName" http://localhost/WebApplicationFolderName/ProjectName.ServiceName.svc«Чтобы просмотреть страницу службы.  
  
 Можно использовать **публикации** укажите, следует ли копировать сборки, конфигурации и SVC-файла для всех служб, определенных в проекте в целевое расположение и перезаписать существующие файлы в месте назначения.  
  
 При выборе развертывания приложения на локальный сервер IIS могут возникнуть ошибки, связанные с настройкой IIS. Убедитесь, что IIS установлен правильно. Можно ввести «Гиперссылка»http://localhost" http://localhost" в браузере и проверьте ли страница IIS по умолчанию отображаться.  В некоторых случаях проблемы также может быть вызвано неправильной регистрацией ASP.NET или WCF в IIS. Можно открыть командную строку Visual Studio и запустите команду «aspnet_regiis.exe - ir» Чтобы устранить неполадки регистрации ASP.NET или выполните команду «ServiceModelReg.exe – ia», чтобы устранить проблемы регистрации WCF.  
  
## <a name="files-generated-for-publishing"></a>Файлы, созданные для опубликования  
 Прежде чем можно будет библиотеки службы WCF, размещенных на веб сервере, с помощью средства создаются следующие файлы: файлы сборки, файл Web.config и SVC-файла. Все файлы копируются в целевое расположение. После этого выполняется публикация службы.  
  
### <a name="assembly-files"></a>Файлы сборки  
 При публикации службы WCF с помощью этого средства, служба автоматически построены в первую очередь, и после сборки в проекте службы создаются файлы сборки.  
  
### <a name="svc-file"></a>Файл SVC  
 Операция публикации создает SVC-файл для каждой службы WCF, существует ли, чтобы обеспечить правильность версии ли. Существует два различных вида файлов svc: один для библиотеки службы WCF и Библиотека служб синдикации и еще один — для последовательного рабочего процесса и библиотеки службы рабочего процесса автомата. Созданный \*SVC-файл копируется в корневую папку в целевом расположении.  
  
### <a name="webconfig-file"></a>Файл Web.config  
 Файл Web.config создается каждый раз при публикации проекта службы в заданное целевое расположение.  
  
 Созданный файл Web.config содержит веб-разделы, которые можно использовать для размещения веб-сайтов, а содержимое файла App.config для библиотеки службы WCF, со следующими изменениями:  
  
-   Базовый адрес клиента исключен.  
  
-   Параметры в элементе `<diagnostics>` исключены, чтобы сохранить параметры отслеживания целевой платформы.  
  
## <a name="publishing-wcf-services-with-non-http-bindings-to-iis"></a>Публикация служб WCF с привязками, не использующими HTTP, в службах IIS  
 Если используется IIS7.0 или более поздней версии, можно опубликовать служб WCF с привязками, отличные от HTTP к службам IIS. Потребуется провести некоторые предварительные настройки. Дополнительные сведения см. в разделе статей в [размещение в службе активации процессов Windows](../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md).  
  
## <a name="security"></a>Безопасность  
 Публикация в локальный сервер IIS требует наличия прав администратора, так как IIS требует выполнения под учетной записью администратора. Если пользователь без прав администратора откроет Публикация служб WCF, IIS недоступен как целевое расположение. Публикация в файловой системе или FTP-узел не требует прав администратора.  
  
## <a name="see-also"></a>См. также  
 [Шаблоны WCF в Visual Studio](../../../docs/framework/wcf/wcf-vs-templates.md)  
 [Узел службы WCF (WcfSvcHost.exe)](../../../docs/framework/wcf/wcf-service-host-wcfsvchost-exe.md)  
 [Тестовый клиент WCF (WcfTestClient.exe)](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)
