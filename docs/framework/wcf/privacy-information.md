---
title: "Сведения о политике конфиденциальности Windows Communication Foundation | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "сведения о политике конфиденциальности [WCF]"
  - "WCF, сведения о политике конфиденциальности"
  - "Windows Communication Foundation, сведения о политике конфиденциальности"
ms.assetid: c9553724-f3e7-45cb-9ea5-450a22d309d9
caps.latest.revision: 34
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 34
---
# Сведения о политике конфиденциальности Windows Communication Foundation
Корпорация Майкрософт стремится защитить конфиденциальные данные конечных пользователей.  При создании приложения с использованием [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] версии 3.0 оно может повлиять на конфиденциальность информации конечных пользователей.  Например, приложение может явным образом собирать контактные данные пользователей или запрашивать\/отправлять информацию через Интернет на свой веб\-сайт.  Если в приложение внедряется технология Майкрософт, у этой технологии может быть свое поведение, которое способно повлиять на конфиденциальность данных приложения.  [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] отправляет информацию из приложения в корпорацию Майкрософт, только если это требуется разработчику или конечному пользователю.  
  
## Вкратце о WCF  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] представляет собой распределенную среду обмена сообщениями, использующую платформу .NET Framework корпорации Майкрософт, которая позволяет разработчикам создавать распределенные приложения.  Сообщения, обмен которыми осуществляется между двумя приложениями, содержат информацию заголовка и тела сообщения.  
  
 Заголовки могут содержать информацию о маршрутизации сообщений, безопасности, транзакциях, а также другие сведения в зависимости от служб, используемых приложением.  Как правило, по умолчанию выполняется шифрование сообщений.  Единственным исключением является использование привязки `BasicHttpBinding`, которая была создана для использования с небезопасными веб\-службами прежних версий.  Разработчик приложения отвечает за окончательную версию приложения.  Сообщения в теле SOAP содержат относящиеся к приложению данные. Однако такую информацию, как определенные приложением персональные данные, можно защитить с помощью шифрования [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] или функций обеспечения конфиденциальности.  В следующих разделах описаны функции, которые теоретически могут повлиять на конфиденциальность.  
  
## Обмен сообщениями  
 Каждое сообщение [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] содержит заголовок адреса, в котором указано место назначения сообщения и место, в которое должен отправляться ответ.  
  
 Компонент адреса конечной точки является универсальным кодом ресурса \(URI\), определяющим конечную точку.  Адрес может быть сетевым или логическим.  Адрес может содержать имя компьютера \(имя узла, полное доменное имя\) и IP\-адрес.  Адрес конечной точки также может содержать глобальный уникальный идентификатор \(GUID\) или коллекцию таких идентификаторов для временной адресации, используемой для распознавания каждого адреса.  Каждое сообщение содержит идентификатор сообщения, который является глобальным уникальным идентификатором.  Эта функция соответствует стандарту ссылок WS\-Addressing.  
  
 На уровне обмена сообщениями [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] персональные данные на локальный компьютер не записываются.  Однако возможно их распространение на уровне сети, если разработчик создал службу, раскрывающую такую информацию \(например за счет указания имени пользователя в имени конечной точки или включения персональных данных в язык описания веб\-служб конечной точки, но не требуя при этом от клиентов использования HTTPS для доступа к WSDL\).  Кроме того, если разработчик запускает средство [Служебное средство ServiceModel Metadata Utility Tool \(Svcutil.exe\)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) для конечной точки, раскрывающей персональные данные, в выходных данных средства может содержатся такая информация и выходной файл записывается на локальный жесткий диск.  
  
## Размещение  
 Функция размещения в [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] позволяет приложениям запускаться по запросу или включать совместное использование портов между несколькими приложениями.  Приложение [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] может быть размещено в службах Internet Information Services \(IIS\) аналогично [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)].  
  
 При размещении не раскрывается какая\-либо особая информация в сети, и данные не сохраняются на компьютере.  
  
## Безопасность сообщений  
 Безопасность [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] обеспечивает возможности безопасности для приложений для обмена сообщениями.  Предусмотренные функции безопасности включают в себя проверку подлинности и авторизацию.  
  
 Проверка подлинности осуществляется путем передачи учетных данных между клиентами и службами.  Проверка подлинности может выполняться либо через безопасность на транспортном уровне, либо через безопасность на уровне сообщений SOAP следующим образом.  
  
-   При безопасности на уровне сообщений SOAP проверка подлинности осуществляется с помощью учетных данных, например имен пользователей\/паролей, сертификатов X.509, билетов Kerberos и маркеров SAML, каждый из которых может содержать персональные данные в зависимости от издателя.  
  
-   С помощью безопасности транспорта проверка подлинности осуществляется посредством таких обычных механизмов проверки подлинности транспорта, как схемы проверки подлинности HTTP \(обычная, дайджест, Negotiate, Integrated Windows Authorization, NTLM, без проверки и анонимная\) и проверка подлинности на основе формы.  
  
 Результатом проверки подлинности может стать безопасный сеанс, осуществляемый между взаимодействующими конечными точками.  Сеанс определяется идентификатором GUID, который существует на протяжении всего времени существования сеанса безопасности.  В следующей таблице указано, что и где хранится.  
  
|Данные|Хранилище|  
|------------|---------------|  
|Учетные данные представления, например имена пользователей, сертификаты X.509, маркеры Kerberos и ссылки на учетные данные.|Стандартные механизмы управления учетными данными в Windows, например хранилище сертификатов Windows.|  
|Информация о членстве пользователя, например имена пользователей и пароли.|Поставщики членства [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)].|  
|Данные идентификации о службе, используемой для проверки подлинности службы для клиентов.|Адрес конечной точки службы.|  
|Сведения о вызывающем объекте.|Журналы аудита.|  
  
## Аудит  
 Во время аудита регистрируются события успешной и неудачной проверки подлинности и авторизации.  В журналах аудита содержатся следующие данные: URI службы, URI действия и идентификация вызывающего объекта.  
  
 Во время аудита также регистрируется событие, когда администратор изменяет конфигурацию ведения журнала сообщений \(включает или выключает\), поскольку при ведении журнала сообщений данные, относящиеся к приложению, могут указываться в заголовках и телах.  В [!INCLUDE[wxp](../../../includes/wxp-md.md)] запись вносится в журнал событий приложений.  В [!INCLUDE[wv](../../../includes/wv-md.md)] и [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] запись вносится в журнал событий безопасности.  
  
## Транзакции  
 Функция транзакций обеспечивает транзакционные службы для приложения [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
 Заголовки транзакций, используемые при распространении транзакций, могут содержать идентификаторы транзакций или идентификаторы зачисления, которые являются идентификаторами GUID.  
  
 Функция транзакций использует диспетчер транзакций координатора распределенных транзакций \(Майкрософт\) \(компонент Windows\) для управления состоянием транзакций.  По умолчанию взаимодействие между диспетчерами транзакций шифруется.  Диспетчеры транзакций могут вносить в журнал ссылки на конечные точки, идентификаторы транзакций и идентификаторы зачисления как часть их устойчивого состояния.  Время существования этого состояния определяется временем существования файла журнала диспетчера транзакций.  Этот журнал используется и обслуживается службой MSDTC.  
  
 Функция транзакций реализует стандарты транзакций WS\-Coordination и WS\-Atomic.  
  
## Надежные сеансы  
 Надежные сеансы в [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] обеспечивают передачу сообщений в случае возникновения ошибок транспорта или посредника.  Они обеспечивают точную передачу сообщений даже при отключении базового транспорта \(например подключение TCP в беспроводной сети\) или потере сообщения \(удаление прокси\-сервером HTTP исходящего или входящего сообщения\).  Надежные сеансы также восстанавливают измененный порядок передачи сообщений \(что может произойти в случае многопутевой маршрутизации\), сохраняя порядок, в котором были отправлены сообщения.  
  
 Надежные сеансы реализованы с использованием протокола WS\-ReliableMessaging \(WS\-RM\).  Они добавляют заголовки WS\-RM, содержащие информацию о сеансе, которая используется для определения всех сообщений, связанных с определенным надежным сеансом.  У каждого сеанса WS\-RM имеется идентификатор, являющийся идентификатором GUID.  
  
 Персональные данные на компьютере конечного пользователя не сохраняются.  
  
## Очередь в каналах  
 В очередях хранятся сообщения отправляющего приложения от имени получающего приложения и позднее перенаправляющие эти сообщения получающему приложению.  Они обеспечивают передачу сообщений из отправляющих в получающие приложения, когда, например, получающее приложение служит посредником.  [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] обеспечивает поддержку организации очереди, используя как транспорт службу очередей сообщений \(Майкрософт\) \(MSMQ\).  
  
 Функция очереди в каналах не добавляет заголовки в сообщение.  Вместо этого она создает сообщение очереди сообщений с соответствующим набором свойств этого сообщения и вызывает методы очереди сообщений, чтобы разместить сообщение в очереди сообщений.  Очередь сообщений является необязательным компонентом в поставляемой ОС Windows.  
  
 Функция очереди в каналах не сохраняет информацию на компьютере конечного пользователя, поскольку она использует очередь сообщений в качестве инфраструктуры организации очередей.  
  
## Интеграция с COM\+  
 Эта функция обеспечивает оболочку для существующей функциональности COM и COM\+ с целью создания служб, совместимых со службами [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  В этой функции не используются специальные заголовки, и она не хранит данные на компьютере конечного пользователя.  
  
## Моникер служб COM  
 Он обеспечивает неуправляемую программу\-оболочку для стандартного клиента [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  В этой функции по сети не передаются специальные заголовки, и она не хранит данные на компьютере.  
  
## Одноранговый канал  
 Одноранговый канал позволяет разрабатывать многопользовательские приложения с помощью [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  Многопользовательский обмен сообщениями возникает в контексте сетки.  Сетки определяются именем, с которым узел может соединиться.  Каждый узел в одноранговом канале создает прослушиватель TCP на указанном пользователем порту и устанавливает подключения к другим узлам в сетке, чтобы обеспечить устойчивую работу.  Чтобы подключиться к другим узлам в сетке, узлы также обмениваются некоторыми данными, включая адрес прослушивателя и IP\-адреса компьютера, с другими узлами в сетке.  Сообщения, отправляемые по сетке, могут содержать сведения о безопасности, принадлежащие отправителю, с целью предотвращения спуфинга и подделки сообщений.  
  
 Персональные данные на компьютере конечного пользователя не сохраняются.  
  
## Опыт работы ИТ\-специалистов  
  
### Трассировка  
 Функция диагностики инфраструктуры [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] заносит в журнал сообщения, которые проходят через транспортный уровень и уровень модели службы, а также действия и события, связанные с этими сообщениями.  Эта функция отключена по умолчанию.  Ее можно включить с помощью файла конфигурации приложения, а поведение трассировки можно изменить с помощью поставщика WMI [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] во время выполнения.  Во включенном состоянии инфраструктура трассировки выдает настроенным прослушивателям диагностическую трассировку, содержащую сообщения, действия и события обработки.  Формат и расположение выходных данных определяются выбранной администратором конфигурацией прослушивателя, однако, как правило, это файл в формате XML.  Администратор отвечает за настройку списка управления доступом \(ACL\) для файлов трассировки.  В частности, в случае размещения в системе Windows Activation System \(WAS\) администратор должен убедиться, что файлы не предоставляются с общедоступного виртуального корневого каталога, за исключением, если это сделано намеренно.  
  
 Существует два типа трассировки: ведение журналов сообщений и диагностическая трассировка модели служб, описание см. в следующем разделе.  Каждый тип настраивается через собственный источник трассировки: <xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A> и <xref:System.ServiceModel>.  Оба этих источника трассировки для ведения журналов собирают данные, являющиеся локальными для приложения.  
  
### Ведение журналов сообщений  
 Источник трассировки для ведения журнала сообщений \(<xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A>\) позволяет администратору вносить в журнал передаваемые в системе сообщения.  С помощью конфигурации пользователь может выбрать, следует ли вносить в журнал сообщения целиком или только их заголовки, либо вносить их в журнал на транспортном уровне или уровне модели службы, либо включать неправильно сформированные сообщения.  Кроме того, пользователь может настроить фильтрацию, чтобы ограничить внесение сообщений в журнал определенными типами.  
  
 По умолчанию ведение журнала сообщений отключено.  Администратор локального компьютера может запретить администратору на уровне приложения включение ведения журнала сообщений.  
  
#### Ведение журнала зашифрованных и расшифрованных сообщений  
 Зашифрованные или расшифрованные сообщения вносятся в журнал в соответствии со следующими условиями.  
  
 Ведение журнала транспорта  
 Внесение в журнал сообщений, получаемых и отправляемых на транспортном уровне.  Эти сообщения содержат все заголовки и могут быть зашифрованы перед отправкой по сети и во время получения.  
  
 Если сообщения зашифрованы перед отправкой по сети и во время получения, они вносятся в журнал как зашифрованные.  Исключением является использование протокола безопасности \(HTTPS\): в этом случае они вносятся в журнал расшифрованными перед отправкой и после получения, даже если они зашифровываются в сети.  
  
 Ведение журнала служб  
 Внесение в журнал сообщений, полученных или отправленных на уровне модели служб, после обработки заголовка канала, непосредственно перед и после ввода пользовательского кода.  
  
 Сообщения, внесенные в журнал на этом уровне, расшифровываются, даже если они были защищены и зашифрованы в сети.  
  
 Ведение журнала неправильно сформированных сообщений  
 Внесение в журнал сообщений, которые инфраструктура [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не может распознать или обработать.  
  
 Сообщения вносятся в журнал «как есть», т.е. либо зашифрованными, либо расшифрованными.  
  
 Когда сообщения вносятся в журнал в зашифрованной или незашифрованной форме, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] по умолчанию удаляет ключи безопасности и потенциально персональные данные из сообщений перед тем, как внести их в журнал.  В следующих разделах представлено описание, какая информация удаляется и когда.  Администратор компьютера и специалист, выполняющий развертывание приложения, должны предпринять ряд действий в отношении конфигурации, чтобы изменить поведение по умолчанию, связанное с внесением в журнал ключей и потенциально персональных данных.  
  
#### Информация, удаленная из заголовков сообщений при внесении в журнал зашифрованных\/незашифрованных сообщений  
 Когда сообщения вносятся в журнал в зашифрованной или незашифрованной форме, ключи безопасности и потенциально персональные данные по умолчанию удаляются из заголовков и тел сообщений перед тем, как они будут внесены в журнал.  В следующем списке указано, что именно [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] считает ключами и потенциально персональными данными.  
  
 Удаляемые ключи:  
  
 \- Для xmlns:wst\="http:\/\/schemas.xmlsoap.org\/ws\/2004\/04\/trust" и xmlns:wst\="http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust"  
  
 wst:BinarySecret  
  
 wst:Entropy  
  
 \- Для xmlns:wsse\="http:\/\/docs.oasis\-open.org\/wss\/2004\/01\/oasis\-200401\-wss\-wssecurity\-secext\-1.1.xsd" и xmlns:wsse\="http:\/\/docs.oasis\-open.org\/wss\/2005\/xx\/oasis\-2005xx\-wss\-wssecurity\-secext\-1.1.xsd"  
  
 wsse:Password  
  
 wsse:Nonce  
  
 Удаляемые потенциально персональные данные:  
  
 \- Для xmlns:wsse\="http:\/\/docs.oasis\-open.org\/wss\/2004\/01\/oasis\-200401\-wss\-wssecurity\-secext\-1.1.xsd" и xmlns:wsse\="http:\/\/docs.oasis\-open.org\/wss\/2005\/xx\/oasis\-2005xx\-wss\-wssecurity\-secext\-1.1.xsd"  
  
 wsse:Username  
  
 wsse:BinarySecurityToken  
  
 \- Для xmlns:saml\="urn:oasis:names:tc:SAML:1.0:assertion" удаляются элементы, выделенные полужирным шрифтом \(см. ниже\):  
  
 \<Assertion  
  
 MajorVersion\="1"  
  
 MinorVersion\="1"  
  
 AssertionId\="\[ID\]"  
  
 Issuer\="\[string\]"  
  
 IssueInstant\="\[dateTime\]"  
  
 \>  
  
 \<Conditions NotBefore\="\[dateTime\]" NotOnOrAfter\="\[dateTime\]"\>  
  
 \<AudienceRestrictionCondition\>  
  
 \<Audience\>\[uri\]\<\/Audience\>\+  
  
 \<\/AudienceRestrictionCondition\>\*  
  
 \<DoNotCacheCondition \/\>\*  
  
 \<\!\-\- abstract base type  
  
 \<Condition \/\>\*  
  
 \-\-\>  
  
 \<\/Conditions\>?  
  
 \<Advice\>  
  
 \<AssertionIDReference\>\[ID\]\<\/AssertionIDReference\>\*  
  
 \<Assertion\>\[assertion\]\<\/Assertion\>\*  
  
 \[any\]\*  
  
 \<\/Advice\>?  
  
 \<\!\-\- Abstract base types  
  
 \<Statement \/\>\*  
  
 \<SubjectStatement\>  
  
 \<Subject\>  
  
 `<NameIdentifier`  
  
 `NameQualifier="[string]"?`  
  
 `Format="[uri]"?`  
  
 `>`  
  
 `[string]`  
  
 `</NameIdentifier>?`  
  
 \<SubjectConfirmation\>  
  
 \<ConfirmationMethod\>\[anyUri\]\<\/ConfirmationMethod\>\+  
  
 \<SubjectConfirmationData\>\[any\]\<\/SubjectConfirmationData\>?  
  
 \<ds:KeyInfo\>...\<\/ds:KeyInfo\>?  
  
 \<\/SubjectConfirmation\>?  
  
 \<\/Subject\>  
  
 \<\/SubjectStatement\>\*  
  
 \-\-\>  
  
 \<AuthenticationStatement  
  
 AuthenticationMethod\="\[uri\]"  
  
 AuthenticationInstant\="\[dateTime\]"  
  
 \>  
  
 \[Subject\]  
  
 `<SubjectLocality`  
  
 `IPAddress="[string]"?`  
  
 `DNSAddress="[string]"?`  
  
 `/>?`  
  
 \<AuthorityBinding  
  
 AuthorityKind\="\[QName\]"  
  
 Location\="\[uri\]"  
  
 Binding\="\[uri\]"  
  
 \/\>\*  
  
 \<\/AuthenticationStatement\>\*  
  
 \<AttributeStatement\>  
  
 \[Subject\]  
  
 \<Attribute  
  
 AttributeName\="\[string\]"  
  
 AttributeNamespace\="\[uri\]"  
  
 \>  
  
 `<AttributeValue>[any]</AttributeValue>+`  
  
 \<\/Attribute\>\+  
  
 \<\/AttributeStatement\>\*  
  
 \<AuthorizationDecisionStatement  
  
 Resource\="\[uri\]"  
  
 Decision\="\[Permit&#124;Deny&#124;Indeterminate\]"  
  
 \>  
  
 \[Subject\]  
  
 \<Action Namespace\="\[uri\]"\>\[string\]\<\/Action\>\+  
  
 \<Evidence\>  
  
 \<AssertionIDReference\>\[ID\]\<\/AssertionIDReference\>\+  
  
 \<Assertion\>\[assertion\]\<\/Assertion\>\+  
  
 \<\/Evidence\>?  
  
 \<\/AuthorizationDecisionStatement\>\*  
  
 \<\/Assertion\>  
  
#### Информация, удаленная из тел сообщений при внесении в журнал зашифрованных\/незашифрованных сообщений  
 Как упоминалось ранее, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] удаляет ключи и известные потенциально персональные данные из заголовков сообщений для внесенных в журнал расшифрованных\/незашифрованных сообщений.  Кроме этого, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] удаляет ключи и известные потенциально персональные данные из тел сообщений для элементов тел и действий, представленных в следующем списке, которые описывают сообщения о безопасности, участвующие в обмене ключами.  
  
 Для следующих пространств имен:  
  
 xmlns:wst\="http:\/\/schemas.xmlsoap.org\/ws\/2004\/04\/trust" и xmlns:wst\="http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust" \(например без доступных действий\)  
  
 Информация удаляется для элементов тел, участвующих в обмене ключами:  
  
 wst:RequestSecurityToken  
  
 wst:RequestSecurityTokenResponse  
  
 wst:RequestSecurityTokenResponseCollection  
  
 Информация также удаляется для каждого из следующих действий:  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/Issue  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/Issue  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/Renew  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/Renew  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/Cancel  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/Cancel  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/Validate  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/Validate  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/SCT  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/SCT  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/SCT\/Amend  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/SCT\/Amend  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/SCT\/Renew  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/SCT\/Renew  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RST\/SCT\/Cancel  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2005\/02\/trust\/RSTR\/SCT\/Cancel  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2004\/04\/security\/trust\/RST\/SCT  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2004\/04\/security\/trust\/RSTR\/SCT  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2004\/04\/security\/trust\/RST\/SCT\-Amend  
  
 http:\/\/schemas.xmlsoap.org\/ws\/2004\/04\/security\/trust\/RSTR\/SCT\-Amend  
  
#### Информация не удаляется из данных заголовков и тел, относящихся к приложению  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] не отслеживает персональные данные в заголовках \(например строки запроса\) или телах \(например номер кредитной карты\), относящихся к приложению.  
  
 Когда включено ведение журнала сообщений, персональные данные в информации заголовков и тел, относящихся к приложению, могут отображаться в журналах.  И вновь, специалист, выполняющий развертывание приложения, отвечает за настройку элементов управления доступом для файлов конфигурации и журналов.  Он также может отключить ведение журнала, если отображение такой информации не требуется, или отфильтровать эту информацию из файлов журнала после ее внесения в журнал.  
  
### Трассировка модели службы  
 Источник трассировки модели службы \(<xref:System.ServiceModel>\) обеспечивает трассировку действий и событий, относящихся к обработке сообщений.  Эта функция использует диагностические возможности .NET Framework из <xref:System.Diagnostics>.  Аналогично свойству <xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A>, ее расположение и элемент управления доступом настраиваются пользователем с помощью файлов конфигурации приложения на базе .NET Framework.  Как и при ведении журнала сообщений, расположение файла всегда настраивается при включении администратором трассировки. Таким образом, администратор управляет элементом управления доступом.  
  
 Трассировки содержат заголовки сообщений, когда сообщения находятся в области действия.  Применяются аналогичные правила скрытия потенциально персональных данных в заголовках сообщений, описанные в предыдущем разделе: ранее определенные персональные данные по умолчанию удаляются из заголовков в трассировках.  Администратор компьютера и специалист, выполняющий развертывание приложения, должны изменить конфигурацию, чтобы вносить в журнал потенциально персональные сведения.  Однако персональные данные в заголовках, относящихся к приложению, вносятся в журнал в трассировках.  Специалист, выполняющий развертывание приложения, отвечает за настройку элементов управления доступом в файлах конфигурации и трассировки.  Он также может отключить трассировку, если отображение такой информации не требуется, или отфильтровать эту информацию из файлов трассировки после ее внесения в журнал.  
  
 Являясь частью трассировки ServiceModel, уникальные идентификаторы \(называемые идентификаторами действий или, как правило, глобальными уникальными идентификаторами\) связывают различные действия друг с другом как поток сообщений, проходящий через разные области инфраструктуры.  
  
#### Пользовательские прослушиватели трассировки  
 Для ведения журнала сообщений и трассировки можно настроить пользовательский прослушиватель трассировки, который может отправлять трассировки и сообщения по сети \(например в удаленную базу данных\).  Специалист, выполняющий развертывание приложения, отвечает за настройку пользовательских прослушивателей или разрешение пользователям самостоятельно ее настраивать.  Он также отвечает за любые персональные данные, раскрытые в удаленном расположении, и за правильное применение элементов управления доступом к этому расположению.  
  
### Другие функции для ИТ\-специалистов  
 Для [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] предусмотрен поставщик WMI, раскрывающий информацию о конфигурации инфраструктуры [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] через WMI \(поставляется с ОС Windows\).  По умолчанию интерфейс WMI доступен для администраторов.  
  
 В конфигурации [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] используется механизм конфигурации .NET Framework.  Файлы конфигурации хранятся на компьютере.  Разработчик приложения и администратор создают файлы конфигурации и элемент правления доступом для каждого требования приложения.  Файл конфигурации может содержать адреса конечных точек и ссылки на сертификаты в хранилище сертификатов.  Сертификаты можно использовать, чтобы предоставить данные приложения для настройки различных свойств функций, используемых приложением.  
  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] также использует функции дампа процесса .NET Framework путем вызова метода <xref:System.Environment.FailFast%2A>.  
  
### Профессиональные ИТ\-средства  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] также предоставляет следующие профессиональные ИТ\-средства, входящие в пакет Windows SDK.  
  
#### SvcTraceViewer.exe  
 Средство просмотра отображает файлы трассировки [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  Средство просмотра позволяет просмотреть информацию, содержащуюся в трассировках.  
  
#### SvcConfigEditor.exe  
 Редактор позволяет пользователям создавать и изменять файлы конфигурации [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  Редактор показывает всю информацию, содержащуюся в файлах конфигурации.  Аналогичную задачу можно выполнить с помощью текстового редактора.  
  
#### ServiceModel\_Reg  
 Это средство позволяет пользователю управлять установкой ServiceModel на компьютере.  Во время работы средство отображает сообщения о состоянии в окне консоли и, в процессе работы, может выводить информацию о конфигурации установки [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
#### WSATConfig.exe и WSATUI.dll  
 Эти средства позволяют ИТ\-специалистам настраивать поддержку сети WS\-AtomicTransaction с возможностью взаимодействия в [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  Средство отображает и позволяет пользователю изменять значения наиболее часто используемых параметров WS\-AtomicTransaction, хранящихся в реестре.  
  
## Перекрестные функции  
 Следующие функции являются перекрестными.  Это означает, что их можно сочетать с любыми указанными выше функциями.  
  
### Инфраструктура службы  
 Заголовки могут содержать идентификатор экземпляра, который представляет собой глобальный уникальный идентификатор, связывающий сообщение с экземпляром класса CLR.  
  
 Язык описания веб\-служб \(WSDL\) содержит определение порта.  У каждого порта имеется адрес конечной точки и привязка, представляющая службы, используемые приложением.  Предоставление WSDL можно отключить в конфигурации.  Информация на компьютере не сохраняется.  
  
## См. также  
 [Windows Communication Foundation](http://msdn.microsoft.com/ru-ru/fd327ade-0260-4c40-adbe-b74645ba3277)   
 [Безопасность](../../../docs/framework/wcf/feature-details/security.md)