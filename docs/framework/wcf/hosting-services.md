---
title: Размещение служб
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- hosting services [WCF]
ms.assetid: 192be927-6be2-4fda-98f0-e513c4881acc
caps.latest.revision: 31
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: db4662245f348eca795440f149160a66d87c998f
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
# <a name="hosting-services"></a><span data-ttu-id="e623c-102">Размещение служб</span><span class="sxs-lookup"><span data-stu-id="e623c-102">Hosting Services</span></span>
<span data-ttu-id="e623c-103">Для активации службы ее необходимо разместить в среде выполнения, которая создает эту службу и управляет ее контекстом и временем существования.</span><span class="sxs-lookup"><span data-stu-id="e623c-103">To become active, a service must be hosted within a run-time environment that creates it and controls its context and lifetime.</span></span> <span data-ttu-id="e623c-104">Службы[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] предназначены для выполнения в любом процессе Windows, который поддерживает управляемый код.</span><span class="sxs-lookup"><span data-stu-id="e623c-104">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] services are designed to run in any Windows process that supports managed code.</span></span>  
  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]<span data-ttu-id="e623c-105"> обеспечивает единую модель программирования для построения сервисноориентированных приложений.</span><span class="sxs-lookup"><span data-stu-id="e623c-105"> provides a unified programming model for building service-oriented applications.</span></span> <span data-ttu-id="e623c-106">Эта модель программирования остается согласованной и не зависит от среды выполнения, в которой развертывается служба.</span><span class="sxs-lookup"><span data-stu-id="e623c-106">This programming model remains consistent and is independent of the run-time environment in which the service is deployed.</span></span> <span data-ttu-id="e623c-107">На практике это означает, что код службы всегда выглядит практически одинаково, независимо от вариантов размещения.</span><span class="sxs-lookup"><span data-stu-id="e623c-107">In practice, this means that the code for your services looks much the same whatever the hosting option.</span></span>  
  
 <span data-ttu-id="e623c-108">Варианты размещения могут самыми различными - от выполнения внутри консольного приложения до серверных сред, таких как службы Windows, выполняемых внутри рабочего процесса, который управляется службами IIS или службой активации Windows (WAS).</span><span class="sxs-lookup"><span data-stu-id="e623c-108">These hosting options range from running inside a console application to server environments such as a Windows service running within a worker process managed by Internet Information Services (IIS) or by Windows Process Activation Service (WAS).</span></span> <span data-ttu-id="e623c-109">Разработчики могут выбрать среду размещения, которая соответствует требованиям по развертыванию службы.</span><span class="sxs-lookup"><span data-stu-id="e623c-109">Developers choose the hosting environment that satisfies the service's deployment requirements.</span></span> <span data-ttu-id="e623c-110">Эти требования могут определяться платформой, на которой развертывается приложение, транспортом, с помощью которого оно должно отправлять и принимать сообщения, или типом перезапуска процессов и другими механизмами управления процессами, необходимыми для обеспечения нужного уровня доступности службы, а также другими требованиями по управлению и надежности.</span><span class="sxs-lookup"><span data-stu-id="e623c-110">These requirements might derive from the platform on which the application is deployed, the transport on which it must send and receive messages, or on the type of process recycling and other process management required to ensure adequate availability, or on some other management or reliability requirements.</span></span> <span data-ttu-id="e623c-111">В следующем разделе приведены сведения и инструкции по применению различных вариантов размещения.</span><span class="sxs-lookup"><span data-stu-id="e623c-111">The next section provides information and guidance on hosting options.</span></span>  
  
## <a name="hosting-options"></a><span data-ttu-id="e623c-112">Варианты размещения</span><span class="sxs-lookup"><span data-stu-id="e623c-112">Hosting Options</span></span>  
  
#### <a name="self-hosting-in-a-managed-application"></a><span data-ttu-id="e623c-113">Резидентное размещение в управляемом приложении</span><span class="sxs-lookup"><span data-stu-id="e623c-113">Self-Hosting in a Managed Application</span></span>  
 <span data-ttu-id="e623c-114">Службы[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] можно разместить в любом управляемом приложении.</span><span class="sxs-lookup"><span data-stu-id="e623c-114">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services can be hosted in any managed application.</span></span> <span data-ttu-id="e623c-115">Это наиболее гибкий вариант, поскольку он почти не требует развертывания инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="e623c-115">This is the most flexible option because it requires the least infrastructure to deploy.</span></span> <span data-ttu-id="e623c-116">Код службы внедряется в код управляемого приложения, после чего создается и открывается экземпляр класса <xref:System.ServiceModel.ServiceHost> , чтобы служба стала доступной.</span><span class="sxs-lookup"><span data-stu-id="e623c-116">You embed the code for the service inside the managed application code and then create and open an instance of the <xref:System.ServiceModel.ServiceHost> to make the service available.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="e623c-117"> [Как: размещение службы WCF в управляемом приложении](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md).</span><span class="sxs-lookup"><span data-stu-id="e623c-117"> [How to: Host a WCF Service in a Managed Application](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md).</span></span>  
  
 <span data-ttu-id="e623c-118">Этот параметр поддерживает два распространенных сценария: [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] службы, выполняющиеся внутри консольных приложений и отметить функционально насыщенные клиентские приложения, например на основе Windows Presentation Foundation (WPF) или Windows Forms (WinForms).</span><span class="sxs-lookup"><span data-stu-id="e623c-118">This option enables two common scenarios: [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services running inside console applications and rich client applications such as those based on Windows Presentation Foundation (WPF) or Windows Forms (WinForms).</span></span> <span data-ttu-id="e623c-119">Размещение службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] внутри консольного приложения обычно бывает удобным на этапе разработки приложения.</span><span class="sxs-lookup"><span data-stu-id="e623c-119">Hosting a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service inside a console application is typically useful during the application's development phase.</span></span> <span data-ttu-id="e623c-120">В этом случае приложение легко отлаживать, удобно получать данные трассировки, чтобы узнать, что происходит внутри приложения, и удобно копировать приложение в другие расположения.</span><span class="sxs-lookup"><span data-stu-id="e623c-120">This makes them easy to debug, easy to get trace information from to find out what is happening inside of the application, and easy to move around by copying them to new locations.</span></span> <span data-ttu-id="e623c-121">Кроме того, этот вариант размещения упрощает взаимодействие функционально насыщенных клиентских приложений, таких как приложения [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] и WinForms, с внешними системами.</span><span class="sxs-lookup"><span data-stu-id="e623c-121">This hosting option also makes it easy for rich client applications, such as [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] and WinForms applications, to communicate with the outside world.</span></span> <span data-ttu-id="e623c-122">Например, одноранговый клиент для совместной работы может использовать в качестве пользовательского интерфейса [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] и размещать службу [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] , позволяющую другим клиентам подключаться к нему и обмениваться с ним информацией.</span><span class="sxs-lookup"><span data-stu-id="e623c-122">For example, a peer-to-peer collaboration client that uses [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] for its user interface and also hosts a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service that allows other clients to connect to it and share information.</span></span>  
  
#### <a name="managed-windows-services"></a><span data-ttu-id="e623c-123">Управляемые службы Windows</span><span class="sxs-lookup"><span data-stu-id="e623c-123">Managed Windows Services</span></span>  
 <span data-ttu-id="e623c-124">Этот вариант размещения предполагает регистрацию домена приложения, в котором служба [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] размещается в качестве управляемой службы Windows (прежнее название - служба NT), так что время существования процесса службы контролируется диспетчером служб для служб Windows.</span><span class="sxs-lookup"><span data-stu-id="e623c-124">This hosting option consists of registering the application domain (AppDomain) that hosts an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service as a managed Windows Service (formerly known as NT service) so that the process lifetime of the service is controlled by the service control manager (SCM) for Windows services.</span></span> <span data-ttu-id="e623c-125">Как и в случае резидентного размещения, в данном случае код размещения является частью приложения.</span><span class="sxs-lookup"><span data-stu-id="e623c-125">Like the self-hosting option, this type of hosting environment requires that some hosting code is written as part of the application.</span></span> <span data-ttu-id="e623c-126">Служба реализуется в качестве службы Windows и в качестве службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] , в результате чего она наследует классу <xref:System.ServiceProcess.ServiceBase> и интерфейсу контракта службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e623c-126">The service is implemented as both a Windows Service and as an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service by causing it to inherit from the <xref:System.ServiceProcess.ServiceBase> class as well as from an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service contract interface.</span></span> <span data-ttu-id="e623c-127">Таким образом, объект <xref:System.ServiceModel.ServiceHost> создается и открывается с помощью переопределенного метода <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> и закрывается с помощью переопределенного метода <xref:System.ServiceProcess.ServiceBase.OnStop> .</span><span class="sxs-lookup"><span data-stu-id="e623c-127">The <xref:System.ServiceModel.ServiceHost> is then created and opened within an overridden <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> method and closed within an overridden <xref:System.ServiceProcess.ServiceBase.OnStop> method.</span></span> <span data-ttu-id="e623c-128">Кроме того, необходимо реализовать класс установщика, наследующий классу <xref:System.Configuration.Install.Installer> , чтобы программу можно было устанавливать в качестве службы Windows с помощью средства Installutil.exe.</span><span class="sxs-lookup"><span data-stu-id="e623c-128">An installer class that inherits from <xref:System.Configuration.Install.Installer> must also be implemented to allow the program to be installed as a Windows Service by the Installutil.exe tool.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="e623c-129"> [Как: размещение службы WCF в управляемой службе Windows](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md).</span><span class="sxs-lookup"><span data-stu-id="e623c-129"> [How to: Host a WCF Service in a Managed Windows Service](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md).</span></span> <span data-ttu-id="e623c-130">Сценарий, реализуемый с помощью варианта размещения в управляемой службе Windows, представляет собой работающую в течение продолжительного времени службу [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] , которая размещается за пределами служб IIS в защищенной среде, которая не активируется сообщениями.</span><span class="sxs-lookup"><span data-stu-id="e623c-130">The scenario enabled by the managed Windows Service hosting option is that of a long-running [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service hosted outside of IIS in a secure environment that is not message-activated.</span></span> <span data-ttu-id="e623c-131">Вместо этого время существования службы контролируется операционной системой.</span><span class="sxs-lookup"><span data-stu-id="e623c-131">The lifetime of the service is controlled instead by the operating system.</span></span> <span data-ttu-id="e623c-132">Данный вариант размещения доступен во всех версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="e623c-132">This hosting option is available in all versions of Windows.</span></span>  
  
#### <a name="internet-information-services-iis"></a><span data-ttu-id="e623c-133">службы IIS</span><span class="sxs-lookup"><span data-stu-id="e623c-133">Internet Information Services (IIS)</span></span>  
 <span data-ttu-id="e623c-134">Вариант размещения в службах IIS интегрирован с [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] и использует возможности, предоставляемые этими технологиями, например перезапуск процессов, завершение при ожидании, мониторинг работоспособности процессов и активацию с помощью сообщений.</span><span class="sxs-lookup"><span data-stu-id="e623c-134">The IIS hosting option is integrated with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] and uses the features these technologies offer, such as process recycling, idle shutdown, process health monitoring, and message-based activation.</span></span> <span data-ttu-id="e623c-135">В операционных системах [!INCLUDE[wxp](../../../includes/wxp-md.md)] и [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] этот вариант является предпочтительным при размещении приложений веб-служб, которым требуется высокий уровень доступности и масштабируемости.</span><span class="sxs-lookup"><span data-stu-id="e623c-135">On the [!INCLUDE[wxp](../../../includes/wxp-md.md)] and [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] operating systems, this is the preferred solution for hosting Web service applications that must be highly available and highly scalable.</span></span> <span data-ttu-id="e623c-136">Кроме того, службы IIS обеспечивают встроенные возможности управления, которые обычно присущи серверным продуктам корпоративного уровня.</span><span class="sxs-lookup"><span data-stu-id="e623c-136">IIS also offers the integrated manageability that customers expect from an enterprise-class server product.</span></span> <span data-ttu-id="e623c-137">Для реализации этого варианта размещения требуется правильно настроить службу IIS, но не требуется включать в приложение код размещения.</span><span class="sxs-lookup"><span data-stu-id="e623c-137">This hosting option requires that IIS be properly configured, but it does not require that any hosting code be written as part of the application.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="e623c-138"> настройке служб IIS для размещения службы [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] см. в разделе [How to: Host a WCF Service in IIS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md).</span><span class="sxs-lookup"><span data-stu-id="e623c-138"> how to configure IIS hosting for a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service, see [How to: Host a WCF Service in IIS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md).</span></span>  
  
 <span data-ttu-id="e623c-139">Обратите внимание, что службы, размещаемые в IIS, могут использовать только транспорт HTTP.</span><span class="sxs-lookup"><span data-stu-id="e623c-139">Note that IIS-hosted services can only use the HTTP transport.</span></span> <span data-ttu-id="e623c-140">Реализация в IIS 5.1 накладывает некоторые ограничения при использовании [!INCLUDE[wxp](../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e623c-140">Its implementation in IIS 5.1 has introduced some limitations in [!INCLUDE[wxp](../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="e623c-141">Активация на основе сообщений для служб [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] в IIS 5.1 на [!INCLUDE[wxp](../../../includes/wxp-md.md)] не позволяет никаким другим резидентным службам [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] , размещенным на том же компьютере, использовать для взаимодействия порт 80.</span><span class="sxs-lookup"><span data-stu-id="e623c-141">The message-based activation provided for an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service by IIS 5.1 on [!INCLUDE[wxp](../../../includes/wxp-md.md)] blocks any other self-hosted [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service on the same computer from using port 80 to communicate.</span></span> <span data-ttu-id="e623c-142">Службы[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] могут выполняться в одном домене приложения, пуле приложений или рабочем процессе наравне с другими приложениями, если они размещаются в [!INCLUDE[iis601](../../../includes/iis601-md.md)] на [!INCLUDE[ws2003](../../../includes/ws2003-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e623c-142">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services can run in the same AppDomain/Application Pool/Worker Process as other applications when hosted by [!INCLUDE[iis601](../../../includes/iis601-md.md)] on [!INCLUDE[ws2003](../../../includes/ws2003-md.md)].</span></span> <span data-ttu-id="e623c-143">Но поскольку в [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] и [!INCLUDE[iis601](../../../includes/iis601-md.md)] используются стек HTTP режима ядра (HTTP.sys), службы [!INCLUDE[iis601](../../../includes/iis601-md.md)] могут использовать порт 80 совместно с другими размещенными резидентно службами [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] , выполняющимися на том же компьютере, в отличие от служб IIS 5.1.</span><span class="sxs-lookup"><span data-stu-id="e623c-143">But because [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and [!INCLUDE[iis601](../../../includes/iis601-md.md)] both use the kernel-mode HTTP stack (HTTP.sys), [!INCLUDE[iis601](../../../includes/iis601-md.md)] can share port 80 with other self-hosted [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services running on the same machine, unlike IIS 5.1.</span></span>  
  
#### <a name="windows-process-activation-service-was"></a><span data-ttu-id="e623c-144">Служба активации Windows (WAS)</span><span class="sxs-lookup"><span data-stu-id="e623c-144">Windows Process Activation Service (WAS)</span></span>  
 <span data-ttu-id="e623c-145">Служба активации Windows (WAS) - это новый механизм активации процессов для [!INCLUDE[lserver](../../../includes/lserver-md.md)] , который также доступен в [!INCLUDE[wv](../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e623c-145">Windows Process Activation Service (WAS) is the new process activation mechanism for the [!INCLUDE[lserver](../../../includes/lserver-md.md)] that is also available on [!INCLUDE[wv](../../../includes/wv-md.md)].</span></span> <span data-ttu-id="e623c-146">Он сохраняет привычную модель процессов [!INCLUDE[iis601](../../../includes/iis601-md.md)] (с использованием пулов приложений и активации процессов с помощью сообщений) и функции размещения (например, быструю отработку сбоев, мониторинг работоспособности служб и их перезапуск), однако его архитектура активации уже не зависит от протокола HTTP.</span><span class="sxs-lookup"><span data-stu-id="e623c-146">It retains the familiar [!INCLUDE[iis601](../../../includes/iis601-md.md)] process model (application pools and message-based process activation) and hosting features (such as rapid failure protection, health monitoring, and recycling), but it removes the dependency on HTTP from the activation architecture.</span></span> [!INCLUDE[iisver](../../../includes/iisver-md.md)]<span data-ttu-id="e623c-147"> использует архитектуру WAS для выполнения активации на основе сообщений по протоколу HTTP.</span><span class="sxs-lookup"><span data-stu-id="e623c-147"> uses WAS to accomplish message-based activation over HTTP.</span></span> <span data-ttu-id="e623c-148">Кроме того, к службе WAS подключаются дополнительные компоненты [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] для реализации активации с помощью сообщений с использованием других протоколов, поддерживаемых в [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] , например TCP, MSMQ и именованных каналов.</span><span class="sxs-lookup"><span data-stu-id="e623c-148">Additional [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] components also plug into WAS to provide message-based activation over the other protocols that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] supports, such as TCP, MSMQ, and named pipes.</span></span> <span data-ttu-id="e623c-149">Это позволяет приложениям, которые используют протоколы взаимодействия, использовать функции IIS, такие как перезапуск процессов, быструю защиту от сбоев и систему стандартных конфигураций, которые ранее были доступны только приложениям, работающим на базе протокола HTTP.</span><span class="sxs-lookup"><span data-stu-id="e623c-149">This allows applications that use communication protocols to use the IIS features such as process recycling, rapid fail protection, and the common configuration system that were only available to HTTP-based applications.</span></span>  
  
 <span data-ttu-id="e623c-150">Для реализации этого варианта размещения требуется правильно настроить службу WAS, но не требуется включать в приложение код размещения.</span><span class="sxs-lookup"><span data-stu-id="e623c-150">This hosting option requires that WAS be properly configured, but it does not require you to write any hosting code as part of the application.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="e623c-151"> настройке размещения в WAS см. в разделе [How to: Host a WCF Service in WAS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md).</span><span class="sxs-lookup"><span data-stu-id="e623c-151"> how to configure WAS hosting, see [How to: Host a WCF Service in WAS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md).</span></span>  
  
## <a name="choosing-a-hosting-environment"></a><span data-ttu-id="e623c-152">Выбор среды размещения</span><span class="sxs-lookup"><span data-stu-id="e623c-152">Choosing a Hosting Environment</span></span>  
 <span data-ttu-id="e623c-153">В следующей таблице описаны некоторые ключевые преимущества и сценарии, связанные с каждым из вариантов размещения.</span><span class="sxs-lookup"><span data-stu-id="e623c-153">The following table summarizes some of the key benefits and scenarios associated with each of the hosting options.</span></span>  
  
|<span data-ttu-id="e623c-154">Среда размещения</span><span class="sxs-lookup"><span data-stu-id="e623c-154">Hosting Environment</span></span>|<span data-ttu-id="e623c-155">Стандартные сценарии</span><span class="sxs-lookup"><span data-stu-id="e623c-155">Common Scenarios</span></span>|<span data-ttu-id="e623c-156">Ключевые преимущества и ограничения</span><span class="sxs-lookup"><span data-stu-id="e623c-156">Key Benefits and Limitations</span></span>|  
|-------------------------|----------------------|----------------------------------|  
|<span data-ttu-id="e623c-157">Управляемое приложение (резидентное размещение)</span><span class="sxs-lookup"><span data-stu-id="e623c-157">Managed Application ("Self-Hosted")</span></span>|<span data-ttu-id="e623c-158">-Консольное приложение, используемое во время разработки.</span><span class="sxs-lookup"><span data-stu-id="e623c-158">-   Console applications used during development.</span></span><br /><span data-ttu-id="e623c-159">-Насыщенное WinForm и [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] клиентских приложений, получающих доступ к службам.</span><span class="sxs-lookup"><span data-stu-id="e623c-159">-   Rich WinForm and [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] client applications accessing services.</span></span>|<span data-ttu-id="e623c-160">-Гибкий.</span><span class="sxs-lookup"><span data-stu-id="e623c-160">-   Flexible.</span></span><br /><span data-ttu-id="e623c-161">-Просты в развертывании.</span><span class="sxs-lookup"><span data-stu-id="e623c-161">-   Easy to deploy.</span></span><br /><span data-ttu-id="e623c-162">-Не решение уровня предприятия для службы.</span><span class="sxs-lookup"><span data-stu-id="e623c-162">-   Not an enterprise solution for services.</span></span>|  
|<span data-ttu-id="e623c-163">Службы Windows (прежнее название - службы NT)</span><span class="sxs-lookup"><span data-stu-id="e623c-163">Windows Services (formerly known as NT services)</span></span>|<span data-ttu-id="e623c-164">-Долго выполняющимся [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] служб, размещенных вне IIS.</span><span class="sxs-lookup"><span data-stu-id="e623c-164">-   A long-running [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service hosted outside of IIS.</span></span>|<span data-ttu-id="e623c-165">-Существования процесса службы контролируется операционной системой, не активируется сообщениями.</span><span class="sxs-lookup"><span data-stu-id="e623c-165">-   Service process lifetime controlled by the operating system, not message-activated.</span></span><br /><span data-ttu-id="e623c-166">— Поддерживают все версии Windows.</span><span class="sxs-lookup"><span data-stu-id="e623c-166">-   Supported by all versions of Windows.</span></span><br /><span data-ttu-id="e623c-167">— Безопасная среда.</span><span class="sxs-lookup"><span data-stu-id="e623c-167">-   Secure environment.</span></span>|  
|<span data-ttu-id="e623c-168">IIS 5.1, [!INCLUDE[iis601](../../../includes/iis601-md.md)]</span><span class="sxs-lookup"><span data-stu-id="e623c-168">IIS 5.1, [!INCLUDE[iis601](../../../includes/iis601-md.md)]</span></span>|<span data-ttu-id="e623c-169">-Выполнение [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] службы рядом с [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] содержимого в Интернете с использованием протокола HTTP.</span><span class="sxs-lookup"><span data-stu-id="e623c-169">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service side-by-side with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] content on the Internet using the HTTP protocol.</span></span>|<span data-ttu-id="e623c-170">-Перезапуск процессов.</span><span class="sxs-lookup"><span data-stu-id="e623c-170">-   Process recycling.</span></span><br /><span data-ttu-id="e623c-171">-Shutdown простоя.</span><span class="sxs-lookup"><span data-stu-id="e623c-171">-   Idle shutdown.</span></span><br /><span data-ttu-id="e623c-172">— Мониторинг работоспособности процессов.</span><span class="sxs-lookup"><span data-stu-id="e623c-172">-   Process health monitoring.</span></span><br /><span data-ttu-id="e623c-173">Активация с помощью сообщений.</span><span class="sxs-lookup"><span data-stu-id="e623c-173">-   Message-based activation.</span></span><br /><span data-ttu-id="e623c-174">-HTTP.</span><span class="sxs-lookup"><span data-stu-id="e623c-174">-   HTTP only.</span></span>|  
|<span data-ttu-id="e623c-175">Служба активации Windows (WAS)</span><span class="sxs-lookup"><span data-stu-id="e623c-175">Windows Process Activation Service (WAS)</span></span>|<span data-ttu-id="e623c-176">-Выполнение [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] службы без установки IIS в Интернете с использованием различных транспортных протоколов.</span><span class="sxs-lookup"><span data-stu-id="e623c-176">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service without installing IIS on the Internet using various transport protocols.</span></span>|<span data-ttu-id="e623c-177">-IIS не является обязательным.</span><span class="sxs-lookup"><span data-stu-id="e623c-177">-   IIS is not required.</span></span><br /><span data-ttu-id="e623c-178">-Перезапуск процессов.</span><span class="sxs-lookup"><span data-stu-id="e623c-178">-   Process recycling.</span></span><br /><span data-ttu-id="e623c-179">-Shutdown простоя.</span><span class="sxs-lookup"><span data-stu-id="e623c-179">-   Idle shutdown.</span></span><br /><span data-ttu-id="e623c-180">— Мониторинг работоспособности процессов.</span><span class="sxs-lookup"><span data-stu-id="e623c-180">-   Process health monitoring.</span></span><br /><span data-ttu-id="e623c-181">Активация с помощью сообщений.</span><span class="sxs-lookup"><span data-stu-id="e623c-181">-   Message-based activation.</span></span><br /><span data-ttu-id="e623c-182">-Работает с HTTP, TCP, именованные каналы и MSMQ.</span><span class="sxs-lookup"><span data-stu-id="e623c-182">-   Works with HTTP, TCP, named pipes, and MSMQ.</span></span>|  
|<span data-ttu-id="e623c-183">IIS 7.0</span><span class="sxs-lookup"><span data-stu-id="e623c-183">IIS 7.0</span></span>|<span data-ttu-id="e623c-184">-Выполнение [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] с [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] содержимого.</span><span class="sxs-lookup"><span data-stu-id="e623c-184">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] content.</span></span><br /><span data-ttu-id="e623c-185">-Выполнение [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] службы в Интернете с использованием различных транспортных протоколов.</span><span class="sxs-lookup"><span data-stu-id="e623c-185">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service on the Internet using various transport protocols.</span></span>|<span data-ttu-id="e623c-186">-Это приложение было преимущества.</span><span class="sxs-lookup"><span data-stu-id="e623c-186">-   WAS benefits.</span></span><br /><span data-ttu-id="e623c-187">-Интегрированные с [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] содержимым IIS и.</span><span class="sxs-lookup"><span data-stu-id="e623c-187">-   Integrated with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] and IIS content.</span></span>|  
  
 <span data-ttu-id="e623c-188">Выбор среды размещения зависит от версии Windows, в которой она развертывается, транспортных протоколов, с помощью которых требуется отправлять сообщения, и необходимого типа перезапуска процессов и доменов приложений.</span><span class="sxs-lookup"><span data-stu-id="e623c-188">The choice of a hosting environment depends on the version of Windows on which it is deployed, the transports it requires to send messages and the type of process and application domain recycling it requires.</span></span> <span data-ttu-id="e623c-189">В следующей таблице приведены сведения, относящиеся к этим требованиям.</span><span class="sxs-lookup"><span data-stu-id="e623c-189">The following table summarizes the data related to these requirements.</span></span>  
  
|<span data-ttu-id="e623c-190">Среда размещения</span><span class="sxs-lookup"><span data-stu-id="e623c-190">Hosting Environment</span></span>|<span data-ttu-id="e623c-191">Доступность платформы</span><span class="sxs-lookup"><span data-stu-id="e623c-191">Platform Availability</span></span>|<span data-ttu-id="e623c-192">Поддерживаемые транспортные протоколы</span><span class="sxs-lookup"><span data-stu-id="e623c-192">Transports Supported</span></span>|<span data-ttu-id="e623c-193">Перезапуск процессов и доменов приложений</span><span class="sxs-lookup"><span data-stu-id="e623c-193">Process and AppDomain Recycling</span></span>|  
|-------------------------|---------------------------|--------------------------|-------------------------------------|  
|<span data-ttu-id="e623c-194">Управляемые приложения (резидентное размещение)</span><span class="sxs-lookup"><span data-stu-id="e623c-194">Managed Applications ("Self-Hosted")</span></span>|[!INCLUDE[wxp](../../../includes/wxp-md.md)]<span data-ttu-id="e623c-195">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span><span class="sxs-lookup"><span data-stu-id="e623c-195">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span></span><br /><br /> [!INCLUDE[lserver](../../../includes/lserver-md.md)]|<span data-ttu-id="e623c-196">HTTP,</span><span class="sxs-lookup"><span data-stu-id="e623c-196">HTTP,</span></span><br /><br /> <span data-ttu-id="e623c-197">net.tcp,</span><span class="sxs-lookup"><span data-stu-id="e623c-197">net.tcp,</span></span><br /><br /> <span data-ttu-id="e623c-198">net.pipe,</span><span class="sxs-lookup"><span data-stu-id="e623c-198">net.pipe,</span></span><br /><br /> <span data-ttu-id="e623c-199">net.msmq</span><span class="sxs-lookup"><span data-stu-id="e623c-199">net.msmq</span></span>|<span data-ttu-id="e623c-200">Нет</span><span class="sxs-lookup"><span data-stu-id="e623c-200">No</span></span>|  
|<span data-ttu-id="e623c-201">Службы Windows (прежнее название - службы NT)</span><span class="sxs-lookup"><span data-stu-id="e623c-201">Windows Services (formerly known as NT services)</span></span>|[!INCLUDE[wxp](../../../includes/wxp-md.md)]<span data-ttu-id="e623c-202">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span><span class="sxs-lookup"><span data-stu-id="e623c-202">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span></span><br /><br /> [!INCLUDE[lserver](../../../includes/lserver-md.md)]|<span data-ttu-id="e623c-203">HTTP,</span><span class="sxs-lookup"><span data-stu-id="e623c-203">HTTP,</span></span><br /><br /> <span data-ttu-id="e623c-204">net.tcp,</span><span class="sxs-lookup"><span data-stu-id="e623c-204">net.tcp,</span></span><br /><br /> <span data-ttu-id="e623c-205">net.pipe,</span><span class="sxs-lookup"><span data-stu-id="e623c-205">net.pipe,</span></span><br /><br /> <span data-ttu-id="e623c-206">net.msmq</span><span class="sxs-lookup"><span data-stu-id="e623c-206">net.msmq</span></span>|<span data-ttu-id="e623c-207">Нет</span><span class="sxs-lookup"><span data-stu-id="e623c-207">No</span></span>|  
|<span data-ttu-id="e623c-208">IIS 5,1</span><span class="sxs-lookup"><span data-stu-id="e623c-208">IIS 5.1</span></span>|[!INCLUDE[wxp](../../../includes/wxp-md.md)]|<span data-ttu-id="e623c-209">HTTP</span><span class="sxs-lookup"><span data-stu-id="e623c-209">HTTP</span></span>|<span data-ttu-id="e623c-210">Да</span><span class="sxs-lookup"><span data-stu-id="e623c-210">Yes</span></span>|  
|[!INCLUDE[iis601](../../../includes/iis601-md.md)]|[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]|<span data-ttu-id="e623c-211">HTTP</span><span class="sxs-lookup"><span data-stu-id="e623c-211">HTTP</span></span>|<span data-ttu-id="e623c-212">Да</span><span class="sxs-lookup"><span data-stu-id="e623c-212">Yes</span></span>|  
|<span data-ttu-id="e623c-213">Служба активации Windows (WAS)</span><span class="sxs-lookup"><span data-stu-id="e623c-213">Windows Process Activation Service (WAS)</span></span>|[!INCLUDE[wv](../../../includes/wv-md.md)]<span data-ttu-id="e623c-214">, [!INCLUDE[lserver](../../../includes/lserver-md.md)]</span><span class="sxs-lookup"><span data-stu-id="e623c-214">, [!INCLUDE[lserver](../../../includes/lserver-md.md)]</span></span>|<span data-ttu-id="e623c-215">HTTP,</span><span class="sxs-lookup"><span data-stu-id="e623c-215">HTTP,</span></span><br /><br /> <span data-ttu-id="e623c-216">net.tcp,</span><span class="sxs-lookup"><span data-stu-id="e623c-216">net.tcp,</span></span><br /><br /> <span data-ttu-id="e623c-217">net.pipe,</span><span class="sxs-lookup"><span data-stu-id="e623c-217">net.pipe,</span></span><br /><br /> <span data-ttu-id="e623c-218">net.msmq</span><span class="sxs-lookup"><span data-stu-id="e623c-218">net.msmq</span></span>|<span data-ttu-id="e623c-219">Да</span><span class="sxs-lookup"><span data-stu-id="e623c-219">Yes</span></span>|  
  
 <span data-ttu-id="e623c-220">Важно отметить, что при запуске службы или любого расширения от недоверенного узла нарушается безопасность.</span><span class="sxs-lookup"><span data-stu-id="e623c-220">It is important to note that running a service or any extension from an untrusted host compromises security.</span></span> <span data-ttu-id="e623c-221">Кроме того, следует иметь в ввиду, что при открытии объекта <xref:System.ServiceModel.ServiceHost> при олицетворении приложение должно следить, чтобы пользователь не вышел из системы, например путем кэширования объекта <xref:System.Security.Principal.WindowsIdentity> этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="e623c-221">Also, note that when opening a <xref:System.ServiceModel.ServiceHost> under impersonation, an application must ensure that the user is not logged off, for example by caching the <xref:System.Security.Principal.WindowsIdentity> of the user.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e623c-222">См. также</span><span class="sxs-lookup"><span data-stu-id="e623c-222">See Also</span></span>  
 [<span data-ttu-id="e623c-223">Требования к системе</span><span class="sxs-lookup"><span data-stu-id="e623c-223">System Requirements</span></span>](../../../docs/framework/wcf/wcf-system-requirements.md)  
 [<span data-ttu-id="e623c-224">Базовый жизненный цикл программирования</span><span class="sxs-lookup"><span data-stu-id="e623c-224">Basic Programming Lifecycle</span></span>](../../../docs/framework/wcf/basic-programming-lifecycle.md)  
 [<span data-ttu-id="e623c-225">Реализация контрактов служб</span><span class="sxs-lookup"><span data-stu-id="e623c-225">Implementing Service Contracts</span></span>](../../../docs/framework/wcf/implementing-service-contracts.md)  
 [<span data-ttu-id="e623c-226">Практическое руководство. Размещение службы WCF в IIS</span><span class="sxs-lookup"><span data-stu-id="e623c-226">How to: Host a WCF Service in IIS</span></span>](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md)  
 [<span data-ttu-id="e623c-227">Практическое руководство. Размещение службы WCF в WAS</span><span class="sxs-lookup"><span data-stu-id="e623c-227">How to: Host a WCF Service in WAS</span></span>](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)  
 [<span data-ttu-id="e623c-228">Практическое руководство. Размещение службы WCF в управляемой службе Windows</span><span class="sxs-lookup"><span data-stu-id="e623c-228">How to: Host a WCF Service in a Managed Windows Service</span></span>](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md)  
 [<span data-ttu-id="e623c-229">Практическое руководство. Размещение службы WCF в управляемом приложении</span><span class="sxs-lookup"><span data-stu-id="e623c-229">How to: Host a WCF Service in a Managed Application</span></span>](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md)
