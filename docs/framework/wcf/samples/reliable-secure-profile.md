---
title: "Надежный защищенный профиль"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 921edc41-e91b-40f9-bde9-b6148b633e61
caps.latest.revision: "8"
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.openlocfilehash: 6b73565409e26456ad09067066455ef2459b2e3c
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="reliable-secure-profile"></a>Надежный защищенный профиль
В этом примере показано, как составлять [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] и [надежному защищенному профилю](http://go.microsoft.com/fwlink/?LinkId=178140) (RSP). Этот образец демонстрирует реализацию [Создание подключения](http://go.microsoft.com/fwlink/?LinkId=178141) канала, который может формироваться вместе с надежного обмена сообщениями и при необходимости безопасного канала для создания надежных защищенную привязку на основе RSP спецификации.  
  
> [!IMPORTANT]
>  Образцы уже могут быть установлены на компьютере. Перед продолжением проверьте следующий каталог (по умолчанию).  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  Если этот каталог не существует, перейдите на страницу [Примеры Windows Communication Foundation (WCF) и Windows Workflow Foundation (WF) для .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) , чтобы скачать все примеры [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] и [!INCLUDE[wf1](../../../../includes/wf1-md.md)] . Этот образец расположен в следующем каталоге.  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Extensibility\Channels\ReliableSecureProfile`  
  
## <a name="discussion"></a>Обсуждение  
 В этом образце показан сценарий с надежным двусторонним асинхронным обменом сообщениями. Служба имеет дуплексный контракт, а в клиенте реализован дуплексный контракт обратного вызова. Клиент создает запрос к службе, а ответ ожидается по отдельному соединению. Сообщение запроса отправляется надежным образом. Клиент не открывает со своей стороны конечную точку прослушивания. Поэтому он отправляет службе запросы «Make Connection», чтобы служба отправляла ответ по обратному каналу для таких запросов. В этом образце показано, как организовать защищенную надежную дуплексную связь по HTTP без предоставления конечной точки прослушивания на клиенте (и без создания исключения брандмауэра).  
  
## <a name="to-set-up-build-and-run-the-sample"></a>Настройка, сборка и выполнение образца  
  
1.  Откройте **ReliableSecureProfile** решения.  
  
2.  Щелкните правой кнопкой мыши **службы** проекта в **обозревателе решений**выберите **отладки**, **запустить новый экземпляр** в контекстном меню. Запустится узел службы.  
  
3.  Щелкните правой кнопкой мыши **клиента** проекта в **обозревателе решений**выберите **отладки**, **запустить новый экземпляр** в контекстном меню. Запустится клиент.  
  
4.  Введите в окне консоли клиента любую строку и нажмите клавишу ВВОД. Введенная строка отправится в службу, которая вычислит для нее хэш.  
  
5.  Просмотрите результат в окне клиента, когда служба выполняет обратный вызов дуплексной операции контракта, чтобы вывести результат в окно консоли клиента. Со стороны службы специально реализована задержка, имитирующая продолжительную операцию по обработке данных.  
  
6.  Наблюдение за HTTP-трафиком (в любом из средств оперативного наблюдения за сетью, например сетевом мониторе, Fiddler и т. п.) показывает, что последовательность связи устанавливается между клиентом и службой согласно надежному защищенному профилю, а клиент отправляет службе запросы «Make Connection». Когда служба готова к отправке обработанного ответа, она использует для отправки результатов обратный канал последнего запроса «Make Connection».  
  
7.  Нажмите в окне консоли службы клавишу ВВОД, чтобы закрыть службу. Нажмите клавишу ВВОД в окне консоли клиента, чтобы закрыть клиент.
