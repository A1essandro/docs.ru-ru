---
title: "Выполнение примеров Windows Communication Foundation | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: db8a83da-95c1-4a21-a9d2-48caeb6398ea
caps.latest.revision: 26
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 26
---
# Выполнение примеров Windows Communication Foundation
Примеры [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] могут выполняться на одном или нескольких компьютерах.  После передачи примеры готовы к выполнению на одном компьютере.  При выполнении на нескольких компьютерах необходимо изменить параметры файла конфигурации примера.  В следующих процедурах объясняется, как выполнить пример на одном компьютере или на нескольких компьютерах.  Обратите внимание, что шаги, выполняемые для служб, размещенных в службах IIS, и шаги для резидентных примеров, отличаются.  Большинство примеров размещаются в службах IIS; чтобы определить, как размещается пример, см. сведения в файле Readme.  
  
 В [!INCLUDE[wv](../../../../includes/wv-md.md)] образцы, которые не размещаются в службах IIS, должны иметь более высокий уровень привилегий при регистрации прослушивателя в Http.sys.  Используйте средство Httpcfg.exe для регистрации адреса ожидания передачи данных службы, работающей под учетной записью службы, или запустите службу из командной строки с правами администратора.  
  
> [!NOTE]
>  Перед построением или выполнением любого из примеров [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] убедитесь, что выполнены указания раздела [Процедура однократной настройки образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  
  
### Запуск образца на том же компьютере  
  
1.  Если служба размещена в IIS, убедитесь в наличии доступа к службе с помощью браузера, введя следующий адрес: http:\/\/localhost\/servicemodelsamples\/service.svc.  Должна отобразиться страница подтверждения.  Если страница подтверждения не отображается, см. раздел [Troubleshooting Tips](http://msdn.microsoft.com/ru-ru/8787c877-5e96-42da-8214-fa737a38f10b).  
  
2.  Если служба является резидентной, запустите программу Service.exe из папки \\service\\bin\\ в языковой папке.  Действия службы отображаются в окне консоли службы.  
  
3.  Запустите файл Client.exe из папки \\client\\bin\\ в языковой папке.  Действия клиента отображаются в окне консоли клиента.  
  
4.  Если клиенту и службе не удается взаимодействовать, см. раздел [Troubleshooting Tips](http://msdn.microsoft.com/ru-ru/8787c877-5e96-42da-8214-fa737a38f10b).  
  
### Выполнение примера на нескольких компьютерах  
  
1.  Служба размещается в службах IIS.  
  
    1.  На компьютере службы создайте виртуальный каталог с именем ServiceModelSamples.  Пакетный файл Setupvroot.bat, включенный в [Процедура однократной настройки образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md), можно использовать для создания каталога диска и виртуального каталога.  
  
    2.  Скопируйте файлы программы службы из каталога %SystemDrive%\\Inetpub\\wwwroot\\servicemodelsamples в виртуальный каталог ServiceModelSamples на компьютере службы.  Убедитесь, что включены все файлы каталога \\bin.  
  
    3.  Убедитесь, что доступ к службе с клиентского компьютера можно получить из браузера.  
  
     Служба является резидентной.  
  
    1.  Создайте каталог для хранения файлов службы на компьютере службы.  
  
    2.  Скопируйте на компьютер службы файлы программы службы из папки \\service\\bin\\ в языковой папке.  
  
    3.  В файле конфигурации службы измените значение адреса определения конечной точки, чтобы оно соответствовало новому адресу службы.  Замените любые ссылки на "localhost" в адресе полным именем домена.  
  
    4.  Запустите программу Service.exe из командной строки.  
  
2.  Скопируйте на клиентский компьютер файлы программы клиента из папки \\client\\bin\\ в языковой папке.  
  
3.  Задайте адрес конечной точки.  
  
    1.  Если не удается запустить службу из учетной записи домена, откройте файл конфигурации клиента и измените значение адреса определения конечной точки, чтобы оно соответствовало новому адресу службы.  Замените любые ссылки на "localhost" в адресе полным именем домена.  
  
    2.  Если служба выполняется в учетной записи домена, заново создайте конфигурацию клиента, выполнив Svcutil.exe относительно службы.  [!INCLUDE[crabout](../../../../includes/crabout-md.md)] запуске программы Svcutil.exe см. в разделе [Построение образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/building-the-samples.md).  Используйте созданный файл вместо файла конфигурации в примере.  В созданном файле конфигурации содержатся дополнительные данные идентификации \(и содержатся все параметры, необходимые для подключения к конечной точке службы, даже если они являются параметрами по умолчанию\).  [!INCLUDE[crabout](../../../../includes/crabout-md.md)] идентификации см. в разделах [Идентификация и проверка подлинности службы](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md) и [\<удостоверение\>](../../../../docs/framework/configure-apps/file-schema/wcf/identity.md).  
  
4.  На клиентском компьютере из командной строки запустите программу Client.exe.  
  
### Отладка службы  
  
1.  Выполните построение решения \(для клиента и для службы\) с помощью меню **Построение** или сочетания клавиш CTRL\+SHIFT\+B.  
  
2.  Служба размещается в службах IIS.  
  
    1.  Активируйте службу с помощью браузера: введите в адресной строке http:\/\/localhost\/servicemodelsamples\/service.svc.  
  
    2.  В решении в меню **Отладка** выберите пункт **Присоединение к процессу**.  
  
    3.  Установите флажок **Показать процессы, запущенные всеми пользователями**.  
  
    4.  Выберите рабочий процесс основного приложения W3wp.exe для отладки \(в Windows XP выберите ASPNet\_wp.exe\).  
  
3.  Теперь можно задать точки останова в коде службы и включить точки останова в исключениях.  
  
4.  Щелкните правой кнопкой мыши элемент клиентского проекта и выберите в меню **Отладка** пункт **Запустить новый экземпляр**.  
  
### Очистка после образца  
  
-   Если служба размещается в службах IIS в целях безопасности, удалите определение виртуального каталога и разрешения, предоставленные на шагах установки, по завершении работы с примерами.  
  
## См. также  
 [Построение образцов Windows Communication Foundation](../../../../docs/framework/wcf/samples/building-the-samples.md)   
 [Running the Samples in a Workgroup and Across Machines](http://msdn.microsoft.com/ru-ru/a451a525-e7ce-452d-9da9-620221260113)   
 [Troubleshooting Tips](http://msdn.microsoft.com/ru-ru/8787c877-5e96-42da-8214-fa737a38f10b)