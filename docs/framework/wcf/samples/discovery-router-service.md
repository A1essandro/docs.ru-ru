---
title: "Служба обнаружения маршрутизатора"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 3d30af47-b24f-40e5-833a-24d77125c9e6
caps.latest.revision: "6"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 663ece44a18ae073412376bc11a1d70927740e8a
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="discovery-router-service"></a>Служба обнаружения маршрутизатора
В этом образце показаны способы направления сообщений обнаружения другой конечной точке.  
  
## <a name="demonstrates"></a>Демонстрации  
 Маршрутизация обнаружения  
  
## <a name="discussion"></a>Обсуждение  
 Маршрутизация обнаружения используется в случаях, когда клиент выполняет поиск службы с использованием прокси-сервера и этот прокси-сервер не имеет данных об этой службе, но обладает сведениями о другом прокси-сервере. Этот прокси-сервер может направлять пакет обнаружения от этого клиента второму прокси-серверу. Второй прокси-сервер может выполнить поиск службы и вернуть ответы исходному клиенту.  
  
 В этом образце клиент отправляет сообщение компоненту маршрутизации обнаружения. Это сообщение отправляется определенной конечной точке на маршрутизаторе обнаружения. Затем маршрутизатор перенаправляет сообщение по многоадресной рассылке конечной точке определяемой пользователем процедуре. Сообщение зонда передается по многоадресной рассылке конечной точке, а служба, прослушивающая адрес многоадресной рассылки определяемой пользователем процедуры, реагирует на маршрутизатор обнаружения. Маршрутизатор обнаружения выполняет сбор ответов и отправляет их обратно клиенту.  
  
#### <a name="to-set-up-build-and-run-the-sample"></a>Настройка, сборка и выполнение образца  
  
1.  Постройте образец.  
  
2.  Запустите исполняемый файл DiscoveryRouter.  
  
3.  Выполните исполняемый файл службы из каталога сборки.  
  
4.  Выполните исполняемый файл клиента. Обратите внимание, что клиент нашел службу.  
  
> [!IMPORTANT]
>  Образцы уже могут быть установлены на компьютере. Перед продолжением проверьте следующий каталог (по умолчанию).  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  Если этот каталог не существует, перейдите на страницу [Примеры Windows Communication Foundation (WCF) и Windows Workflow Foundation (WF) для .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) , чтобы скачать все примеры [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] и [!INCLUDE[wf1](../../../../includes/wf1-md.md)] . Этот образец расположен в следующем каталоге.  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Basic\Discovery\DiscoveryRouter`
