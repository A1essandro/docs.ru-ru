---
title: "Надежные службы | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "контракты служб [WCF], надежные службы"
  - "WCF [WCF], надежный обмен сообщениями"
  - "WCF [WCF], надежные сеансы"
  - "Windows Communication Foundation [WCF], надежный обмен сообщениями"
  - "Windows Communication Foundation [WCF], надежные сеансы"
ms.assetid: 07814ed0-0775-47f2-987b-d8134fdd5099
caps.latest.revision: 8
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 8
---
# Надежные службы
Очереди и надежные сеансы — это функции [!INCLUDE[indigo1](../../../includes/indigo1-md.md)], реализующие надежный обмен сообщениями.В данном разделе рассматриваются функции надежного обмена сообщениями [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  
  
 *Надежный обмен сообщениями* — это надежная передача сообщений от надежного источника сообщений \(называемого *источником*\) в надежный пункт назначения сообщений \(называемый *назначением*\).  
  
 Ниже перечислены функции, выполняемые при надежном обмене сообщениями.  
  
-   Обеспечение гарантированной передачи сообщений, отправленных от источника в пункт назначения, независимо от сбоев передачи сообщений или транспортных сбоев.  
  
-   Отделение источника от назначения.Это обеспечивает независимость сбоев и восстановлений источника и назначения, а также надежность передачи и доставки сообщений даже при недоступности источника или назначения.  
  
 Надежность обмена сообщениями часто обеспечивается ценой высокой задержки.*Задержка* — это время, затрачиваемое на доставку сообщения от источника до назначения.В [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] предусмотрены следующие типы надежного обмена сообщениями.  
  
-   [Надежные сеансы](../../../docs/framework/wcf/feature-details/reliable-sessions.md), обеспечивающие надежную передачу без большой задержки.  
  
-   [Очереди в WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md), обеспечивающие надежную передачу и разделение между источником и назначением.  
  
## Надежные сеансы  
 Надежные сеансы обеспечивают надежную сквозную передачу сообщений между источником и назначением с помощью протокола WS\-Reliable Messaging независимо от количества и типа посредников между конечными точками обмена сообщениями \(источником и назначением\),В том числе от любых посредников транспорта, не использующих протокол SOAP \(например, HTTP\-прокси\), и посредников, использующих этот протокол \(например, мостов и маршрутизаторов на базе SOAP\), необходимых для доставки сообщений между конечными точками.Надежные сеансы используют окно передачи в памяти для маскировки сбоев на уровне сообщений SOAP и повторной установки соединений при транспортных сбоях.  
  
 Надежные сеансы обеспечивают надежную передачу сообщений с низкой задержкой.Они обеспечивают доставку сообщений протокола SOAP через любые прокси или маршрутизаторы, подобно тому как протокол TCP обеспечивает доставку пакетов через IP\-мосты.[!INCLUDE[crabout](../../../includes/crabout-md.md)] о надежных сеансах см. в разделе [Надежные сеансы](../../../docs/framework/wcf/feature-details/reliable-sessions.md).  
  
### Очереди  
 Очереди в [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] обеспечивают надежную передачу сообщений и отделение источника от назначения \(ценой высокой задержки\).Взаимодействие [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] с использованием очередей является надстройкой MSMQ.  
  
 MSMQ поставляется как дополнительный компонент с Windows.Служба MSMQ работает как служба Windows.MSMQ помещает передаваемые сообщения в очередь передачи от имени источника и доставляет их в целевую очередь.Целевая очередь принимает сообщения от имени назначения для последующей доставки при получении запроса от назначения.Диспетчеры MSMQ реализуют протокол надежной передачи сообщений, благодаря которому сообщения не теряются при передаче.Этот протокол может быть собственным или основанным на SOAP \(протокол SRMP\).  
  
 Разделение в сочетании с надежной передачей сообщений между очередями обеспечивает надежное взаимодействие между слабо связанными приложениями.В отличие от технологии надежных сеансов, не требуется, чтобы источник и назначение выполнялись одновременно.Таким образом, возможны сценарии, в которых очереди фактически используются в качестве механизма выравнивания нагрузки при несоответствии скорости создания сообщений источником и их обработки в пункте назначения.[!INCLUDE[crabout](../../../includes/crabout-md.md)] очередях см. в разделе [Очереди в WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).  
  
## См. также  
 [Общие сведения о надежных сеансах](../../../docs/framework/wcf/feature-details/reliable-sessions-overview.md)   
 [Очереди в WCF](../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)