---
title: Надежные службы
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], reliable messaging
- Windows Communication Foundation [WCF], reliable messaging
- WCF [WCF], reliable sessions
- Windows Communication Foundation [WCF], reliable sessions
- service contracts [WCF], reliable services
ms.assetid: 07814ed0-0775-47f2-987b-d8134fdd5099
ms.openlocfilehash: f98da5db34686e3bf09cc14c42a2ff6b693201f6
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="reliable-services"></a>Надежные службы
Очереди и надежные сеансы являются компонентами Windows Communication Foundation (WCF), которые реализуют надежный обмен сообщениями. В этом разделе объясняется функции надежного обмена сообщениями WCF.  
  
 *Надежный обмен сообщениями* — как источник надежного обмена сообщениями (называется *источника*) передача сообщений от надежного для назначения надежного обмена сообщениями (называется *назначения*).  
  
 Ниже перечислены функции, выполняемые при надежном обмене сообщениями.  
  
-   Обеспечение гарантированной передачи сообщений, отправленных от источника в пункт назначения, независимо от сбоев передачи сообщений или транспортных сбоев.  
  
-   Отделение источника от назначения. Это обеспечивает независимость сбоев и восстановлений источника и назначения, а также надежность передачи и доставки сообщений даже при недоступности источника или назначения.  
  
 Надежность обмена сообщениями часто обеспечивается ценой высокой задержки. *Задержка* — это время, необходимое для достижения адреса назначения из источника сообщения. WCF, предусмотрены следующие типы надежного обмена сообщениями:  
  
-   [Надежные сеансы](../../../docs/framework/wcf/feature-details/reliable-sessions.md), который предоставляет надежной передачи без ценой высокой задержки.  
  
-   [Очереди в WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md), который обеспечивает надежную передачу и разделение между источником и назначением.  
  
## <a name="reliable-sessions"></a>Надежные сеансы  
 Надежные сеансы обеспечивают надежную сквозную передачу сообщений между источником и назначением с помощью протокола WS-Reliable Messaging независимо от количества и типа посредников между конечными точками обмена сообщениями (источником и назначением), В него входят любые транспортные посредники, не использующие протокол SOAP (например, прокси-серверы HTTP), и посредники, использующие этот протокол (например, мосты и маршрутизаторы на базе SOAP), необходимые для продвижения сообщений между конечными точками. Надежные сеансы используют окно передачи в памяти для маскировки сбоев на уровне сообщений SOAP и повторной установки соединений при транспортных сбоях.  
  
 Надежные сеансы обеспечивают надежную передачу сообщений с низкой задержкой. Они обеспечивают доставку сообщений протокола SOAP через любые прокси или маршрутизаторы подобно тому, как протокол TCP обеспечивает доставку пакетов через IP-мосты. Дополнительные сведения о надежных сеансов см. в разделе [надежные сеансы](../../../docs/framework/wcf/feature-details/reliable-sessions.md).  
  
### <a name="queues"></a>Очереди  
 Очереди в WCF обеспечивают надежную передачу сообщений и отделение источника от назначения ценой высокой задержки. В очереди WCF взаимодействия строится на основе очереди сообщений (MSMQ).  
  
 MSMQ поставляется как дополнительный компонент с Windows. Служба MSMQ работает как служба Windows. MSMQ помещает передаваемые сообщения в очередь передачи от имени источника и доставляет их в целевую очередь. Целевая очередь принимает сообщения от имени назначения для последующей доставки при получении запроса от назначения. Диспетчеры MSMQ реализуют протокол надежной передачи сообщений, благодаря которому сообщения не теряются при передаче. Этот протокол может быть собственным или основанным на SOAP (протокол SRMP).  
  
 Разделение в сочетании с надежностью передачи сообщений между очередями обеспечивает надежную передачу данных между слабо связанными приложениями. В отличие от технологии надежных сеансов, не требуется, чтобы источник и назначение выполнялись одновременно. Таким образом, возможны сценарии, в которых очереди фактически используются в качестве механизма выравнивания нагрузки при несоответствии скорости создания сообщений источником и их обработки в пункте назначения. Дополнительные сведения об очередях см. в разделе [очереди в WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).  
  
## <a name="see-also"></a>См. также  
 [Общие сведения о надежных сеансах](../../../docs/framework/wcf/feature-details/reliable-sessions-overview.md)  
 [Очереди в WCF](../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)
