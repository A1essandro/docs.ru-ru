---
title: Применение пользовательского действия
ms.date: 03/30/2017
ms.assetid: 8f356419-681a-4175-ae93-878eee970249
ms.openlocfilehash: 4bd76ebb9e8a9b7c6cad48f2085ad27b2dee7450
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33515514"
---
# <a name="using-a-custom-activity"></a><span data-ttu-id="7a1ac-102">Применение пользовательского действия</span><span class="sxs-lookup"><span data-stu-id="7a1ac-102">Using a custom activity</span></span>
<span data-ttu-id="7a1ac-103">Действия, которые являются производными от <xref:System.Activities.Activity> или его подклассов, можно составить в более крупные рабочие процессы или создать непосредственно в коде.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-103">Activities that derive from <xref:System.Activities.Activity> or its subclasses can be composed into larger workflows, or created directly in code.</span></span> <span data-ttu-id="7a1ac-104">В этом разделе описано, как использовать пользовательские действия в рабочих процессах, созданных в коде или в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-104">This topic describes how to use custom activities in workflows created either in code or in the designer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7a1ac-105">Можно использовать настраиваемые действия в том же проекте, в котором они определены, при условии, что пользовательское действие и действие, которое использует его, компилируются (т. е. загружены при создании типа процессом построения) Если ссылающееся действие загружается динамически (например с помощью ActivityXAMLServices), то указанная сборка должна быть размещена в другом проекте, или автоматически созданный конструктором XAML необходимо изменить вручную, чтобы включить эту возможность.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-105">Custom activities can be used in the same project in which they are defined, as long as both the custom activity and the activity that uses it are compiled (i.e. loaded by an instantiating type generated by the build process) If the referencing activity is loaded dynamically (e.g. using ActivityXAMLServices), then the referenced assembly should be placed in a different project, or the designer-generated XAML needs to be hand-edited to enable this.</span></span>  
  
#### <a name="using-a-custom-activity-to-a-workflow-project"></a><span data-ttu-id="7a1ac-106">Использование пользовательского действия в проекте рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="7a1ac-106">Using a custom activity to a workflow project</span></span>  
  
1.  <span data-ttu-id="7a1ac-107">Добавьте ссылку из базового проекта в проект библиотеки действий, где содержится пользовательское действие.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-107">Add a reference from the host project to the activity library project containing the custom activity.</span></span>  
  
2.  <span data-ttu-id="7a1ac-108">Постройте решение.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-108">Build the solution.</span></span>  
  
3.  <span data-ttu-id="7a1ac-109">Для использования пользовательского действия в конструкторе выберите действие на панели инструментов и перетащите его на рабочую область.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-109">To use the custom activity in the designer, locate the custom activity in the toolbox, and drag the activity onto the designer surface.</span></span>  
  
4.  <span data-ttu-id="7a1ac-110">Для использования пользовательского действия в коде добавьте инструкцию Using, которая ссылается на проект пользовательского действия, и передайте новый экземпляр действия в <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span><span class="sxs-lookup"><span data-stu-id="7a1ac-110">To use the custom activity in code, add a Using statement that refers to the custom activity project, and pass a new instance of the activity to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span>
