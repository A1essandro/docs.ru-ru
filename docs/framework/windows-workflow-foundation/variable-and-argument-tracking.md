---
title: "Отслеживание переменной и аргумента"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8f3d9d30-d899-49aa-b7ce-a8d0d32c4ff0
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: c0857830b52b2f71df5d81f4bd232b62b894da63
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="variable-and-argument-tracking"></a>Отслеживание переменной и аргумента
При отслеживании выполнения рабочего процесса часто бывает полезно извлекать данные. Это обеспечивает дополнительный контекст при доступе к последующему выполнению записи отслеживания. В [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] можно извлекать любую видимую переменную или аргумент, находящиеся в рамках области любого действия в рабочем процессе, при помощи отслеживания. Профили отслеживания упрощают извлечение данных.  
  
## <a name="variables-and-arguments"></a>Переменные и аргументы  
 Переменные и аргументы извлекаются при создании действием записи ActivityStateRecord.  Переменная доступна для извлечения, только если она записана в области этого действия. Переменная, извлекаемая в действии, задается следующим образом.  
  
-   Если переменная задана именем переменной, отслеживание будет искать переменную в текущем отслеживаемом действии и в родительских действиях. Будет выполнен поиск переменной в области текущего действия и в родительской области.  
  
-   Если извлекаемые переменные заданы с использованием имени = "*», а затем извлекаются все переменные внутри текущего отслеживаемого действия. В этом случае переменные, находящиеся в области, но не определенные в родительских действиях, извлечены не будут.  
  
 При извлечении аргументов извлекаемые аргументы зависят от состояния действия. Если состояние действия - «Выполнение», тогда только `InArguments` будут доступны для извлечения. Для любого другого состояния действия («Закрыто», «Ошибка», «Отменено») оба аргумента, InArguments и OutArguments, доступны для извлечения.  
  
 В следующем примере показан запрос состояния действия, который извлекает переменные и аргументы при создании записи отслеживания действия `Closed`. Переменные и аргументы могут быть извлечены при помощи <xref:System.Activities.Tracking.ActivityStateRecord>, поэтому подписка на них выполняется в рамках профиля отслеживания с использованием запроса <xref:System.Activities.Tracking.ActivityStateQuery>.  
  
```xml  
<activityStateQuery activityName="SendEmailActivity">  
  <states>  
    <state name="Closed"/>  
  </states>  
  <variables>  
    <variable name="FromAddress"/>  
  </variables>  
  <arguments>  
    <argument name="Result"/>  
  </arguments>  
</activityStateQuery>  
```  
  
## <a name="protecting-information-stored-within-variables-and-arguments"></a>Защита информации, сохраняемой в переменных и аргументах  
 Отслеживаемая переменная или аргумент по умолчанию становятся видимыми в среде выполнения WF. Разработчик рабочих процессов может установить защиту против доступа, выполнив следующие действия.  
  
1.  Зашифруйте значение переменной.  
  
2.  Контролируйте создание профиля отслеживания для предотвращения извлечения переменной или аргумента.  
  
3.  Для пользовательских участников отслеживания убедитесь, что код WF не раскрывает конфиденциальные сведения, сохраняемую в переменных и аргументах.  
  
## <a name="see-also"></a>См. также  
 [Наблюдение за Windows Server App Fabric](http://go.microsoft.com/fwlink/?LinkId=201273)  
 [Мониторинг приложений с](http://go.microsoft.com/fwlink/?LinkId=201275)
