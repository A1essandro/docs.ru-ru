---
title: "Как создать рабочий процесс блок-схемы"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
ms.assetid: 185d7aea-68a6-4bd8-adde-45050f33170a
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 3df93a876522ccdc001bc3f6bc8c780bc80dc21b
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2017
---
# <a name="how-to-create-a-flowchart-workflow"></a>Как создать рабочий процесс блок-схемы
Рабочие процессы могут создаваться как из встроенных, так и из пользовательских действий. В этом разделе шаги по созданию рабочего процесса, который использует оба встроенных действий, такие как <xref:System.Activities.Statements.Flowchart> действия и пользовательских действий из предыдущего [как: создается действие](../../../docs/framework/windows-workflow-foundation/how-to-create-an-activity.md) раздела. Рабочий процесс моделирует игру по угадыванию числа.  
  
> [!NOTE]
>  Каждый раздел в учебнике «Приступая к работе» построен на основе предыдущих разделов. Для изучения этого раздела, необходимо сначала выполнить [как: создается действие](../../../docs/framework/windows-workflow-foundation/how-to-create-an-activity.md).  
  
> [!NOTE]
>  Чтобы скачать завершенную версию учебника, см. раздел [Windows Workflow Foundation (WF45), учебник "Приступая к работе"](http://go.microsoft.com/fwlink/?LinkID=248976).  
  
### <a name="to-create-the-workflow"></a>Создание рабочего процесса  
  
1.  Щелкните правой кнопкой мыши **NumberGuessWorkflowActivities** в **обозревателе решений** и выберите **добавить**, **новый элемент**.  
  
2.  В **установленные**, **общих элементов** выберите **рабочего процесса**. Выберите **действия** из **рабочего процесса** списка.  
  
3.  Тип `FlowchartNumberGuessWorkflow` в **имя** и нажмите кнопку **добавить**.  
  
4.  Перетащите **блок-схема** действия из **блок-схема** раздел **элементов** и поместите его в **Перетащите сюда действие** метки на область конструктора рабочих процессов.  
  
### <a name="to-create-the-workflow-variables-and-arguments"></a>Создание переменных и аргументов рабочего процесса  
  
1.  Дважды щелкните **FlowchartNumberGuessWorkflow.xaml** в **обозревателе решений** для отображения рабочего процесса в конструкторе, если он еще не отображается.  
  
2.  Нажмите кнопку **аргументы** в нижнем левом углу конструктора рабочих процессов для отображения **аргументы** области.  
  
3.  Нажмите кнопку **создать аргумент**.  
  
4.  Тип `MaxNumber` в **имя** выберите **в** из **направление** раскрывающемся списке выберите **Int32** из **Тип аргумента** раскрывающегося списка и нажмите клавишу ВВОД, чтобы сохранить аргумент.  
  
5.  Нажмите кнопку **создать аргумент**.  
  
6.  Тип `Turns` в **имя** поле, расположенном под только что добавленном `MaxNumber` аргумента выберите **Out** из **направление** раскрывающегося списка, выберите  **Int32** из **тип аргумента** раскрывающегося списка и нажмите клавишу ВВОД.  
  
7.  Нажмите кнопку **аргументы** в нижнем левом углу конструктора действий, чтобы закрыть **аргументы** области.  
  
8.  Нажмите кнопку **переменных** в нижнем левом углу конструктора рабочих процессов для отображения **переменных** области.  
  
9. Нажмите кнопку **создания переменной**.  
  
    > [!TIP]
    >  Если не **создать переменную** поле отображается, щелкните <xref:System.Activities.Statements.Flowchart> действие в рабочей области конструктора рабочих процессов, чтобы выбрать его.  
  
10. Тип `Guess` в **имя** выберите **Int32** из **тип переменной** раскрывающегося списка и нажмите клавишу ВВОД, чтобы сохранить переменную.  
  
11. Нажмите кнопку **создания переменной**.  
  
12. Тип `Target` в **имя** выберите **Int32** из **тип переменной** раскрывающегося списка и нажмите клавишу ВВОД, чтобы сохранить переменную.  
  
13. Нажмите кнопку **переменных** в нижнем левом углу конструктора действий, чтобы закрыть **переменных** области.  
  
### <a name="to-add-the-workflow-activities"></a>Добавление действий рабочего процесса  
  
1.  Перетащите **назначить** действия из **примитивы** раздел **элементов** и наведите его на **запустить** узел, который находится в верхней части Блок-схема. При **назначить** действия находится над **запустить** узел, появятся три треугольника вокруг **запустить** узла. Удалить **назначить** на треугольник непосредственно под **запустить** узла. Это свяжет два элемента одновременно и обозначает **назначить** действия как первое действие в блок-схеме.  
  
    > [!NOTE]
    >  Действия можно также указывать в качестве начального действия в рабочем процессе, вручную связав их с действием в начальном узле. Для этого наведите указатель мыши **запустить** узел, выберите один из прямоугольников, появляющихся при наведении указателя мыши **запустить** узла и перетащите соединительную линию до нужного действия и поместите его на одном из появившихся прямоугольников. Кроме того, можно назначить действие в качестве начального действия, щелкнув правой кнопкой мыши ИТ и выбрав **задать в качестве начального узла**.  
  
2.  Тип `Target` в **для** поле и следующее выражение в **введите выражение C#** или **введите выражение VB** поле.  
  
    ```vb  
    New System.Random().Next(1, MaxNumber + 1)  
    ```  
  
    ```csharp  
    new System.Random().Next(1, MaxNumber + 1)  
    ```  
  
    > [!TIP]
    >  Если **элементов** окно не отображается, выберите **элементов** из **представление** меню.  
  
3.  Перетащите **Prompt** действия из **NumberGuessWorkflowActivities** раздел **элементов**, поместите его под **назначить** действия из предыдущего шага и подключите **Prompt** действие **назначить** действия. Соединить два действия можно тремя способами. Первый способ — подключить их при удалении **Prompt** в рабочий процесс. Перетаскивая **Prompt** рабочий процесс, наведите его на **назначить** действия и поместите его в один из четырех треугольников, появляющихся, когда **Prompt** Действие находится над **назначить** действия. Второй способ — сбросить **Prompt** в рабочем процессе в нужном месте. Затем наведите указатель мыши **назначить** и перетащите один из прямоугольников, отображается вплоть до **Prompt** действия. Перетащите указатель мыши, чтобы соединительная линия от **назначить** соединилась с одним из прямоугольников **Prompt** действия, а затем отпустите кнопку мыши. Третий способ похож на первый способ, но вместо перетаскивания **Prompt** действия из **элементов**, перетащите его из его расположения в рабочей области конструктора рабочих процессов, наведите указатель мыши на  **Назначьте** действия и поместите его в одном из появившихся треугольников.  
  
4.  В **окно свойств** для **Prompt** введите `"EnterGuess"` кавычки, в том числе **BookmarkName** поле значения свойства. Тип `Guess` в **результат** поле значения свойства и введите следующее выражение в **текст** поле свойства.  
  
    ```vb  
    "Please enter a number between 1 and " & MaxNumber  
    ```  
  
    ```csharp  
    "Please enter a number between 1 and " + MaxNumber  
    ```  
  
    > [!TIP]
    >  Если **окно свойств** не отображается, выберите **окно свойств** из **представление** меню.  
  
5.  Перетащите **назначить** действия из **примитивы** раздел **элементов** и соедините его с помощью одного из методов, описанных в предыдущем шаге, чтобы оно было под  **Запрос** действия.  
  
6.  Тип `Turns` в **для** поле и `Turns + 1` в **введите выражение C#** или **введите выражение VB** поле.  
  
7.  Перетащите **FlowDecision** из **блок-схема** раздел **элементов** и соедините его **назначить** действия. В **окно свойств**, введите следующее выражение в **условие** поле значения свойства.  
  
    ```vb  
    Guess = Target  
    ```  
  
    ```csharp  
    Guess == Target  
    ```  
  
8.  Перетащите еще одно **FlowDecision** действия из **элементов** и поместите его под первым действием. Соедините два действия путем перетаскивания из прямоугольника, который обозначен **False** в верхней части страницы **FlowDecision** действия в прямоугольник в верхней части второго **FlowDecision**действия.  
  
    > [!TIP]
    >  Если вы не видите **True** и **False** метки на **FlowDecision**, наведите указатель мыши **FlowDecision**.  
  
9. Нажмите вторую кнопку **FlowDecision** действия, чтобы выбрать его. В **окно свойств**, введите следующее выражение в **условие** поле значения свойства.  
  
    ```
    Guess < Target  
    ```  
  
10. Перетащите два **WriteLine** действия из **примитивы** раздел **элементов** и разместите их так, чтобы они находились рядом друг с другом под двумя **FlowDecision**  действий. Подключение **True** нижнего действия **FlowDecision** с самым левым действием **WriteLine** действия и **False** действие правое **WriteLine** действия.  
  
11. Щелкните самое левое **WriteLine** действия, чтобы выбрать его и введите следующее выражение в **текст** поле значения свойства **окно свойств**.  
  
    ```
    "Your guess is too low."  
    ```  
  
12. Подключение **WriteLine** левую часть **Prompt** действия, расположенных над ним.  
  
13. Щелкните самое правое **WriteLine** действия, чтобы выбрать его и введите следующее выражение в **текст** поле значения свойства **окно свойств**.  
  
    ```
    "Your guess is too high."  
    ```  
  
14. Подключение **WriteLine** действия правую часть **Prompt** действия над ним.  
  
     В следующем примере показан завершенный рабочий процесс.  
  
     ![Завершено Windows Workflow Foundation](../../../docs/framework/windows-workflow-foundation/media/gettingstartedtutorialcompletedflowchart.PNG "GettingStartedTutorialCompletedFlowchart")  
  
### <a name="to-build-the-workflow"></a>Построение рабочего процесса  
  
1.  Чтобы построить решение, нажмите CTRL+SHIFT+B.  
  
     Инструкции о том, как запустить рабочий процесс, см. следующий раздел [как: запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md). Если вы уже выполнили [как: запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md) пошаговое с другой стиль рабочего процесса и будет выполняться с помощью блок-схема рабочего процесса на этом шаге, перейдите к [для построения и запуска приложения](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md#BKMK_ToRunTheApplication)раздел [как: запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md).  
  
## <a name="see-also"></a>См. также  
 <xref:System.Activities.Statements.Flowchart>  
 <xref:System.Activities.Statements.FlowDecision>  
 [Программирование в Windows Workflow Foundation](../../../docs/framework/windows-workflow-foundation/programming.md)  
 [Разработка рабочих процессов](../../../docs/framework/windows-workflow-foundation/designing-workflows.md)  
 [Руководство по началу работы](../../../docs/framework/windows-workflow-foundation/getting-started-tutorial.md)  
 [Практическое руководство. Создание действия](../../../docs/framework/windows-workflow-foundation/how-to-create-an-activity.md)  
 [Практическое руководство. Запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md)
