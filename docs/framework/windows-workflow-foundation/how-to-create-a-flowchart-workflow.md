---
title: "Как создать рабочий процесс блок-схемы | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 185d7aea-68a6-4bd8-adde-45050f33170a
caps.latest.revision: 7
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 7
---
# Как создать рабочий процесс блок-схемы
Рабочие процессы могут создаваться как из встроенных, так и из пользовательских действий.В этом разделе рассматривается последовательность создания рабочего процесса, который использует как встроенные действия \(например, действие <xref:System.Activities.Statements.Flowchart>\), так и пользовательские действия из предыдущего раздела [Как создать действие](../../../docs/framework/windows-workflow-foundation//how-to-create-an-activity.md).Рабочий процесс моделирует игру по угадыванию числа.  
  
> [!NOTE]
>  Каждый раздел в учебнике «Приступая к работе» построен на основе предыдущих разделов.Для изучения этого раздела необходимо сначала пройти раздел [Как создать действие](../../../docs/framework/windows-workflow-foundation//how-to-create-an-activity.md).  
  
> [!NOTE]
>  Чтобы загрузить завершенную версию учебника, см. раздел [Windows Workflow Foundation \(WF45\), учебник «Приступая к работе»](http://go.microsoft.com/fwlink/?LinkID=248976).  
  
### Создание рабочего процесса  
  
1.  Щелкните правой кнопкой мыши **NumberGuessWorkflowActivities** в окне **Обозреватель решений** и выберите **Добавить**, **Новый элемент**.  
  
2.  В узле **Установленные**, **Общие элементы** выберите **Рабочий процесс**.Выберите **Действие** в списке **Рабочий процесс**.  
  
3.  В поле **Имя** введите `FlowchartNumberGuessWorkflow` и нажмите кнопку **Добавить**.  
  
4.  Перетащите действие **Flowchart** из раздела **Блок\-схема** в **область элементов** и переместите его на метку **Перетащите действие сюда** в рабочей области конструктора рабочих процессов.  
  
### Создание переменных и аргументов рабочего процесса  
  
1.  Дважды щелкните **FlowchartNumberGuessWorkflow.xaml** в **обозревателе решений**, чтобы отобразить рабочий процесс в конструкторе \(если он еще не отображается\).  
  
2.  Нажмите кнопку **Аргументы** в нижнем левом углу конструктора рабочих процессов, чтобы показать область **Аргументы**.  
  
3.  Нажмите кнопку **Создать аргумент**.  
  
4.  В поле **Имя** введите `MaxNumber`, в раскрывающемся списке **Направление** выберите значение **Входной**, выберите **Int32** в раскрывающемся списке **Тип аргумента**, а затем нажмите клавишу ВВОД, чтобы сохранить аргумент.  
  
5.  Нажмите кнопку **Создать аргумент**.  
  
6.  В поле **Имя** под только что добавленным аргументом `MaxNumber` введите `Turns`, в раскрывающемся списке **Направление** выберите значение **Выходной**, выберите тип **Int32** в раскрывающемся списке **Тип аргумента**, а затем нажмите клавишу ВВОД.  
  
7.  Нажмите кнопку **Аргументы** в левом нижнем углу конструктора действий, чтобы закрыть область **Аргументы**.  
  
8.  Нажмите кнопку **Переменные** в нижнем левом углу конструктора рабочих процессов, чтобы показать область **Переменные**.  
  
9. Нажмите кнопку **Создать переменную**.  
  
    > [!TIP]
    >  Если поле **Создать переменную** не отображается, щелкните действие <xref:System.Activities.Statements.Flowchart> в области конструктора рабочих процессов, чтобы его выбрать.  
  
10. В поле **Имя** введите `Guess`, в раскрывающемся списке **Тип переменной** выберите **Int32**, а затем нажмите клавишу ВВОД, чтобы сохранить переменную.  
  
11. Нажмите кнопку **Создать переменную**.  
  
12. В поле **Имя** введите `Target`, в раскрывающемся списке **Тип переменной** выберите **Int32**, а затем нажмите клавишу ВВОД, чтобы сохранить переменную.  
  
13. Нажмите кнопку **Переменные** в нижнем левом углу конструктора действий, чтобы закрыть область **Переменные**.  
  
### Добавление действий рабочего процесса  
  
1.  Перетащите действие **Assign** из раздела **Примитивыобласти элементов** и наведите его на узел **Начало** в верхней части блок\-схемы.Если действие **Assign** разместить над узлом **Начало**, вокруг узла **Начало** появятся три треугольника.Перетащите действие **Assign** на треугольник непосредственно под узлом **Начало**.Тем самым соединятся два элемента, а также определится действие **Assign** как первое действие в блок\-схеме.  
  
    > [!NOTE]
    >  Действия можно также указывать в качестве начального действия в рабочем процессе, вручную связав их с действием в начальном узле.Для этого наведите указатель мыши на узел **Начало**, щелкните один из прямоугольников, появляющихся при наведении мыши на узел **Начало**, перетащите соединительную линию до нужного действия и поместите ее на одном из появившихся прямоугольников.Вы можете также задать действие в качестве начального действия, щелкнув на нем правой кнопкой мыши и выбрав **Установить в качестве начального узла**.  
  
2.  Введите `Target` в поле **Назначение** и следующее выражение в поле **Введите выражение C\#** или **Введите выражение VB**.  
  
    ```vb  
    New System.Random().Next(1, MaxNumber + 1)  
    ```  
  
    ```csharp  
    new System.Random().Next(1, MaxNumber + 1)  
    ```  
  
    > [!TIP]
    >  Если окно **Область элементов** не отображается, в меню **Вид** выберите пункт **Область элементов**.  
  
3.  Перетащите действие **Prompt** из раздела **NumberGuessWorkflowActivitiesобласти элементов**, поместите его под действием **Assign** из предыдущего шага и подключите действие **Prompt** в действие **Assign**.Соединить два действия можно тремя способами.Первый способ — подключить их при перетаскивании действия **Prompt** в рабочий процесс.Перетаскивая действие **Prompt** в рабочий процесс, наведите его на действие **Assign** и разместите его на одном из 4 треугольников, появляющихся, когда действие **Prompt** наведено на действие **Assign**.Второй способ — перетащить действие **Prompt** в рабочий процесс на нужное место.Затем наведите указатель мыши на действие **Assign** и перетащите один из появившихся прямоугольников на действие **Prompt**.Перетаскивайте мышью, чтобы соединительная линия от нижней части действия **Assign** соединилась с одним из прямоугольников действия **Prompt**, и отпустите кнопку мыши.Третий способ похож на первый, но вместо перетаскивания действия **Prompt** из **области элементов** перетащите его из рабочей области конструктора рабочих процессов, наведите на действие **Assign** и разместите на одном из появившихся треугольников.  
  
4.  В **окне свойств** действия **Prompt** введите `"EnterGuess"` \(включая кавычки\) в поле **BookmarkName**.Введите `Guess` в поле значения свойства **Result** и введите следующее выражение в поле свойства **Text**.  
  
    ```vb  
    "Please enter a number between 1 and " & MaxNumber  
    ```  
  
    ```csharp  
    "Please enter a number between 1 and " + MaxNumber  
    ```  
  
    > [!TIP]
    >  Если окно **Свойства** не отображается, выберите пункт **Окно свойств** в меню **Вид**.  
  
5.  Перетащите действие **Assign** из раздела **Примитивыобласти элементов** и соедините его с помощью одного из методов, описанных на предыдущем шаге, чтобы оно было под действием **Prompt**.  
  
6.  Введите `Turns` в поле **Назначение** и `Turns + 1` в поле **Введите выражение C\#** или **Введите выражение VB**.  
  
7.  Перетащите действие **FlowDecision** из раздела **Блок\-схемаобласти элементов** и соедините его с действием **Assign**.В **Окне свойств** в поле значения свойства **Condition** введите следующее выражение.  
  
    ```vb  
    Guess = Target  
    ```  
  
    ```csharp  
    Guess == Target  
    ```  
  
8.  Перетащите другое действие **FlowDecision** из **Области элементов** и разместите его под первым действием.Соедините два действия, перетащив соединительную линию из прямоугольника с пометкой **False** над действием **FlowDecision** в прямоугольник над вторым действием **FlowDecision**.  
  
    > [!TIP]
    >  Если метки **True** и **False** не отображаются над действием **FlowDecision**, наведите указатель мыши на действие **FlowDecision**.  
  
9. Щелкните второе действие **FlowDecision**, чтобы его выбрать.В **Окне свойств** в поле значения свойства **Condition** введите следующее выражение.  
  
    ```vb-c#  
    Guess < Target  
    ```  
  
10. Перетащите два действия **WriteLine** из раздела **ПримитивыОбласти элементов** и разместите их таким образом, чтобы они находились друг рядом с другом под двумя действиями **FlowDecision**.Соедините действие **True** нижнего действия **FlowDecision** с самым левым действием **WriteLine**, а действие **False** с самым правым действием **WriteLine**.  
  
11. Щелкните самое левое действие **WriteLine**, чтобы выбрать его, и введите следующее выражение в поле значения свойства **Text** в **Окне свойств**.  
  
    ```vb-c#  
    "Your guess is too low."  
    ```  
  
12. Соедините действие **WriteLine** с левой стороной расположенного над ним действия **Prompt**.  
  
13. Щелкните самое правое действие **WriteLine**, чтобы выбрать его, и введите следующее выражение в поле значения свойства **Text** в **Окне свойств**.  
  
    ```vb-c#  
    "Your guess is too high."  
    ```  
  
14. Соедините действие **WriteLine** с правой стороной расположенного над ним действия **Prompt**.  
  
     В следующем примере показан завершенный рабочий процесс.  
  
     ![Готовый рабочий процесс Windows Workflow Foundation](../../../docs/framework/windows-workflow-foundation//media/gettingstartedtutorialcompletedflowchart.PNG "GettingStartedTutorialCompletedFlowchart")  
  
### Построение рабочего процесса  
  
1.  Чтобы построить решение, нажмите CTRL\+SHIFT\+B.  
  
     Указания по запуску рабочего процесса см. в следующем разделе [Как запустить рабочий процесс](../../../docs/framework/windows-workflow-foundation//how-to-run-a-workflow.md).Если вы уже завершили шаг [Как запустить рабочий процесс](../../../docs/framework/windows-workflow-foundation//how-to-run-a-workflow.md) с другим стилем рабочего процесса и планируете запустить его, используя рабочий процесс блок\-схемы \(начиная с этого шага\), перейдите к разделу [Сборка и запуск приложения](../../../docs/framework/windows-workflow-foundation//how-to-run-a-workflow.md#BKMK_ToRunTheApplication) в [Как запустить рабочий процесс](../../../docs/framework/windows-workflow-foundation//how-to-run-a-workflow.md).  
  
## См. также  
 <xref:System.Activities.Statements.Flowchart>   
 <xref:System.Activities.Statements.FlowDecision>   
 [Программирование в Windows Workflow Foundation](../../../docs/framework/windows-workflow-foundation//programming.md)   
 [Разработка рабочих процессов](../../../docs/framework/windows-workflow-foundation//designing-workflows.md)   
 [Учебник по началу работы](../../../docs/framework/windows-workflow-foundation//getting-started-tutorial.md)   
 [Как создать действие](../../../docs/framework/windows-workflow-foundation//how-to-create-an-activity.md)   
 [Как запустить рабочий процесс](../../../docs/framework/windows-workflow-foundation//how-to-run-a-workflow.md)