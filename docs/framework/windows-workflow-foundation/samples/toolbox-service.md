---
title: "Служба области элементов | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 742212d0-445e-41ed-9739-9ee848ce7f1b
caps.latest.revision: 6
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 6
---
# Служба области элементов
Этот образец демонстрирует, как обновлять действия области элементов [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] на базе контекста рабочего процесса.Образец содержит рабочий процесс, изменяющий содержание области элементов в зависимости от выбранного пользовательского действия.  
  
## Обсуждение  
 В ходе разработки рабочего процесса клиенты обычно выражают пожелание, чтобы область элементов отображалась по\-разному в зависимости от контекста.Например, пользователь может захотеть, чтобы в области элементов отображались дополнительные действия, если в рабочий процесс добавляется определенное действие.При удалении действий из рабочего процесса область элементов должна соответствующим образом прореагировать на это согласно требованиям домена.  
  
 Находясь в повторно размещенном конструкторе рабочих процессов, можно работать с элементом управления области элементов и обеспечить, чтобы узел, основанный на модели изменения рабочего процесса, включал соответствующие изменения в элемент управления области элементов.Тем не менее в [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] пользователь не может контролировать область элементов, поэтому для изменения его содержания требуется специальный интерфейс.Этот интерфейс — `IActivityToolboxService`.  
  
 API\-интерфейс реализует следующие четыре метода.  
  
```  
public interface IActivityToolboxService   
{   
        void AddCategory(string categoryName);   
        void RemoveCategory(string categoryName);   
        void AddItem(string qualifiedTypeName, string categoryName);   
        void RemoveItem(string qualifiedTypeName, string categoryName);   
        IList<string> EnumCategories();   
        IList<string> EnumItems(string categoryName);   
}  
```  
  
#### Настройка, построение и выполнение образца  
  
1.  Откройте в среде [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] файл решения WorkflowSimulator.sln.  
  
2.  Постройте решение, нажав клавиши CTRL\+SHIFT\+B.  
  
3.  Откройте файл Workflow.xaml.  
  
4.  Добавьте действие **CustomActivity**, перетащив его из области элементов.Обратите внимание, что дополнительная область элементов имеет имя **Новая категория WF** с дополнительным действием **Назначить**.  
  
5.  Снимите выбор с действия **CustomActivity**, перетащив на него другое действие.  
  
6.  Элемент **Назначить** в категории **Новая категория WF** в области элементов будет удален.Кроме того, поскольку в категории больше не осталось элементов, будет удалена и сама категория.  
  
7.  Снова выберите действие **CustomActivity** и категорию, после этого действие **Назначить** будет добавлено повторно.  
  
> [!IMPORTANT]
>  Образцы уже могут быть установлены на компьютере.Перед продолжением проверьте следующий каталог \(по умолчанию\).  
>   
>  `<диск_установки>:\WF_WCF_Samples`  
>   
>  Если этот каталог не существует, перейдите на страницу [Образцы Windows Communication Foundation \(WCF\) и Windows Workflow Foundation \(WF\) для .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780), чтобы загрузить все образцы [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] и [!INCLUDE[wf1](../../../../includes/wf1-md.md)].Этот образец расположен в следующем каталоге.  
>   
>  `<диск_установки>:\WF_WCF_Samples\WF\Basic\Designer\IActivityToolboxService`