---
title: Пакет SDK для платформы компилятора .NET (API-интерфейсы Roslyn)
description: Узнайте, как использовать пакет SDK для .NET Compiler Platform (другое название — API-интерфейсы Roslyn), чтобы анализировать код .NET, находить ошибки и исправлять их.
keywords: roslyn, analyzer, code fix
author: billwagner
ms.author: wiwagn
ms.date: 10/10/2017
ms.topic: conceptual
ms.prod: .net
ms.devlang: devlang-csharp
ms.custom: mvc
ms.openlocfilehash: aad6b06748b02e2ea3003ca339d8a5a0b15583f8
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
# <a name="the-net-compiler-platform-sdk"></a><span data-ttu-id="cef10-104">Пакет SDK для .NET Compiler Platform</span><span class="sxs-lookup"><span data-stu-id="cef10-104">The .NET Compiler Platform SDK</span></span>

<span data-ttu-id="cef10-105">Компиляторы создают детализированную модель кода приложения по мере проверки синтаксиса и семантики этого кода.</span><span class="sxs-lookup"><span data-stu-id="cef10-105">Compilers build a detailed model of application code as they validate the syntax and semantics of that code.</span></span> <span data-ttu-id="cef10-106">Они используют эту модель для сборки на выходе исполняемых файлов из исходного кода.</span><span class="sxs-lookup"><span data-stu-id="cef10-106">They use this model to build the executable output from the source code.</span></span> <span data-ttu-id="cef10-107">Пакет SDK для .NET Compiler Platform предоставляет доступ к этой модели.</span><span class="sxs-lookup"><span data-stu-id="cef10-107">The .NET Compiler Platform SDK provides access to this model.</span></span> <span data-ttu-id="cef10-108">Мы все шире используем возможности интегрированной среды разработки (IDE), такие как IntelliSense, рефакторинг, интеллектуальное переименование, функции "Найти все ссылки" и "Перейти к определению", чтобы повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="cef10-108">Increasingly, we rely on integrated development environment (IDE) features such as IntelliSense, refactoring, intelligent rename, "Find all references," and "Go to definition" to increase our productivity.</span></span> <span data-ttu-id="cef10-109">Мы применяем средства анализа кода, чтобы улучшить его качество, и генераторы кода, чтобы упростить разработку приложений.</span><span class="sxs-lookup"><span data-stu-id="cef10-109">We rely on code analysis tools to improve our code quality, and code generators to aid in application construction.</span></span> <span data-ttu-id="cef10-110">Эти средства становятся все более интеллектуальными, и им требуется доступ ко все большему числу моделей, которые создаются исключительно компиляторами при обработке кода приложения.</span><span class="sxs-lookup"><span data-stu-id="cef10-110">As these tools get smarter, they need access to more and more of the model that only compilers create as they process application code.</span></span> <span data-ttu-id="cef10-111">Это основное назначение API-интерфейсов Roslyn: открывать "черные ящики", чтобы средства и пользователи могли обмениваться данными, используя массу сведений о коде, доступных в компиляторе.</span><span class="sxs-lookup"><span data-stu-id="cef10-111">This is the core mission of the Roslyn APIs: opening up the black boxes and allowing tools and end users to share in the wealth of information compilers have about our code.</span></span>
<span data-ttu-id="cef10-112">В отличие от непрозрачной работы преобразователей исходного кода на входе в объектный код на выходе, благодаря Roslyn компиляторы выполняют функции платформ. Эти API-интерфейсы можно использовать для связанных с кодом задач в средствах и приложениях.</span><span class="sxs-lookup"><span data-stu-id="cef10-112">Instead of being opaque source-code-in and object-code-out translators, through Roslyn, compilers become platforms: APIs that you can use for code-related tasks in your tools and applications.</span></span>

## <a name="net-compiler-platform-sdk-concepts"></a><span data-ttu-id="cef10-113">Основные преимущества пакета SDK для .NET Compiler Platform</span><span class="sxs-lookup"><span data-stu-id="cef10-113">.NET Compiler Platform SDK concepts</span></span>

<span data-ttu-id="cef10-114">Пакет SDK для .NET Compiler Platform значительно сокращает требования к созданию средств и приложений, ориентированных на код.</span><span class="sxs-lookup"><span data-stu-id="cef10-114">The .NET Compiler Platform SDK dramatically lowers the barrier to entry for creating code focused tools and applications.</span></span> <span data-ttu-id="cef10-115">Он предоставляет множество возможностей для инноваций в таких областях, как метапрограммирование, создание и преобразование кода, интерактивное использование языков C# и Visual Basic, а также их внедрение в доменные языки.</span><span class="sxs-lookup"><span data-stu-id="cef10-115">It creates many opportunities for innovation in areas such as meta-programming, code generation and transformation, interactive use of the C# and VB languages, and embedding of C# and VB in domain specific languages.</span></span>

<span data-ttu-id="cef10-116">Пакет SDK для.NET Compiler Platform позволяет создавать ***анализаторы*** и ***средства исправления кода*** для выявления и устранения ошибок.</span><span class="sxs-lookup"><span data-stu-id="cef10-116">The .NET Compiler Platform SDK enables you to build ***analyzers*** and ***code fixes*** that find and correct coding mistakes.</span></span> <span data-ttu-id="cef10-117">***Анализаторы*** изучают синтаксис и структуру кода, а также выявляют методы, которые нужно исправить.</span><span class="sxs-lookup"><span data-stu-id="cef10-117">***Analyzers*** understand the syntax and structure of code and detect practices that should be corrected.</span></span> <span data-ttu-id="cef10-118">***Средства исправления кода*** предоставляют один или несколько рекомендуемых способов устранения ошибок в коде, выявленных анализаторами.</span><span class="sxs-lookup"><span data-stu-id="cef10-118">***Code fixes*** provide one or more suggested fixes for addressing coding mistakes found by analyzers.</span></span> <span data-ttu-id="cef10-119">Обычно анализатор и соответствующие средства исправления кода упакованы в один проект.</span><span class="sxs-lookup"><span data-stu-id="cef10-119">Typically, an analyzer and the associated code fixes are packaged together in a single project.</span></span> 

<span data-ttu-id="cef10-120">Для изучения кода в анализаторах и средствах исправления используется статический анализ.</span><span class="sxs-lookup"><span data-stu-id="cef10-120">Analyzers and code fixes use static analysis to understand code.</span></span> <span data-ttu-id="cef10-121">Они не запускают код и не предоставляют другие преимущества тестирования.</span><span class="sxs-lookup"><span data-stu-id="cef10-121">They do not run the code or provide other testing benefits.</span></span> <span data-ttu-id="cef10-122">Но они могут указывать на методы, использование которых часто приводит к ошибкам, помогают выявить неподдерживаемый код, а также проверяют соблюдение стандартных рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="cef10-122">They can, however, point out practices that often lead to bugs, unmaintanable code, or standard guideline validation.</span></span>

<span data-ttu-id="cef10-123">Пакет SDK для .NET Compiler Platform предоставляет единый набор API-интерфейсов, которые позволяют проверять и анализировать базу кода C# или Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="cef10-123">The .NET Compiler Platform SDK provides a single set of APIs that enable you to examine and understand a C# or Visual Basic codebase.</span></span> <span data-ttu-id="cef10-124">Единая база кода упрощает создание анализаторов и средств исправления. При этом используются API-интерфейсы из пакета SDK для .NET Compiler Platform, которые позволяют проводить синтаксический и семантический анализ.</span><span class="sxs-lookup"><span data-stu-id="cef10-124">Because you can use this single codebase, you can write analyzers and code fixes more easily by leveraging the syntactic and semantic analysis APIs provided by the .NET Compiler Platform SDK.</span></span> <span data-ttu-id="cef10-125">Предоставьте выполнение комплексного анализа компилятору и сосредоточьтесь на более конкретных задачах. Выявляйте и устраняйте распространенные ошибки кодирования для своего проекта или библиотеки.</span><span class="sxs-lookup"><span data-stu-id="cef10-125">Freed from the large task of replicating the anaysis done by the compiler, you can concentrate on the more focused task of finding and fixing common coding errors for your project or library.</span></span>

<span data-ttu-id="cef10-126">Дополнительным преимуществом является то, что анализаторы и средства исправления кода используют гораздо меньше памяти при загрузке в Visual Studio, чем понадобилось бы при написании собственной базы кода для анализа кода в проекте.</span><span class="sxs-lookup"><span data-stu-id="cef10-126">A smaller benefit is that your analyzers and code fixes are smaller and use much less memory when loaded in Visual Studio than they would if you wrote your own codebase to understand the code in a project.</span></span> <span data-ttu-id="cef10-127">Используя те же классы, что компилятор и Visual Studio, вы можете создавать собственные средства статического анализа.</span><span class="sxs-lookup"><span data-stu-id="cef10-127">By leveraging the same classes used by the compiler and Visual Studio, you can create your own static analysis tools.</span></span> <span data-ttu-id="cef10-128">Это означает, что члены вашей команды смогут использовать анализаторы и средства исправления кода без существенного воздействия на производительность IDE.</span><span class="sxs-lookup"><span data-stu-id="cef10-128">This means your team can use analyzers and code fixes without a noticeable impact on the IDE's performance.</span></span>

<span data-ttu-id="cef10-129">Есть три основных сценария использования анализаторов и средств исправления кода:</span><span class="sxs-lookup"><span data-stu-id="cef10-129">There are three main scenarios for writing analyzers and code fixes:</span></span>

1. [<span data-ttu-id="cef10-130">*Применение стандартов кодирования в команде.*</span><span class="sxs-lookup"><span data-stu-id="cef10-130">*Enforce team coding standards*</span></span>](#enforce-team-coding-standards)
1. [<span data-ttu-id="cef10-131">*Предоставление рекомендаций с пакетами библиотек.*</span><span class="sxs-lookup"><span data-stu-id="cef10-131">*Provide guidance with library packages*</span></span>](#provide-guidance-with-library-packages)
1. [<span data-ttu-id="cef10-132">*Предоставление общих рекомендаций по кодированию.*</span><span class="sxs-lookup"><span data-stu-id="cef10-132">*Provide general coding guidance*</span></span>](#provide-general-coding-guidance)

## <a name="enforce-team-coding-standards"></a><span data-ttu-id="cef10-133">Применение стандартов кодирования в команде</span><span class="sxs-lookup"><span data-stu-id="cef10-133">Enforce team coding standards</span></span>

<span data-ttu-id="cef10-134">У многих команд разработчиков есть стандарты кодирования, которые применяются при совместной проверке кода.</span><span class="sxs-lookup"><span data-stu-id="cef10-134">Many teams have coding standards that are enforced through code reviews with other team members.</span></span> <span data-ttu-id="cef10-135">Анализаторы и средства исправления кода значительно повысят эффективность этого процесса.</span><span class="sxs-lookup"><span data-stu-id="cef10-135">Analyzers and code fixes can make this process much more efficient.</span></span> <span data-ttu-id="cef10-136">Проверка кода происходит после того, как разработчик представит выполненную задачу на рассмотрение в команде.</span><span class="sxs-lookup"><span data-stu-id="cef10-136">Code reviews happen when a developer shares their work with others on the team.</span></span> <span data-ttu-id="cef10-137">За весь период создания функции он не получает никаких комментариев.</span><span class="sxs-lookup"><span data-stu-id="cef10-137">The developer will have invested all the time needed to complete a new feature before getting any comments.</span></span> <span data-ttu-id="cef10-138">Разработчик может неделями приучаться к практикам разработки, которые идут вразрез со стандартами команды.</span><span class="sxs-lookup"><span data-stu-id="cef10-138">Weeks may go by while the developer reinforces habits that don't match the team's practices.</span></span>

<span data-ttu-id="cef10-139">Анализаторы же начинают работу вместе с ним.</span><span class="sxs-lookup"><span data-stu-id="cef10-139">Analyzers run as a developer writes code.</span></span> <span data-ttu-id="cef10-140">Разработчик сразу же получает отзывы, которые помогают привести код в соответствие с рекомендациями.</span><span class="sxs-lookup"><span data-stu-id="cef10-140">The developer gets immediate feedback that encourages following the guidance immediately.</span></span> <span data-ttu-id="cef10-141">Он вырабатывает методику написания совместимого кода, как только начинает создавать прототипы.</span><span class="sxs-lookup"><span data-stu-id="cef10-141">The developer builds habits to write compliant code as soon as they begin prototyping.</span></span> <span data-ttu-id="cef10-142">Когда функция будет готова к проверке в команде, все стандартные рекомендации будут соблюдены.</span><span class="sxs-lookup"><span data-stu-id="cef10-142">When the feature is ready for humans to review, all the standard guidance has been enforced.</span></span>

<span data-ttu-id="cef10-143">Команды могут создавать анализаторы и средства исправления кода, которые будут выявлять распространенные приемы, нарушающие командную методику написания кода.</span><span class="sxs-lookup"><span data-stu-id="cef10-143">Teams can build analyzers and code fixes that look for the most common practices that violate team coding practices.</span></span> <span data-ttu-id="cef10-144">Анализаторы и средства исправления можно установить на компьютере каждого разработчика, чтобы обеспечить применение стандартов.</span><span class="sxs-lookup"><span data-stu-id="cef10-144">These can be installed on each developer's machine to enforce the standards.</span></span>

## <a name="provide-guidance-with-library-packages"></a><span data-ttu-id="cef10-145">Предоставление рекомендаций с пакетами библиотек</span><span class="sxs-lookup"><span data-stu-id="cef10-145">Provide guidance with library packages</span></span>

<span data-ttu-id="cef10-146">В NuGet есть широкий набор библиотек для разработчиков .NET.</span><span class="sxs-lookup"><span data-stu-id="cef10-146">There are a wealth of libraries available for .NET developers on NuGet.</span></span>
<span data-ttu-id="cef10-147">Некоторые из них получены из корпорации Майкрософт, некоторые — из сторонних компаний, другие же предоставлены членами сообществ и волонтерами.</span><span class="sxs-lookup"><span data-stu-id="cef10-147">Some of these come from Microsoft, some from third-party companies, and others from community members and volunteers.</span></span> <span data-ttu-id="cef10-148">Такие библиотеки чаще внедряются и выше оцениваются, если разработчики успешно используют их в своих решениях.</span><span class="sxs-lookup"><span data-stu-id="cef10-148">These libraries get more adoption and higher reviews when developers can succeed with those libraries.</span></span>

<span data-ttu-id="cef10-149">Помимо документации, вы можете предоставить анализаторы и средства исправления кода для выявления и устранения распространенных ошибок в использовании вашей библиотеки.</span><span class="sxs-lookup"><span data-stu-id="cef10-149">In addition to providing documentation, you can provide analyzers and code fixes that find and correct common mis-uses of your library.</span></span> <span data-ttu-id="cef10-150">Эти мгновенные исправления помогут разработчикам быстрее достигать своих целей.</span><span class="sxs-lookup"><span data-stu-id="cef10-150">These immediate corrections will help developers succeed more quickly.</span></span> 

<span data-ttu-id="cef10-151">Вы можете упаковать анализаторы и средства исправления кода вместе с библиотекой в NuGet.</span><span class="sxs-lookup"><span data-stu-id="cef10-151">You can package analyzers and code fixes with your library on NuGet.</span></span> <span data-ttu-id="cef10-152">Тогда каждый разработчик, который установит ваш пакет NuGet, получит и пакет с анализаторами.</span><span class="sxs-lookup"><span data-stu-id="cef10-152">In that scenario, every developer who installs your NuGet package will also install the analyzer package.</span></span> <span data-ttu-id="cef10-153">Все разработчики, использующие вашу библиотеку, сразу же получат рекомендации от вашей команды с уведомлением об ошибке и рекомендуемыми способами ее устранения.</span><span class="sxs-lookup"><span data-stu-id="cef10-153">All developers using your library will immediately get guidance from your team in the form of immediate feedback on mistakes and suggested corrections.</span></span>

## <a name="provide-general-guidance"></a><span data-ttu-id="cef10-154">Предоставление общих рекомендаций</span><span class="sxs-lookup"><span data-stu-id="cef10-154">Provide general guidance</span></span>

<span data-ttu-id="cef10-155">Сообществом разработчиков .NET на практике были определены эффективные схемы и схемы, которых лучше избегать.</span><span class="sxs-lookup"><span data-stu-id="cef10-155">The .NET developer community has discovered through experience patterns that work well and patterns that are best avoided.</span></span> <span data-ttu-id="cef10-156">Несколько членов сообщества создали анализаторы, в которых реализованы рекомендуемые схемы.</span><span class="sxs-lookup"><span data-stu-id="cef10-156">Several community members have created analyzers that enforce those recommended patterns.</span></span> <span data-ttu-id="cef10-157">Чем больше мы учимся, тем больше у нас возникает идей.</span><span class="sxs-lookup"><span data-stu-id="cef10-157">As we learn more, there is always room for new ideas.</span></span>

<span data-ttu-id="cef10-158">Эти анализаторы можно отправить в [Visual Studio Marketplace](https://marketplace.visualstudio.com/vs). Затем разработчики смогут скачать их с помощью Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cef10-158">These analyzers can be uploaded to the [Visual Studio Marketplace](https://marketplace.visualstudio.com/vs) and downloaded by developers using Visual Studio.</span></span> <span data-ttu-id="cef10-159">Новички в работе с языком и платформой быстро освоят правильные методики и достигнут требуемого уровня производительности на самых ранних этапах работы с NET.</span><span class="sxs-lookup"><span data-stu-id="cef10-159">Newcomers to the language and the platform learn accepted practices quickly and become productive earlier in their .NET journey.</span></span> <span data-ttu-id="cef10-160">Как только методики начинают широко использоваться, сообщество их принимает.</span><span class="sxs-lookup"><span data-stu-id="cef10-160">As these become more widely used, the community adopts these practices.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cef10-161">Следующие шаги</span><span class="sxs-lookup"><span data-stu-id="cef10-161">Next steps</span></span>

<span data-ttu-id="cef10-162">Пакет SDK для .NET Compiler Platform включает новейшие объектные модели языков для создания, анализа и оптимизации кода.</span><span class="sxs-lookup"><span data-stu-id="cef10-162">The .NET Compiler Platform SDK includes the latest language object models for code generation, analysis, and refactoring.</span></span> <span data-ttu-id="cef10-163">Этот раздел содержит обзор основных преимуществ пакета SDK для .NET Compiler Platform.</span><span class="sxs-lookup"><span data-stu-id="cef10-163">This section provides a conceptual overview of the .NET Compiler Platform SDK.</span></span> <span data-ttu-id="cef10-164">Дополнительные сведения можно найти в кратких руководствах, примерах и другой документации.</span><span class="sxs-lookup"><span data-stu-id="cef10-164">Further details can be found in the quickstarts, samples and tutorials sections.</span></span>

<span data-ttu-id="cef10-165">Дополнительные сведения об основных преимуществах пакета SDK для .NET Compiler Platform можно найти в следующих четырех разделах:</span><span class="sxs-lookup"><span data-stu-id="cef10-165">You can learn more about the concepts in the .NET Compiler Platform SDK in these four topics:</span></span>

 - [<span data-ttu-id="cef10-166">Изучение кода с помощью визуализатора синтаксиса</span><span class="sxs-lookup"><span data-stu-id="cef10-166">Explore code with the syntax visualizer</span></span>](syntax-visualizer.md)
 - <span data-ttu-id="cef10-167">[Understand the .NET Compiler Platform SDK model](compiler-api-model.md) (Сведения о модели SDK для .NET Compiler Platform)</span><span class="sxs-lookup"><span data-stu-id="cef10-167">[Understand the compiler API model](compiler-api-model.md)</span></span>
 - <span data-ttu-id="cef10-168">[Work with syntax](work-with-syntax.md) (Работа с синтаксисом)</span><span class="sxs-lookup"><span data-stu-id="cef10-168">[Work with syntax](work-with-syntax.md)</span></span>
 - <span data-ttu-id="cef10-169">[Work with semantics](work-with-semantics.md) (Работа с семантикой)</span><span class="sxs-lookup"><span data-stu-id="cef10-169">[Work with semantics](work-with-semantics.md)</span></span>
 - <span data-ttu-id="cef10-170">[Work with a workspace](work-with-workspace.md) (Использование рабочей области)</span><span class="sxs-lookup"><span data-stu-id="cef10-170">[Work with a workspace](work-with-workspace.md)</span></span>
 
<span data-ttu-id="cef10-171">Чтобы приступить к работе, потребуется установить **пакет SDK для .NET Compiler Platform**:</span><span class="sxs-lookup"><span data-stu-id="cef10-171">To get started, you'll need to install the **.NET Compiler Platform SDK**:</span></span>

[!INCLUDE[interactive-note](~/includes/roslyn-installation.md)]

<!--

Turn this on as more of the conceptual content is in place:
- Try the [Quickstarts](quickstart/index.md) to create your first tutorial.
- Experiment with one of the [Tutorials](tutorials/index.md).
- Explore the [Samples](samples/index.md) to see some simple analyzers.
- Read the [Concepts](concepts/index.md) to understand the ideas behind analyzers and code fixes.

-->
