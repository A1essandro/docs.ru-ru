---
title: "Сериализация (C#) | Документация Майкрософт"
ms.custom: 
ms.date: 2015-07-20
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-csharp
ms.topic: article
dev_langs:
- CSharp
ms.assetid: 704ff2bf-02ab-4fea-94ea-594107825645
caps.latest.revision: 3
author: BillWagner
ms.author: wiwagn
translation.priority.mt:
- cs-cz
- pl-pl
- pt-br
- tr-tr
translationtype: Human Translation
ms.sourcegitcommit: a06bd2a17f1d6c7308fa6337c866c1ca2e7281c0
ms.openlocfilehash: 2deffa4f2c9a407b74e8bc6357afc9400a3ba7d4
ms.lasthandoff: 03/13/2017

---
# <a name="serialization-c-"></a>Сериализация (C#)
Сериализация — это процесс преобразования объекта в поток байтов для сохранения или передачи в память, в базу данных или в файл. Эта операция предназначена для того, чтобы сохранить состояния объекта для последующего воссоздания при необходимости. Обратный процесс называется десериализацией.  
  
## <a name="how-serialization-works"></a>Как работает сериализация  
 На этом рисунке показан общий процесс сериализации.  
  
 ![Схема сериализации](../../../../csharp/programming-guide/concepts/serialization/media/serialization.gif "Сериализация")  
  
 Объект сериализуется в поток, который содержит не только данные, но и сведения о типе объекта, например номер версии, язык и региональные параметры, имя сборки. В этом формате потока объект можно сохранить в базе данных, файле или памяти.  
  
### <a name="uses-for-serialization"></a>Применение сериализации  
 Сериализация позволяет разработчику сохранять состояние объекта и воссоздавать его при необходимости. Это полезно для длительного хранения объектов или для обмена данными. Используя сериализацию, разработчик может, например, отправить объект удаленному приложению через веб-службу, передать объект из одного домена в другой, передать объект через брандмауэр в виде XML-строки, обеспечить защиту или сохранность сведений о пользователях в разных приложениях.  
  
### <a name="making-an-object-serializable"></a>Превращение объекта в сериализуемый  
 Чтобы сериализовать объект, вам нужен сам этот объект, поток для передачи сериализованного объекта и средство <xref:System.Runtime.Serialization.Formatter>. <xref:System.Runtime.Serialization> содержит все необходимые классы для сериализации и десериализации объектов.  
  
 Примените к типу атрибут <xref:System.SerializableAttribute>, чтобы указать возможность сериализации экземпляров этого типа. Если вы попытаетесь сериализовать объект, для которого не установлен атрибут <xref:System.SerializableAttribute>, будет создано исключение <xref:System.Runtime.Serialization.SerializationException>.  
  
 Если вам нужно, чтобы одно из полей класса не передавались при сериализации, примените к нему атрибут <xref:System.NonSerializedAttribute>. Если поле сериализуемого типа содержит указатель, дескриптор или специальные структуры данных для определенной среды, и содержимое этого поле невозможно разумно воссоздать в другой среде, такое поле лучше сделать несериализуемым.  
  
 Если сериализуемый класс содержит ссылки на объекты других классов, которые также имеют атрибут <xref:System.SerializableAttribute>, то эти объекты будут сериализованы вместе с основным объектом.  
  
## <a name="binary-and-xml-serialization"></a>Двоичная сериализация и сериализация XML  
 Вы можете использовать двоичную сериализацию или XML-сериализацию. Процесс двоичной сериализации сериализует все элементы, даже доступные только для чтения. Также этот вариант имеет более высокую производительность. XML-сериализация создает более удобочитаемый код и предоставляет больше возможностей для совместного доступа к объектам и использования объектов в процессах взаимодействия.  
  
### <a name="binary-serialization"></a>Двоичная сериализация  
 Двоичная сериализация использует двоичное кодирование, создавая компактные потоки для хранения или передачи через сетевые сокеты.  
  
### <a name="xml-serialization"></a>XML-сериализация  
 При XML-сериализации все открытые поля и свойства объекта (или параметры и возвращаемые значения метода) сериализуются в XML-поток по правилам определенного документа XSD (язык определения схемы XML). XML-сериализация создает строго типизированные классы с открытыми свойствами и полями, которые преобразуются в формат XML. <xref:System.Xml.Serialization> содержит все необходимые классы для XML-сериализации и XML-десериализации.  
  
 Чтобы управлять сериализацией и десериализацией, которые выполняет <xref:System.Xml.Serialization.XmlSerializer>, к классам и членам класса можно применять специальные атрибуты.  
  
## <a name="basic-and-custom-serialization"></a>Базовая и пользовательская сериализация  
 Существует два способа выполнить сериализацию — базовый и пользовательский. Базовая сериализация использует платформу .NET Framework для автоматической сериализации объекта.  
  
### <a name="basic-serialization"></a>Базовая сериализация  
 Единственное условие для выполнения базовой сериализации — наличие атрибута <xref:System.SerializableAttribute> у соответствующего объекта. Также можно применить атрибут <xref:System.NonSerializedAttribute> для исключения из сериализации определенных полей.  
  
 При использовании базовой сериализации возможны проблемы с управлением версиями объектов. Если для вас это важно, рассмотрите вариант пользовательской сериализации. Базовая сериализация является самым простым способом сериализации, но не дает почти никакого контроля над процессом.  
  
### <a name="custom-serialization"></a>Пользовательская сериализация  
 Используя пользовательскую сериализацию, вы можете точно указать, какие объекты и как будут сериализованы. Класс должен иметь атрибут <xref:System.SerializableAttribute> и реализовывать интерфейс <xref:System.Runtime.Serialization.ISerializable>.  
  
 Если вы хотите настраивать и десериализацию объекта, необходимо использовать пользовательский конструктор.  
  
## <a name="designer-serialization"></a>Сериализация конструктора  
 Сериализация конструктора — это особая форма сериализации, при которой применяется способ постоянного хранения объектов, обычно используемый в средствах разработки. Сериализация конструктора выполняет преобразование графа объекта в файл исходного кода, с помощью которого впоследствии можно восстановить граф объекта. Этот файл исходного кода может содержать программный код, разметку или даже информацию из таблицы SQL.  
  
##  <a name="BKMK_RelatedTopics"></a> Связанные разделы и примеры  
 [Walkthrough: Persisting an Object in Visual Studio (C#)](../../../../csharp/programming-guide/concepts/serialization/walkthrough-persisting-an-object-in-visual-studio.md) (Пошаговое руководство. Сохранение объекта в Visual Studio (C#))  
 Демонстрирует, как с помощью сериализации сохранить данные объекта между экземплярами, чтобы сохранять значения и извлекать их при следующем создании экземпляра объекта.  
  
 [How to: Read Object Data from an XML File (C#)](../../../../csharp/programming-guide/concepts/serialization/how-to-read-object-data-from-an-xml-file.md) (Практическое руководство. Чтение данных объекта из XML-файла (C#))  
 Демонстрирует чтение данных объекта, которые были предварительно записаны в XML-файл с помощью класса <xref:System.Xml.Serialization.XmlSerializer>.  
  
 [How to: Write Object Data to an XML File (C#)](../../../../csharp/programming-guide/concepts/serialization/how-to-write-object-data-to-an-xml-file.md) (Практическое руководство. Запись данных объекта в XML-файл (C#))  
 Демонстрирует запись объекта из класса в XML-файл с помощью класса <xref:System.Xml.Serialization.XmlSerializer>.
