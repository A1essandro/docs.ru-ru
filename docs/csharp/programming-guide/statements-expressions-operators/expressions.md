---
title: Выражения (Руководство по программированию в C#)
ms.date: 05/11/2017
helpviewer_keywords:
- expressions [C#]
- C# language, expressions
ms.assetid: c7d8feb0-0e58-4f94-8bf6-4d070550a832
ms.openlocfilehash: 3cf084102186d9e13727c36ed14e2ea72ca324f9
ms.sourcegitcommit: 6eac9a01ff5d70c6d18460324c016a3612c5e268
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2018
ms.locfileid: "45615265"
---
# <a name="expressions-c-programming-guide"></a>Выражения (Руководство по программированию в C#)
*Выражение* представляет собой последовательность из одного или нескольких операндов и от нуля до нескольких операторов, которую можно вычислить, получив в результате одно значение, объект, метод или пространство имен. Выражение может состоять из литерала, вызова метода, оператора или его операндов, а также из *простого имени*. Простые имена могут быть именами переменной, элемента типа, параметра метода, пространства имен или типа.  
  
 В выражениях могут использоваться операторы, которые, в свою очередь, используют в качестве параметров другие выражения или вызовы методов, параметрами которых являются другие вызовы методов. Таким образом, выражения могут быть как простыми, так и очень сложными. Ниже приведено два примера выражений.  
  
```csharp  
((x < 10) && ( x > 5)) || ((x > 20) && (x < 25));
   
System.Convert.ToInt32("35");  
```  
  
## <a name="expression-values"></a>Значения выражений  
 В большинстве контекстов, в которых используются выражения, например, в операторах или в параметрах методов, предполагается, что результатом вычисления выражения будет какое-то значение. Если x и y — целые числа, результатом вычисления выражения `x + y` будет числовое значение. Результатом вычисления выражения `new MyClass()` будет ссылка на новый экземпляр объекта `MyClass`. Результатом вычисления выражения `myClass.ToString()` является строка, так как она является возвращаемым типом метода. Однако хотя имя пространства имен классифицируется как выражение, значение не будет результатом его вычисления и поэтому никогда не станет конечным результатом какого-либо выражения. Имя пространства имен нельзя передать параметру метода, или использовать его в новом выражении, или присвоить его переменной. Его можно использовать только как часть выражения в более крупном выражении. Это также относится к типам (в отличие от объектов <xref:System.Type?displayProperty=nameWithType>), именам групп методов (в отличие от отдельных методов) и к методам доступа к событиям [add](../../../csharp/language-reference/keywords/add.md) и [remove](../../../csharp/language-reference/keywords/remove.md).  
  
 У каждого значения есть связанный с ним тип. Например, если x и y — переменные типа `int`, значение выражения `x + y` также типизируется как `int`. Если значение присвоено переменной другого типа или x и y принадлежат к разным типам, то применяются правила преобразования типов. Дополнительные сведения о работе таких преобразований см. в разделе [Приведение и преобразование типов](../../../csharp/programming-guide/types/casting-and-type-conversions.md).  
  
## <a name="overflows"></a>Переполнения  
 Числовые выражения могут привести к переполнениям, если значение больше максимального значения типа значения. Дополнительные сведения см. в разделах [Checked и Unchecked](../../../csharp/language-reference/keywords/checked-and-unchecked.md) и [Таблица явных числовых преобразований](../../../csharp/language-reference/keywords/explicit-numeric-conversions-table.md).  
  
## <a name="operator-precedence-and-associativity"></a>Приоритет и ассоциативность операторов  
 Способ вычисления выражения управляется правилами ассоциативности и приоритетом операторов. Дополнительные сведения см. в разделе [Операторы](../../../csharp/programming-guide/statements-expressions-operators/operators.md).  
  
 Большинство выражений, за исключением выражений назначения и выражений вызова метода, должны быть встроены в оператор. Дополнительные сведения см. в разделе [Выписки](../../../csharp/programming-guide/statements-expressions-operators/statements.md).  
  
## <a name="literals-and-simple-names"></a>Литералы и простые имена  
 Двумя наиболее простыми типами выражений являются литералы и простые имена. Литерал представляет собой постоянное значение, у которого нет имени. Например, в следующем примере `5` и `"Hello World"` являются литералами.  
  
 [!code-csharp[csProgGuideStatements#2](../../../csharp/programming-guide/classes-and-structs/codesnippet/CSharp/expressions_1.cs)]  
  
 Дополнительные сведения о литералах см. в разделе [Типы](../../../csharp/language-reference/keywords/types.md).  
  
 В предыдущем примере `i` и `s` являются простыми именами, которые определяют локальные переменные. При использовании таких переменных в выражениях результатом вычисления имени переменной является значение, которое в данное время хранится в расположении переменой в памяти. Это показано в следующем примере:  
  
 [!code-csharp[csProgGuideStatements#3](../../../csharp/programming-guide/classes-and-structs/codesnippet/CSharp/expressions_2.cs)]  
## <a name="invocation-expressions"></a>Выражения вызова  
 В следующем примере кода вызов метода `DoWork` является выражением вызова.  
  
```csharp
DoWork();  
```  
  
 При вызове метода необходимо указать имя метода в явном виде, как было показано в предыдущем примере, или в виде результата другого выражения, после чего в скобках указываются все параметры этого метода. Дополнительные сведения см. в статье [Методы](../../../csharp/programming-guide/classes-and-structs/methods.md). При вызове делегата указывается имя делегата и параметры метода в скобках. Дополнительные сведения см. в разделе [Делегаты](../../../csharp/programming-guide/delegates/index.md). Результатом вызова метода или делегата является возвращаемое методом значение, если метод вообще возвращает значение. В качестве значений в выражениях нельзя использовать методы, возвращающие значение типа void.  

## <a name="query-expressions"></a>Выражения запросов  
 Аналогичные правила в общем случае применяются и к выражениям запроса. Дополнительные сведения см. в разделе [Выражения запросов LINQ](../../../csharp/programming-guide/linq-query-expressions/index.md).  
  
## <a name="lambda-expressions"></a>Лямбда-выражения  
 Лямбда-выражения представляют собой "встроенные методы", у которых нет имен, но которые могут иметь входные параметры и несколько инструкций. Они активно используются в LINQ для передачи аргументов методам. Лямбда-выражения компилируются в делегаты или в деревья выражений в зависимости от условий, при которых они используются. Дополнительные сведения см. в разделе [Лямбда-выражения](../../../csharp/programming-guide/statements-expressions-operators/lambda-expressions.md).  
  
## <a name="expression-trees"></a>Деревья выражений

Деревья выражения позволяют представлять выражения в виде структур данных. Они широко используются поставщиками LINQ для преобразования выражений запросов в код, имеющий смысл в других контекстах, например в базе данных SQL. Дополнительные сведения см. в статье [Деревья выражений (C#)](../concepts/expression-trees/index.md).
  
## <a name="expression-body-definitions"></a>Определения текста выражений

C# поддерживает *элементы, воплощающие выражение*, которые позволяют указать итоговое определение текста выражения, методы, конструкторы, методы завершения, свойства и индексаторы. Дополнительные сведения см. в разделе [Элементы, воплощающие выражение](expression-bodied-members.md).

## <a name="remarks"></a>Примечания  
 Если в выражении присутствует переменная, свойство объекта или индексатор объекта, для вычисления выражения используется значение этого элемента. В C# выражение можно использовать везде, где требуется значение или объект, если результат вычисления выражения соответствует требуемому типу.  

## <a name="see-also"></a>См. также

- [Руководство по программированию на C#](../../../csharp/programming-guide/index.md)  
- [Методы](../../../csharp/programming-guide/classes-and-structs/methods.md)  
- [Делегаты](../../../csharp/programming-guide/delegates/index.md)  
- [Операторы](../../../csharp/programming-guide/statements-expressions-operators/operators.md)  
- [Типы](../../../csharp/programming-guide/types/index.md)  
- [Выражения запросов LINQ](../../../csharp/programming-guide/linq-query-expressions/index.md)
