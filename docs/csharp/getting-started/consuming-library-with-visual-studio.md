---
title: "Использование библиотеки классов для .NET Core в Visual Studio 2017 | Microsoft Docs"
description: "Информация о том, как вызывать члены библиотеки классов в Visual Studio 2017."
keywords: ".NET Core, библиотека классов .NET Core, .NET Standard, дистрибутив библиотеки классов .NET Standard"
author: BillWagner
ms.author: wiwang
ms.date: 04/17/2017
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: d7b94076-1108-4174-94e7-a18f00072bb7
ms.translationtype: Human Translation
ms.sourcegitcommit: 4437ce5d344cf06d30e31911def6287999fc6ffc
ms.openlocfilehash: 5ad07e4116c75eb9b9d513c2a4fe43dfe62660d5
ms.contentlocale: ru-ru
ms.lasthandoff: 05/23/2017

---

<a id="consuming-a-class-library-with-net-core-in-visual-studio-2017" class="xliff"></a>
# Использование библиотеки классов для .NET Core в Visual Studio 2017

Итак, вы уже проделали шаги, описанные в статьях [Создание библиотеки классов с помощью C# и .NET Core в Visual Studio 2017](./library-with-visual-studio.md) и [Тестирование библиотеки классов с помощью .NET Core в Visual Studio 2017](testing-library-with-visual-studio.md), создав и протестировав библиотеку классов. Затем вы создали версию выпуска этой библиотеки, а теперь пора предоставить ее для использования вызывающим объектам. Для этого существуют два способа:

* Если вся библиотека будет использоваться в одном решении (например, она является компонентом крупного приложения), достаточно включить библиотеку в проект этого решения.

* Если же библиотеку нужно сделать общедоступной, ее следует предоставлять как пакет NuGet.

<a id="including-a-library-as-a-project-in-a-solution" class="xliff"></a>
## Включение библиотеки в решение в качестве проекта

Ранее вы включали модульные тесты в решение библиотеки классов. Теперь можно точно так же включить в это решение новое приложение. Например, библиотеку классов можно использовать в консольном приложении, которое будет предлагать пользователю ввести строку и определять, является ли первый символ этой строки символом верхнего регистра:

1. Откройте решение `ClassLibraryProjects`, созданное в рамках статьи [Создание библиотеки классов с помощью C# и .NET Core в Visual Studio 2017](./library-with-visual-studio.md). В **обозревателе решений** щелкните правой кнопкой мыши решение **ClassLibraryProjects** и в контекстном меню выберите **Добавить** > **Новый проект**.

1. В диалоговом окне **Добавление нового проекта** выберите узел **.NET Core**, а затем — шаблон проекта **Консольное приложение (.NET Core)**. В текстовом поле **Имя** введите "ShowCase", а затем нажмите кнопку **ОК**.

   ![Диалоговое окно "Добавление нового проекта"](./media/consuming-library-with-visual-studio/addnewproject.png)

1. В окне **Обозреватель решений** щелкните правой кнопкой мыши проект **ShowCase** и выберите команду **Назначить запускаемым проектом**.

   ![Контекстное меню проекта ShowCase](./media/consuming-library-with-visual-studio/setstartupproject.png)

1. Изначально у этого проекта нет доступа к библиотеке классов. Чтобы позволить приложению вызывать методы из библиотеки классов, создайте ссылку на библиотеку классов. В окне **Обозреватель решений** щелкните правой кнопкой мыши узел **Зависимости** проекта `ShowCase` и выберите команду **Добавить ссылку**.

   ![Контекстное меню "Зависимости" проекта ShowCase](./media/consuming-library-with-visual-studio/addreference.png)

1. В диалоговом окне **Диспетчер ссылок** выберите проект библиотеки классов **StringLibrary**, а затем нажмите кнопку **ОК**.

   ![Диспетчер ссылок](./media/consuming-library-with-visual-studio/referencemanager.png)

1. В окне кода замените весь код файла *Program.cs* следующим текстом:

 [!CODE-csharp[UsingClassLib#1](../../../samples/snippets/csharp/getting_started/with_visual_studio_2017/showcase.cs#1)]

   Этот код использует свойство [Console.WindowHeight](xref:System.Console.WindowHeight), чтобы определить количество строк в окне консоли. Каждый раз, когда значение свойства [Console.CursorTop](xref:System.Console.CursorTop) достигает числа строк в окне консоли, код очищает окно консоли и повторно отображает сообщение для пользователя.

   Сама программа предлагает пользователю ввести строку. Она сообщает, начинается ли строка с символа верхнего регистра. Если пользователь нажимает клавишу ВВОД, не введя никакой строки, приложение завершает свою работу и окно консоли закрывается.

1. При необходимости можно изменить режим на панели инструментов, чтобы скомпилировать **отладочную** версию проекта `ShowCase`. Скомпилируйте и запустите программу, нажав зеленую стрелку на кнопке **ShowCase**.

   ![Изображение](./media/consuming-library-with-visual-studio/toolbar.png)

Чтобы отладить и опубликовать приложение, которое использует эту библиотеку, выполните действия из статей [Отладка приложения Hello World на C# в Visual Studio 2017](debugging-with-visual-studio.md) и [Публикация приложения Hello World в Visual Studio 2017](publishing-with-visual-studio.md).

<a id="distributing-the-library-in-a-nuget-package" class="xliff"></a>
## Распространение библиотеки в виде пакета NuGet

Библиотеку классов можно распространить и для других разработчиков, опубликовав ее в виде пакета NuGet. Visual Studio не поддерживает создание пакетов NuGet. Для создания пакета используйте [служебную программу командной строки](../../core/tools/dotnet.md) `dotnet` следующим образом:

1. Откройте окно консоли. Например, в текстовом поле **Задайте любой вопрос** на панели задач Windows введите `Command Prompt` (или `cmd` для краткости), а затем откройте окно консоли с помощью приложения **командной строки** или клавиши ВВОД, если оно выделено в результатах поиска.

1. Перейдите в каталог с проектом библиотеки. Если вы не меняли расположение файлов, проект размещается в каталоге *Documents\Visual Studio 2017\Projects\ClassLibraryProjects\StringLibrary*. Этот каталог содержит исходный код и файл проекта (*StringLibrary.csproj*).

1. Выполните команду `dotnet pack --no-build`. Служебная программа `dotnet` создаст пакет с расширением *.nupkg*.

   > [!TIP]
   > Если каталог, содержащий *dotnet.exe*, не находится в системном пути, найдите расположение этого файла, введя `where dotnet.exe` в окне консоли.

Дополнительные сведения о создании пакетов NuGet см. в статье [How to Create a NuGet Package with Cross Platform Tools](../../core/deploying/creating-nuget-packages.md) (Создание пакета NuGet с помощью кроссплатформенных средств).

