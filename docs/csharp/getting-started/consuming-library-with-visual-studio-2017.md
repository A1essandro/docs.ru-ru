---
title: "Использование библиотеки классов для .NET Core в Visual Studio 2017"
description: "Информация о том, как вызывать члены библиотеки классов в Visual Studio 2017"
keywords: ".NET core, библиотека классов .NET Core, .NET Standard, дистрибутив библиотеки классов .NET Standard"
author: stevehoag
ms.author: shoag
ms.date: 11/16/2016
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: d7b94076-1108-4174-94e7-a18f00072bb7
translationtype: Human Translation
ms.sourcegitcommit: a06bd2a17f1d6c7308fa6337c866c1ca2e7281c0
ms.openlocfilehash: 0b42eeb0149feec09ddacba98383da3abd53bb5e
ms.lasthandoff: 03/13/2017

---

# <a name="consuming-a-class-library-with-net-core-in-visual-studio-2017"></a>Использование библиотеки классов для .NET Core в Visual Studio 2017 #

Итак, вы уже проделали шаги, описанные в статьях [Building a class library with C# and .NET Core in Visual Studio 2017](./library-with-visual-studio-2017.md) (Создание библиотеки классов с использованием C# и .NET Core в Visual Studio 2017) и [Testing a class library with .NET Core in Visual Studio 2017](testing-library-with-visual-studio.md) (Тестирование библиотеки классов с использованием .NET Core в Visual Studio), создав и протестировав библиотеку классов. Затем вы создали версию выпуска этой библиотеки, а теперь пора предоставить ее для использования вызывающим объектам. Для этого существуют два способа:

- Если вся библиотека будет использоваться в одном решении (например, она является компонентом крупного приложения), достаточно просто включить библиотеку в проект этого решения.

- Если же библиотеку нужно сделать общедоступной, ее следует предоставлять как пакет NuGet.

## <a name="including-a-library-as-a-project-in-a-solution"></a>Включение библиотеки в решение в качестве проекта ##

Ранее мы включили модульные тесты в решение нашей библиотеки классов. Теперь мы можем точно так же включить в это решение новое приложение. Например, давайте создадим на основе этой библиотеки классов консольное приложение, которое будет предлагать пользователю ввести строку и определять, является ли первый символ этой строки символом верхнего регистра:

1. В обозревателе решений откройте решение `ClassLibraryProjects`, которое вы создали в процессе изучения статьи [Building a class library with C# and .NET Core in Visual Studio 2017](./library-with-visual-studio-2017.md) (Создание библиотеки классов с использованием C# и .NET Core в Visual Studio 2017), затем откройте контекстное меню для узла **ClassLibraryProjects** и выберите действие **Добавить**, **Новый проект**.

1. В диалоговом окне **Добавление нового проекта** разверните узлы **Visual C#** и **.NET Core** и выберите шаблон проекта **Консольное приложение (.NET Core)**, как показано на следующем рисунке.

   ![Изображение](./media/use-library.jpg)

1. В текстовом поле **Имя** введите `ShowCase` и нажмите кнопку **ОК**.

1. В обозревателе решений откройте контекстное меню узла проекта **ShowCase** и выберите пункт **Назначить запускаемым проектом**.

1. Изначально у этого проекта нет доступа к нашей библиотеке классов. Чтобы позволить приложению вызывать методы из нашей библиотеки классов, в **обозревателе решений** откройте контекстное меню для узла **Зависимости** в проекте **ShowCase** и выберите **Добавить ссылку**.

1. В диалоговом окне **Диспетчер ссылок** выберите проект нашей библиотеки классов **StringLibrary**, как показано на следующем рисунке, а затем нажмите кнопку **ОК**.

   ![Изображение](./media/add-lib-ref.jpg)

1. В окне кода замените весь код файла 'program.cs' следующим текстом:

 [!CODE-csharp[UsingClassLib#1](../../../samples/snippets/csharp/getting_started/with_visual_studio_2017/showcase.cs#1)]

   Этот код использует свойство [Console.WindowHeight](xref:System.Console.WindowHeight), чтобы определить количество строк в окне консоли. Каждый раз, когда значение свойства [Console.CursorTop](xref:System.Console.CursorTop) достигает числа строк в окне консоли, код очищает окно консоли и повторно отображает сообщение для пользователя.

   Сама программа просто предлагает пользователю ввести строку. Затем он сообщает, начинается ли строка с символа верхнего регистра. Если пользователь нажимает клавишу **ВВОД**, не введя никакой строки, приложение закрывает окно консоли и завершает свою работу.

1. Если хотите, здесь можно изменить режим на панели инструментов, чтобы скомпилировать **отладочную** версию проекта `ShowCase`, как показано на следующем рисунке.

   ![Изображение](./media/showcase-toolbar.jpg)

1. Скомпилируйте и запустите программу, нажав зеленую стрелку на кнопке **ShowCase**.

Чтобы отладить и опубликовать приложение, которое использует эту библиотеку, выполните действия из статей [Отладка приложения Hello World на C# в Visual Studio 2017](debugging-with-visual-studio-2017.md) и [Публикация приложения Hello World в Visual Studio 2017](publishing-with-visual-studio-2017.md).

## <a name="distributing-the-library-in-a-nuget-package"></a>Распространение библиотеки в виде пакета NuGet ##

Библиотеки классов можно распространить и для других разработчиков, опубликовав ее в виде пакета NuGet. Visual Studio не поддерживает создание пакетов NuGet. Для их создания используйте [служебную программу командной строки](../../core/tools/dotnet.md) `dotnet.exe` следующим образом:

1. Откройте окно консоли. Например, в текстовом поле **Задайте любой вопрос** на панели задач Windows введите `Command Prompt`, а затем выберите приложение **командной строки**, чтобы открыть окно консоли.

1. Перейдите в каталог с проектом библиотеки. Если вы не меняли расположение файлов, проект размещается в каталоге `Documents\Visual Studio 2017\Projects\ClassLibraryProjects\StringLibrary`. Этот каталог содержит исходный код и файл проекта (`StringLibrary.csproj`).

1. Выполните команду `dotnet.exe pack --no-build`. Служебная программа `dotnet.exe` создаст пакет с расширением .nupkg.

   > [!TIP]
   > Если каталог, содержащий `dotnet.exe`, не находится в системном пути, найдите расположение этого файла, введя `where dotnet.exe` в окне консоли.

Дополнительные сведения о создании пакетов NuGet см. в статье [How to Create a NuGet Package with Cross Platform Tools](../../core/deploying/creating-nuget-packages.md) (Создание пакета NuGet с помощью кроссплатформенных средств).
