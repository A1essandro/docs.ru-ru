---
title: "Структуры | Руководство по программированию на C#"
description: "Сведения о типах структур и их создании"
keywords: .NET, .NET Core, C#
author: stevehoag
ms.author: shoag
ms.date: 10/12/2016
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: a7094b8c-7229-4b6f-82fc-824d0ea0ec40
translationtype: Human Translation
ms.sourcegitcommit: a06bd2a17f1d6c7308fa6337c866c1ca2e7281c0
ms.openlocfilehash: 1733538c605cb06c7da4d91a6780caa3ea3bec23
ms.lasthandoff: 03/13/2017

---

# <a name="structs"></a>Структуры
Тип *struct* является типом значения. При создании структуры переменная, которой назначена структура, содержит фактические данные структуры. При назначении структуры новой переменной данные копируются. Таким образом, новая переменная и исходная переменная содержат две отдельные копии тех же данных. Изменения, внесенные в одну копию, не влияют на другую.

Переменные типа значения напрямую содержат свои значения, что означает, что память выделяется в любом контексте объявления переменной. Нет раздельного размещения в куче или накладных расходов при сборке мусора для переменных типа значения.  
  
Существует две категории типов значений: [структура](./language-reference/keywords/struct.md) и [перечисление](./language-reference/keywords/enum.md).  
  
Встроенные числовые типы являются структурами и имеют свойства и методы, к которым можно обращаться.  
  
[!code-csharp[Статический метод](../../samples/snippets/csharp/concepts/structs/static-method.cs)]
  
Однако они объявляются и им задаются значения так, как если бы они были простыми нестатистическими типами.  
  
[!code-csharp[Назначение значений](../../samples/snippets/csharp/concepts/structs/assign-value.cs)] 
  
Типы значений являются *запечатанными*, что означает, например, что нельзя наследовать тип от @System.Int32 и нельзя определить структуру для наследования от любого пользовательского класса или структуры, поскольку структура может наследовать только от @System.ValueType. Тем не менее структура может реализовывать один или несколько интерфейсов. Можно выполнить приведение типа структуры к типу интерфейса; это приведет к операции *упаковки-преобразования*, которая создаст программу-оболочку для структуры внутри объекта ссылочного типа в управляемой куче. Операции упаковки-преобразования возникают при передаче типа значения в метод, принимающий @System.Object в качестве входного параметра. Дополнительные сведения см. в разделе [Упаковка-преобразование и распаковка-преобразование](./programming-guide/types/boxing-and-unboxing.md ).  
  
Используйте ключевое слово [struct](./language-reference/keywords/struct.md) для создания собственных пользовательских типов значений. Как правило, структура используется как контейнер для небольшого набора связанных переменных, как показано в следующем примере:  
  
[!code-csharp[Ключевое слово struct](../../samples/snippets/csharp/concepts/structs/struct-keyword.cs)]  
  
Дополнительные сведения о типах значений в .NET Framework см. в разделе [Система общих типов](../standard/common-type-system.md).  
    
Структуры используют большую часть того же синтаксиса, что и классы, однако они более ограничены по сравнению с ними.  
  
-   В объявлении структуры поля не могут быть инициализированы до тех пор, пока они будут объявлены как `const` или `static`.  
  
-   Структура не может объявлять используемый по умолчанию конструктор (конструктор без параметров) или деструктор.  
  
-   Структуры копируются при присваивании. При присваивании структуры к новой переменной выполняется копирование всех данных, а любое изменение новой копии не влияет на данные в исходной копии. Это важно помнить при работе с коллекциями типов значений, такими как Dictionary<string, myStruct>.  
  
-   Структуры являются типами значений, а классы — ссылочными типами.  
  
-   В отличие от классов структуры можно создавать без использования оператора `new`.  
  
-   Структуры могут объявлять конструкторы, имеющие параметры.  
  
-   Структура не может наследовать от другой структуры или класса и не может быть базовой для класса. Все структуры наследуют непосредственно от @System.ValueType, который наследует от @System.Object.  
  
-   Структуры могут реализовывать интерфейсы.

## <a name="literal-values"></a>Литеральные значения  
В C# литеральные значения получают тип от компилятора. Можно указать способ типизации числового литерала, добавив букву в конце числа. Например, чтобы указать, что значение 4,56 должно рассматриваться как значение с плавающей запятой, добавьте "f" или "F" после числа: `4.56f`. Если буква не добавлена, компилятор определит для литерала тип `double`. Дополнительные сведения о том, какие типы могут быть указаны с буквенными суффиксами, см. на страницах справки по отдельным типам в разделе [Типы значений](./language-reference/keywords/value-types.md).  
  
Поскольку литералы являются типизированными и все типы в конечном счете являются производными от @System.Object, можно написать и скомпилировать следующий код:  
  
[!code-csharp[Литеральные значения](../../samples/snippets/csharp/concepts/structs/literals.cs)]

В последних двух примерах показаны функции языка, появившиеся в C# 7.0. В первом примере знак подчеркивания используется как *разделитель цифр* внутри числовых литералов. Его можно помещать в любом месте между цифрами, чтобы повысить удобочитаемость. Он не оказывает влияния на значение.

Во втором примере показаны *двоичные литералы*, которые позволяют напрямую указывать битовые шаблоны, а не использовать шестнадцатеричное представление.

## <a name="nullable-types"></a>Типы, допускающие значения NULL  
Обычные типы значений не могут иметь значение [NULL](./language-reference/keywords/null.md). Тем не менее можно создать типы, допускающие значения NULL, добавив **?** после типа. Например **int?** является типом **int**, который также может иметь значение [NULL](./language-reference/keywords/null.md). В системе общих типов типы, допускающие значения NULL, представляют собой экземпляры универсального типа структуры @System.Nullable% 601. Типы, допускающие значения NULL, особенно полезны при передаче данных в базы данных и из них, где числовые значения могут иметь значение NULL. Дополнительные сведения см. в разделе [Типы, допускающие значение NULL (руководство по программированию на C#) ](./programming-guide/nullable-types/index.md).

## <a name="see-also"></a>См. также
[Классы](classes.md)

[Базовые типы](basic-types.md)
