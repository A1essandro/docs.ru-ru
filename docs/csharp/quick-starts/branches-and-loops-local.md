---
title: "Краткое руководство - ветвей и lops - руководство по C#"
description: "В этом кратком руководстве о ветви и циклы можно написать код C# для изучения синтаксиса языка, поддерживающего условных ветвей и циклов для повторного выполнения инструкции."
author: billwagner
ms.author: wiwagn
ms.date: 10/31/2017
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.custom: mvc
ms.openlocfilehash: 4b077a29cf42072a93b054f50a13a4580ad54304
ms.sourcegitcommit: 43c656811dd38a66a6672084c65d10c0cbbf2015
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/22/2017
---
# <a name="branches-and-loops"></a>Ветви и циклы

В этом кратком руководстве объясняется, как написать код, который проверяет переменные и изменяет путь выполнения, на основе этих переменных. Написать код C# и просмотреть результаты компиляции и выполнения его. Краткое руководство содержит ряд уроков, посвященные ветвления и циклические конструкции в C#. В рамках этих занятий вы ознакомитесь с основами языка C#.

В этом кратком руководстве предполагается, что вы машины, которые можно использовать для разработки приложений. В разделе .NET [приступить к работе в течение 10 минут](https://www.microsoft.com/net/core) содержит инструкции по настройке в локальной среде разработки на Mac, ПК или Linux.

## <a name="make-decisions-using-the-if-statement"></a>Принятия решений с помощью `if` инструкции

Создайте каталог с именем **краткое руководство ветвей**. Откройте этот каталог и выполните команду `dotnet new console -n BranchesAndLoops -o .`. Эта команда создает новое консольное приложение .NET Core в текущем каталоге. 

Откройте **Program.cs** в любом редакторе и замените строку `Console.Writeline("Hello World!");` следующим кодом:

```csharp
int a = 5;
int b = 6;
if (a + b > 10)
    Console.WriteLine("The answer is greater than 10.");
```

Попробуйте использовать этот код, введя `dotnet run` в окне консоли. Должно появиться сообщение «ответ больше, чем 10». Печать в консоль.

Измените объявление `b`, чтобы сумма была меньше 10: 

```csharp
int b = 3;
```

Тип `dotnet run` еще раз. Так как ответ меньше 10, никакие данные не выводятся. Проверяемое **условие** имеет значение false. У вас еще нет кода для выполнения, так как вы написали только одну из возможных ветвей для оператора `if` — ветвь true.

> [!TIP]
> Вероятнее всего, при изучении C# (как и любого другого языка программирования) вы будете допускать ошибки в коде. Компилятор находит и отчетов об ошибках. Внимательно посмотрите на вывод ошибок и кода, вызвавшего ошибку. Ошибка compler обычно может помочь найти проблемы. 

В первом примере показывает возможности `if` и логические значения. Объект *логическое* является переменной, которая может иметь одно из двух значений: `true` или `false`. C# определяет особый тип, `bool` для логические переменные. Оператор `if` проверяет значение `bool`. Если значение `true`, выполняется оператор, следующий после `if`. В противном случае он пропускается. 

Этот процесс проверки условий и выполнения операторов на основе этих условий предоставляет широкие возможности.


## <a name="make-if-and-else-work-together"></a>Объединение операторов if и else

Чтобы выполнить разный код в ветвях true и false, создайте ветвь `else`, которая будет выполняться, если условие имеет значение false. Выберите этот вариант. Добавьте две последние строки в приведенный ниже код к вашей `Main` метод (необходимо иметь первые четыре):

```csharp
int a = 5;
int b = 3;
if (a + b > 10)
    Console.WriteLine("The answer is greater than 10");
else
    Console.WriteLine("The answer is not greater than 10");
```

Оператор после ключевого слова `else` выполняется, только если проверяемое условие имеет значение `false`. Объединение `if` и `else` с логическими операторами условия предоставляет все возможности, необходимо обрабатывать как `true` и `false` условие.

> [!IMPORTANT]
> Отступы под операторами `if` и `else` предназначены только для удобства чтения.
> В языке C# не обязательно ставить отступы или пробелы. Операторы после ключевого слова `if` или `else` будут выполняться на основе условия. Все примеры в этом кратком руководстве выполните распространенная практика отступа строки на основании потока управления инструкций.

Так как отступ не обязателен, используйте скобки `{` и `}`, если нужно указать несколько операторов в блоке кода, который выполняется в зависимости от условий. Программисты C# обычно используют эти фигурные скобки во всех предложениях `if` и `else`. Следующий пример является таким же, как только что созданный. Измените код, перечисленные выше, чтобы совпадал со следующим кодом:

```csharp
int a = 5;
int b = 3;
if (a + b > 10)
{
    Console.WriteLine("The answer is greater than 10");
}
else
{
    Console.WriteLine("The answer is not greater than 10");
}
```

> [!TIP]
> Через rest в этом кратком руководстве, все примеры кода фигурные скобки, после принятия рекомендациям.

Вы можете протестировать более сложных условий. Добавьте следующий код в вашей `Main` метод после кода, который вы написали в данный момент:

```csharp
    int c = 4;
    if ((a + b + c > 10) && (a > b))
{
    Console.WriteLine("The answer is greater than 10");
    Console.WriteLine("And the first number is greater than the second");
}
else
{
    Console.WriteLine("The answer is not greater than 10");
    Console.WriteLine("Or the first number is not greater than the second");
}
```

`&&` представляет оператор and. То есть для выполнения оператора в ветви true оба условия должны иметь значение true.  В этих примерах также показано, что в каждой условной ветви можно задать несколько операторов. Нужно лишь заключить их в скобки `{` и `}`.

Можно также использовать `||` для представления «или». Добавьте следующий код после ваши записи до сих:

```csharp
if ((a + b + c > 10) || (a > b))
{
    Console.WriteLine("The answer is greater than 10");
    Console.WriteLine("Or the first number is greater than the second");
}
else
{
    Console.WriteLine("The answer is not greater than 10");
    Console.WriteLine("And the first number is not greater than the second");
}
```

После завершения первого шага. Прежде чем перейти к следующему разделу, переместим текущий код в отдельный метод. Это упростит начало работы с новым примером. Переименуйте метод `Main` в `ExploreIf` и запишите новый метод `Main`, который вызывает `ExploreIf`. В результате ваш код должен выглядеть примерно следующим образом:

```csharp
using System;

namespace BranchesAndLoops
{
    class Program
    {
        static void ExploreIf()
        {
            int a = 5;
            int b = 3;
            if (a + b > 10)
            {
                Console.WriteLine("The answer is greater than 10");
            }
            else
            {
                Console.WriteLine("The answer is not greater than 10");
            }

            if ((a + b + c > 10) && (a > b))
            {
                Console.WriteLine("The answer is greater than 10");
                Console.WriteLine("And the first number is greater than the second");
            }
            else
            {
                Console.WriteLine("The answer is not greater than 10");
                Console.WriteLine("Or the first number is not greater than the second");
            }

            if ((a + b + c > 10) || (a > b))
            {
                Console.WriteLine("The answer is greater than 10");
                Console.WriteLine("Or the first number is greater than the second");
            }
            else
            {
                Console.WriteLine("The answer is not greater than 10");
                Console.WriteLine("And the first number is not greater than the second");
            }            
        }

        static void Main(string[] args)
        {
            ExploreIf();
        }
    }
}
```

Закомментируйте вызов `ExploreIf()`. Это сделает менее перегружена, при работе в этом разделе выходные данные:

```csharp
//ExploreIf();
```

`//` Запускает **комментарий** в C#. Комментарии — это текст, который требуется сохранить в исходном коде, но не выполнять как код. Компилятор не создает исполняемого кода из комментариев.

## <a name="use-loops-to-repeat-operations"></a>Использование циклов для повторения операций

В этом разделе используется **циклы** повторение инструкции. Попробуйте использовать этот код в вашей `Main` метод:

```csharp
int counter = 0;
while (counter < 10)
{
    Console.WriteLine($"Hello World! The counter is {counter}");
    counter++;
}
```

`while` Оператор проверяет условие и выполняет инструкцию или блок оператора, следующего `while`. Несколько раз, он проверяет условие и выполнения этих инструкций, пока условие равно false.

В этом примере представлен еще один новый оператор. Объект `++` после переменной `counter` представляет собой оператор **инкремента**. Он добавляет 1 к значению `counter` и сохраняет это значение в `counter` переменной.

> [!IMPORTANT]
> Убедитесь, что `while` цикла условие примет значение false, при выполнении кода. В противном случае будет создан **бесконечный цикл**, в котором выполнение программы никогда не закончится. Поскольку выполнение программы, чтобы завершить работу с помощью, не рассматривается в этом образце **CTRL-C** или другим способом.

В цикле `while` условие проверяется, прежде чем выполнить код, который следует после `while`. А в цикле `do` ... `while` сначала выполняется код, а потом проверяется условие. Действия, пока цикл показан в следующем коде:

```csharp
counter = 0;
do
{
    Console.WriteLine($"Hello World! The counter is {counter}");
    counter++;
} while (counter < 10);
```

Это `do` цикл и более ранним `while` цикла создавать такие же выходные данные.

## <a name="work-with-the-for-loop"></a>Работа с циклом for

**Для** цикла обычно используется в C#. Попробуйте использовать этот код в метод Main():

```csharp
for(int index = 0; index < 10; index++)
{
    Console.WriteLine($"Hello World! The index is {index}");
} 
```

Этот цикл работает так же, как циклы `while` и `do`, использованные ранее. Оператор `for` состоит из трех частей, которые отвечают за его работу. 

Первая часть — **для инициализатора**: `for index = 0;` объявляет `index` переменной цикла и задает для ее начальное значение `0`.

Средняя часть — **для условия**: `index < 10` объявляет, что этот цикл `for` продолжает выполняться, пока значение счетчика меньше 10.

Последняя часть — **для итератора**: `index++` определяет, как изменится переменная цикла после выполнения блока, следующего после оператора `for`. В нашем случае определяется, что значение `index` должно увеличиваться на 1 каждый раз, когда выполняется блок.

Попробуйте сделать это самостоятельно. Попытайтесь выполнить следующие задания:

- Измените инициализатор, чтобы цикл начинался с другого значения.
- Измените условие, чтобы цикл заканчивался другим значением.

По окончании попробуйте самостоятельно написать код, чтобы применить полученные знания.

## <a name="combine-branches-and-loops"></a>Объединение ветвей и циклов

Теперь, когда вы ознакомились с оператором `if` и конструкциями цикла на языке C#, попытайтесь написать код C# для поиска суммы всех целых чисел от 1 до 20, которые делятся на 3.  Вот несколько подсказок:

- оператор `%` позволяет получить остаток от операции деления;
- `if` Инструкция дает условие, чтобы увидеть, если число должно быть частью суммы.
- цикл `for` позволяет повторить последовательность шагов для всех чисел от 1 до 20.

Попробуйте самостоятельно. Затем проверьте результат. Вы увидите один возможный ответ по [Просмотр полный код на GitHub](https://github.com/dotnet/docs/tree/master/samples/csharp/branches-quickstart/Program.cs#L46-L54).

После завершения «ветвей и циклы» быстрый запуск.

Можно продолжить [массивы и коллекции](arrays-and-collections.md) быстрый запуск в среде разработки.

Дополнительные сведения об этих понятиях см. в следующих разделах:

[if-else (справочник по C#)](../language-reference/keywords/if-else.md)   
[while (справочник по C#)](../language-reference/keywords/while.md)   
[do (справочник по C#)](../language-reference/keywords/do.md)   
[for (справочник по C#)](../language-reference/keywords/for.md)   
